{"version":3,"file":"app.bbbb8c7355a3e7a0ce5a.js","sources":["webpack:///./public/app/core/utils/datemath.ts","webpack:///./public/app/core/store.js","webpack:///./public/vendor/npm/rxjs/util/root.js","webpack:///./public/app/core/core_module.ts","webpack:///./public/app/core/core.ts","webpack:///./public/app/core/config.js","webpack:///css$","webpack:///./public/vendor/npm/rxjs/util/isFunction.js","webpack:///./public/vendor/npm/rxjs/util/errorObject.js","webpack:///./public/vendor/npm/rxjs/symbol/rxSubscriber.js","webpack:///./public/app/core/utils/emitter.ts","webpack:///./public/app/core/app_events.ts","webpack:///./public/app/core/utils/rangeutil.ts","webpack:///./public/app/features/panel/query_ctrl.ts","webpack:///./public/app/index.ts","webpack:///./public/app/app.ts","webpack:///./public/app/core/directives lazy","webpack:///./public/vendor/filesaver.js","webpack:///./public/app/core/settings.js","webpack:///./public/app/core/directives/annotation_tooltip.js","webpack:///./public/app/core/directives/dash_class.js","webpack:///./public/app/core/directives/confirm_click.js","webpack:///./public/app/core/directives/dash_edit_link.js","webpack:///./public/app/core/directives/dash_upload.js","webpack:///./public/app/core/directives/dropdown_typeahead.js","webpack:///./public/app/core/directives/grafana_version_check.js","webpack:///./public/app/core/directives/metric_segment.js","webpack:///./public/app/core/directives/misc.js","webpack:///./public/app/core/directives/ng_model_on_blur.js","webpack:///./public/app/core/directives/password_strenght.js","webpack:///./public/app/core/directives/spectrum_picker.js","webpack:///./public/app/core/directives/tags.js","webpack:///./public/app/core/directives/value_select_dropdown.js","webpack:///./public/app/core/directives/plugin_component.ts","webpack:///./public/app/plugins/panel/unknown/module.ts","webpack:///./public/app/plugins/sdk.ts","webpack:///./public/app/features/panel/panel_ctrl.ts","webpack:///./public/app/core/directives/rebuild_on_change.ts","webpack:///./public/app/core/directives/give_focus.ts","webpack:///./public/app/core/jquery_extended.js","webpack:///./public/app/core/partials.js","webpack:///./public/app/core/directives/system_panel.ts","webpack:///./public/app/core/directives/service_dep.js","webpack:///./public/app/core/directives/log_tabpane.js","webpack:///./public/app/core/directives/loading.ts","webpack:///./public/app/core/directives/ng_enter.ts","webpack:///./public/app/core/directives/auto_refresh.ts","webpack:///./public/app/core/components/topology_graph.ts","webpack:///./public/app/core/components/guide/guide.ts","webpack:///./public/app/core/components/toolbar/toolbar.ts","webpack:///./public/app/core/components/cwiz_switch.ts","webpack:///./public/app/core/components/tree_menu/tree_menu.ts","webpack:///./public/app/core/components/knowledge_base/knowledgeBase.ts","webpack:///./public/app/core/components/grafana_app.ts","webpack:///./public/app/core/components/info_popover.ts","webpack:///./public/app/core/components/colorpicker.ts","webpack:///./public/app/core/components/navbar/navbar.ts","webpack:///./public/app/core/directives/array_join.ts","webpack:///./public/app/core/live/live_srv.ts","webpack:///./public/vendor/npm/rxjs/Observable.js","webpack:///./public/vendor/npm/rxjs/symbol/observable.js","webpack:///./public/vendor/npm/rxjs/util/toSubscriber.js","webpack:///./public/vendor/npm/rxjs/Subscriber.js","webpack:///./public/vendor/npm/rxjs/Subscription.js","webpack:///./public/vendor/npm/rxjs/util/isArray.js","webpack:///./public/vendor/npm/rxjs/util/isObject.js","webpack:///./public/vendor/npm/rxjs/util/tryCatch.js","webpack:///./public/vendor/npm/rxjs/Observer.js","webpack:///./public/app/core/components/layout_selector/layout_selector.ts","webpack:///./public/app/core/components/switch.ts","webpack:///./public/app/core/components/dashboard_selector.ts","webpack:///./public/app/core/controllers/all.js","webpack:///./public/app/core/controllers/error_ctrl.js","webpack:///./public/app/core/controllers/inspect_ctrl.js","webpack:///./public/app/core/controllers/login_ctrl.js","webpack:///./public/app/core/controllers/invited_ctrl.js","webpack:///./public/app/core/controllers/reset_password_ctrl.js","webpack:///./public/app/core/controllers/json_editor_ctrl.js","webpack:///./public/app/core/controllers/installCtrl.js","webpack:///./public/app/core/controllers/signupFreeCtrl.ts","webpack:///./public/app/core/controllers/systemCtrl.js","webpack:///./public/app/core/controllers/guide_use_ctrl.ts","webpack:///./public/app/core/services/all.js","webpack:///./public/app/core/services/alertMgrSrv.js","webpack:///./public/app/core/services/alert_srv.ts","webpack:///./public/app/core/services/datasource_srv.js","webpack:///./public/app/core/services lazy","webpack:///./public/app/core/services/context_srv.ts","webpack:///./public/app/core/services/timer.js","webpack:///./public/app/core/services/keyboard_manager.js","webpack:///./public/app/core/services/analytics.js","webpack:///./public/app/core/services/popover_srv.ts","webpack:///./public/app/core/services/segment_srv.js","webpack:///./public/app/core/services/backend_srv.js","webpack:///./public/app/core/services/dynamic_directive_srv.ts","webpack:///./public/app/core/services/util_srv.js","webpack:///./public/app/core/services/healthSrv.js","webpack:///./public/app/core/services/integrateSrv.js","webpack:///./public/app/core/services/oncallerMgrSrv.js","webpack:///./public/app/core/services/service_dep_srv.ts","webpack:///./public/app/core/services/host_srv.ts","webpack:///./public/app/core/services/association_srv.ts","webpack:///./public/app/core/services/guide_srv.ts","webpack:///./public/app/core/services/logParseSrv.ts","webpack:///./public/app/core/services/metricSrv.ts","webpack:///./public/app/core/services/report_srv.ts","webpack:///./public/app/core/routes/routes.ts","webpack:///./public/app/core/routes/dashboard_loaders.ts","webpack:///./public/app/core/routes/bundle_loader.ts","webpack:///./public/app/core/routes lazy","webpack:///./public/app/core/filters/filters.ts","webpack:///./public/app/core/utils/colors.ts","webpack:///./public/app/core/i18n/locale_provider.js","webpack:///./public/app/core/utils/kbn.ts"],"sourcesContent":["///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport moment from 'moment';\n\nconst units = ['y', 'M', 'w', 'd', 'h', 'm', 's', 'ms'];\n\nexport function parse(text, roundUp?) {\n  if (!text) { return undefined; }\n  if (moment.isMoment(text)) { return text; }\n  if (_.isDate(text)) { return moment(text); }\n\n  var time;\n  var mathString = '';\n  var index;\n  var parseString;\n\n  if (text.substring(0, 3) === 'now') {\n    time = moment();\n    mathString = text.substring('now'.length);\n  } else {\n    index = text.indexOf('||');\n    if (index === -1) {\n      parseString = text;\n      mathString = ''; // nothing else\n    } else {\n      parseString = text.substring(0, index);\n      mathString = text.substring(index + 2);\n    }\n    // We're going to just require ISO8601 timestamps, k?\n    time = moment(parseString);\n  }\n\n  if (!mathString.length) {\n    return time;\n  }\n\n  return parseDateMath(mathString, time, roundUp);\n}\n\nexport function isValid(text) {\n  var date = parse(text);\n  if (!date) {\n    return false;\n  }\n\n  if (moment.isMoment(date)) {\n    return date.isValid();\n  }\n\n  return false;\n}\n\nexport function parseDateMath(mathString, time, roundUp?) {\n  var dateTime = time;\n  var i = 0;\n  var len = mathString.length;\n\n  while (i < len) {\n    var c = mathString.charAt(i++);\n    var type;\n    var num;\n    var unit;\n\n    if (c === '/') {\n      type = 0;\n    } else if (c === '+') {\n      type = 1;\n    } else if (c === '-') {\n      type = 2;\n    } else {\n      return undefined;\n    }\n\n    if (isNaN(mathString.charAt(i))) {\n      num = 1;\n    } else if (mathString.length === 2) {\n      num = mathString.charAt(i);\n    } else {\n      var numFrom = i;\n      while (!isNaN(mathString.charAt(i))) {\n        i++;\n        if (i > 10) { return undefined; }\n      }\n      num = parseInt(mathString.substring(numFrom, i), 10);\n    }\n\n    if (type === 0) {\n      // rounding is only allowed on whole, single, units (eg M or 1M, not 0.5M or 2M)\n      if (num !== 1) {\n        return undefined;\n      }\n    }\n    unit = mathString.charAt(i++);\n\n    if (!_.contains(units, unit)) {\n      return undefined;\n    } else {\n      if (type === 0) {\n        if (roundUp) {\n          dateTime.endOf(unit);\n        } else {\n          dateTime.startOf(unit);\n        }\n      } else if (type === 1) {\n        dateTime.add(num, unit);\n      } else if (type === 2) {\n        dateTime.subtract(num, unit);\n      }\n    }\n  }\n  return dateTime;\n}\n\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/utils/datemath.ts","define([], function() {\n  'use strict';\n\n  return {\n    get: function(key) {\n      return window.localStorage[key];\n    },\n    set: function(key, value) {\n      window.localStorage[key] = value;\n    },\n    getBool: function(key, def) {\n      if (def !== void 0 && !this.exists(key)) {\n        return def;\n      }\n      return window.localStorage[key] === 'true';\n    },\n    exists: function(key) {\n      return window.localStorage[key] !== void 0;\n    },\n    delete: function(key) {\n      window.localStorage.removeItem(key);\n    }\n\n  };\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/store.js\n// module id = 129\n// module chunks = 2","\"use strict\";\nvar objectTypes = {\n    'boolean': false,\n    'function': true,\n    'object': true,\n    'number': false,\n    'string': false,\n    'undefined': false\n};\nexports.root = (objectTypes[typeof self] && self) || (objectTypes[typeof window] && window);\n/* tslint:disable:no-unused-variable */\nvar freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\nvar freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\nvar freeGlobal = objectTypes[typeof global] && global;\nif (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {\n    exports.root = freeGlobal;\n}\n//# sourceMappingURL=root.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/npm/rxjs/util/root.js\n// module id = 158\n// module chunks = 2","///<reference path=\"../headers/common.d.ts\" />\n\nimport angular from 'angular';\nexport default angular.module('grafana.core', ['ngRoute']);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/core_module.ts","///<reference path=\"../headers/common.d.ts\" />\n///<reference path=\"./mod_defs.d.ts\" />\n\nimport \"./directives/annotation_tooltip\";\nimport \"./directives/dash_class\";\nimport \"./directives/confirm_click\";\nimport \"./directives/dash_edit_link\";\nimport \"./directives/dash_upload\";\nimport \"./directives/dropdown_typeahead\";\nimport \"./directives/grafana_version_check\";\nimport \"./directives/metric_segment\";\nimport \"./directives/misc\";\nimport \"./directives/ng_model_on_blur\";\nimport \"./directives/password_strenght\";\nimport \"./directives/spectrum_picker\";\nimport \"./directives/tags\";\nimport \"./directives/value_select_dropdown\";\nimport \"./directives/plugin_component\";\nimport \"./directives/rebuild_on_change\";\nimport \"./directives/give_focus\";\nimport './jquery_extended';\nimport './partials';\n\n//Cloudwiz\nimport \"./directives/system_panel\";\nimport \"./directives/service_dep\";\nimport \"./directives/log_tabpane\";\nimport {tagPicker} from './directives/tagpicker';\nimport \"./directives/loading\";\nimport \"./directives/ng_enter\";\nimport {autoRefresh} from './directives/auto_refresh';\nimport {topologyGraphDirective} from './components/topology_graph';\nimport {guideDirective} from './components/guide/guide';\nimport {toolbarDirective} from './components/toolbar/toolbar';\nimport {cwizSwitchDirective} from './components/cwiz_switch';\nimport {treeMenu} from './components/tree_menu/tree_menu';\nimport {knowledgeBaseDirective} from './components/knowledge_base/knowledgeBase';\nimport {timeWindowDirective} from './components/time_window/time_window';\n\nimport {grafanaAppDirective} from './components/grafana_app';\nimport {sideMenuDirective} from './components/sidemenu/sidemenu';\nimport {searchDirective} from './components/search/search';\nimport {infoPopover} from './components/info_popover';\nimport {colorPicker} from './components/colorpicker';\nimport {navbarDirective} from './components/navbar/navbar';\nimport {arrayJoin} from './directives/array_join';\nimport {liveSrv} from './live/live_srv';\nimport {Emitter} from './utils/emitter';\nimport {layoutSelector} from './components/layout_selector/layout_selector';\nimport {switchDirective} from './components/switch';\nimport {dashboardSelector} from './components/dashboard_selector';\nimport 'app/core/controllers/all';\nimport 'app/core/services/all';\nimport 'app/core/routes/routes';\nimport './filters/filters';\nimport coreModule from './core_module';\nimport appEvents from './app_events';\nimport colors from './utils/colors';\nimport 'app/core/i18n/locale_provider';\n\nexport {\n  arrayJoin,\n  coreModule,\n  grafanaAppDirective,\n  sideMenuDirective,\n  navbarDirective,\n  searchDirective,\n  colorPicker,\n  liveSrv,\n  layoutSelector,\n  switchDirective,\n  infoPopover,\n  Emitter,\n  appEvents,\n  dashboardSelector,\n  tagPicker,\n  colors,\n  topologyGraphDirective,\n  guideDirective,\n  toolbarDirective,\n  cwizSwitchDirective,\n  treeMenu,\n  knowledgeBaseDirective,\n  timeWindowDirective,\n  autoRefresh,\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/core.ts","define([\n  'app/core/settings',\n],\nfunction (Settings) {\n  \"use strict\";\n\n  var bootData = window.grafanaBootData || { settings: {} };\n  var options = bootData.settings;\n  options.bootData = bootData;\n\n  return new Settings(options);\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/config.js\n// module id = 24\n// module chunks = 2","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 361;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/plugins lazy ^.*!css$\n// module id = 361\n// module chunks = 2","\"use strict\";\nfunction isFunction(x) {\n    return typeof x === 'function';\n}\nexports.isFunction = isFunction;\n//# sourceMappingURL=isFunction.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/npm/rxjs/util/isFunction.js\n// module id = 362\n// module chunks = 2","\"use strict\";\n// typeof any so that it we don't have to cast when comparing a result to the error object\nexports.errorObject = { e: {} };\n//# sourceMappingURL=errorObject.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/npm/rxjs/util/errorObject.js\n// module id = 363\n// module chunks = 2","\"use strict\";\nvar root_1 = require('../util/root');\nvar Symbol = root_1.root.Symbol;\n/**\n * rxSubscriber symbol is a symbol for retrieving an \"Rx safe\" Observer from an object\n * \"Rx safety\" can be defined as an object that has all of the traits of an Rx Subscriber,\n * including the ability to add and remove subscriptions to the subscription chain and\n * guarantees involving event triggering (can't \"next\" after unsubscription, etc).\n */\nexports.$$rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function') ?\n    Symbol.for('rxSubscriber') : '@@rxSubscriber';\n//# sourceMappingURL=rxSubscriber.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/npm/rxjs/symbol/rxSubscriber.js\n// module id = 364\n// module chunks = 2","///<reference path=\"../../headers/common.d.ts\" />\n\nimport EventEmitter from 'eventemitter3';\n\nvar hasOwnProp = {}.hasOwnProperty;\n\nfunction createName(name) {\n    return '$' + name;\n}\n\nexport class Emitter {\n  emitter: any;\n\n  constructor() {\n    this.emitter = new EventEmitter();\n  }\n\n  emit(name, data?) {\n    this.emitter.emit(name, data);\n  }\n\n  on(name, handler, scope?) {\n    this.emitter.on(name, handler);\n\n    if (scope) {\n      scope.$on('$destroy', () => {\n        this.emitter.off(name, handler);\n      });\n    }\n  }\n\n  off(name, handler) {\n    this.emitter.off(name, handler);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/utils/emitter.ts","///<reference path=\"../headers/common.d.ts\" />\n\nimport {Emitter} from './utils/emitter';\n\nvar appEvents = new Emitter();\nexport default appEvents;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/app_events.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport moment from 'moment';\nimport * as dateMath from './datemath';\n\nvar language = (window.localStorage.getItem('CLOUDWIZ_LANG_KEY')) || 'zh_CN'\n\nvar spans = {\n  's': {display: '秒'},\n  'm': {display: '分钟'},\n  'h': {display: '小时'},\n  'd': {display: '天'},\n  'w': {display: '周'},\n  'M': {display: '个月'},\n  'y': {display: '年'},\n};\n\nvar rangeOptions = [\n  { from: 'now/d',    to: 'now/d',    display: '今天',                 section: 2 },\n  { from: 'now/d',    to: 'now',      display: '截至今天',        section: 2 },\n  { from: 'now/w',    to: 'now/w',    display: '今周',                   section: 2 },\n  { from: 'now/w',    to: 'now',      display: '到今周',          section: 2 },\n  { from: 'now/M',    to: 'now/M',    display: '今月',            section: 2 },\n  { from: 'now/y',    to: 'now/y',    display: '今年',             section: 2 },\n\n  { from: 'now-1d/d', to: 'now-1d/d', display: '昨天',             section: 1 },\n  { from: 'now-2d/d', to: 'now-2d/d', display: '截至昨天',  section: 1 },\n  { from: 'now-7d/d', to: 'now-7d/d', display: '上一周的今天',    section: 1 },\n  { from: 'now/w', to: 'now+1w/w', display: '未来一周',         section: 1 },\n  { from: 'now/M', to: 'now+1M/M', display: '未来一月',        section: 1 },\n  { from: 'now/y', to: 'now+1y/y', display: '未来一年',         section: 1 },\n\n  { from: 'now-5m',   to: 'now',      display: '5  分钟之前',        section: 3 },\n  { from: 'now-15m',  to: 'now',      display: '15 分钟之前',       section: 3 },\n  { from: 'now-30m',  to: 'now',      display: '30 分钟之前',       section: 3 },\n  { from: 'now-1h',   to: 'now',      display: '1  小时之前',           section: 3 },\n  { from: 'now-6h',   to: 'now',      display: '6  小时之前',          section: 3 },\n  { from: 'now-12h',  to: 'now',      display: '12 小时之前',         section: 3 },\n  { from: 'now-24h',  to: 'now',      display: '24 小时之前',         section: 3 },\n  { from: 'now-7d',   to: 'now',      display: '7  天之前',           section: 3 },\n\n  { from: 'now-30d',  to: 'now',      display: '30 天之前',          section: 0 },\n  { from: 'now-60d',  to: 'now',      display: '60 天之前',          section: 0 },\n  { from: 'now-90d',  to: 'now',      display: '90 天之前',          section: 0 },\n  { from: 'now-6M',   to: 'now',      display: '6  个月之前',         section: 0 },\n  { from: 'now-1y',   to: 'now',      display: '1  年之前',           section: 0 },\n  { from: 'now-2y',   to: 'now',      display: '2  年之前',          section: 0 },\n  { from: 'now-5y',   to: 'now',      display: '5  年之前',          section: 0 },\n];\n\nvar toText = ' 至 ';\nvar agoText = '之前';\n\nif (language === 'en') {\n  spans = {\n    's': {display: 'second'},\n    'm': {display: 'minute'},\n    'h': {display: 'hour'},\n    'd': {display: 'day'},\n    'w': {display: 'week'},\n    'M': {display: 'month'},\n    'y': {display: 'year'},\n  };\n  rangeOptions = rangeOptions = [\n    { from: 'now/d',    to: 'now/d',    display: 'Today',                 section: 2 },\n    { from: 'now/d',    to: 'now',      display: 'Today so far',          section: 2 },\n    { from: 'now/w',    to: 'now/w',    display: 'This week',             section: 2 },\n    { from: 'now/w',    to: 'now',      display: 'This week so far',           section: 2 },\n    { from: 'now/M',    to: 'now/M',    display: 'This month',            section: 2 },\n    { from: 'now/y',    to: 'now/y',    display: 'This year',             section: 2 },\n\n    { from: 'now-1d/d', to: 'now-1d/d', display: 'Yesterday',             section: 1 },\n    { from: 'now-2d/d', to: 'now-2d/d', display: 'Day before yesterday',  section: 1 },\n    { from: 'now-7d/d', to: 'now-7d/d', display: 'This day last week',    section: 1 },\n    { from: 'now-1w/w', to: 'now-1w/w', display: 'Previous week',         section: 1 },\n    { from: 'now-1M/M', to: 'now-1M/M', display: 'Previous month',        section: 1 },\n    { from: 'now-1y/y', to: 'now-1y/y', display: 'Previous year',         section: 1 },\n\n    { from: 'now-5m',   to: 'now',      display: 'Last 5 minutes',        section: 3 },\n    { from: 'now-15m',  to: 'now',      display: 'Last 15 minutes',       section: 3 },\n    { from: 'now-30m',  to: 'now',      display: 'Last 30 minutes',       section: 3 },\n    { from: 'now-1h',   to: 'now',      display: 'Last 1 hour',           section: 3 },\n    { from: 'now-3h',   to: 'now',      display: 'Last 3 hours',          section: 3 },\n    { from: 'now-6h',   to: 'now',      display: 'Last 6 hours',          section: 3 },\n    { from: 'now-12h',  to: 'now',      display: 'Last 12 hours',         section: 3 },\n    { from: 'now-24h',  to: 'now',      display: 'Last 24 hours',         section: 3 },\n\n    { from: 'now-7d',   to: 'now',      display: 'Last 7 days',           section: 0 },\n    { from: 'now-30d',  to: 'now',      display: 'Last 30 days',          section: 0 },\n    { from: 'now-60d',  to: 'now',      display: 'Last 60 days',          section: 0 },\n    { from: 'now-90d',  to: 'now',      display: 'Last 90 days',          section: 0 },\n    { from: 'now-6M',   to: 'now',      display: 'Last 6 months',         section: 0 },\n    { from: 'now-1y',   to: 'now',      display: 'Last 1 year',           section: 0 },\n    { from: 'now-2y',   to: 'now',      display: 'Last 2 years',          section: 0 },\n    { from: 'now-5y',   to: 'now',      display: 'Last 5 years',          section: 0 },\n  ];\n  toText = ' to ';\n  agoText = 'ago';\n}\n\nvar absoluteFormat = 'MMM D, YYYY HH:mm:ss';\n\nvar rangeIndex = {};\n_.each(rangeOptions, function (frame) {\n  rangeIndex[frame.from + toText + frame.to] = frame;\n});\n\nexport  function getRelativeTimesList(timepickerSettings, currentDisplay) {\n  var groups = _.groupBy(rangeOptions, (option: any) => {\n    option.active = option.display === currentDisplay;\n    return option.section;\n  });\n\n  return groups;\n}\n\nfunction formatDate(date) {\n  return date.format(absoluteFormat);\n}\n\n// handles expressions like\n// 5m\n// 5m to now/d\n// now/d to now\n// now/d\n// if no to <expr> then to now is assumed\nexport function describeTextRange(expr: any) {\n  if (expr.indexOf('now') === -1) {\n    expr = 'now-' + expr;\n  }\n\n  let opt = rangeIndex[expr + ' to now'];\n  if (opt) {\n    return opt;\n  }\n\n  opt = {from: expr, to: 'now'};\n\n  let parts = /^now-(\\d+)(\\w)/.exec(expr);\n  if (parts) {\n    let unit = parts[2];\n    let amount = parseInt(parts[1]);\n    let span = spans[unit];\n    if (span) {\n      opt.display = amount + ' ' + span.display + agoText;\n      opt.section = span.section;\n      // if (amount > 1) {\n      //   opt.display += 's';\n      // }\n    }\n  } else {\n    opt.display = opt.from + toText + opt.to;\n    opt.invalid = true;\n  }\n\n  return opt;\n}\n\nexport function describeTimeRange(range) {\n  var option = rangeIndex[range.from.toString() + toText + range.to.toString()];\n  if (option) {\n    return option.display;\n  }\n\n  if (moment.isMoment(range.from) && moment.isMoment(range.to)) {\n    return formatDate(range.from) + toText + formatDate(range.to);\n  }\n\n  if (moment.isMoment(range.from)) {\n    var toMoment = dateMath.parse(range.to, true);\n    return formatDate(range.from) + toText + toMoment.fromNow();\n  }\n\n  if (moment.isMoment(range.to)) {\n    var from = dateMath.parse(range.from, false);\n    return from.fromNow() + toText + formatDate(range.to);\n  }\n\n  if (range.to.toString() === 'now') {\n    var res = describeTextRange(range.from);\n    return res.display;\n  }\n\n  return range.from.toString() + toText + range.to.toString();\n}\n\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/utils/rangeutil.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport _ from 'lodash';\n\nexport class QueryCtrl {\n  target: any;\n  datasource: any;\n  panelCtrl: any;\n  panel: any;\n  hasRawMode: boolean;\n  error: string;\n\n  constructor(public $scope, private $injector) {\n    this.panel = this.panelCtrl.panel;\n  }\n\n  refresh() {\n    this.panelCtrl.refresh();\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/features/panel/query_ctrl.ts","// (function bootGrafana() {\n//   'use strict';\n\n//   var systemLocate = System.locate;\n//   System.locate = function(load) {\n//     var System = this;\n//     return Promise.resolve(systemLocate.call(this, load)).then(function(address) {\n//       return address + System.cacheBust;\n//     });\n//   };\n//   System.cacheBust = '?bust=' + Date.now();\n\n//   System.import('app/app').then(function(app) {\n//     app.default.init();\n//   }).catch(function(err) {\n//     console.log('Loading app module failed: ', err);\n//   });\n\n// })();\nimport app from './app';\napp.init();\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/index.ts","///<reference path=\"headers/common.d.ts\" />\n\nimport 'babel-polyfill';\nimport 'file-saver';\nimport 'lodash';\nimport 'jquery';\nimport 'angular';\nimport 'angular-route';\nimport 'angular-sanitize';\nimport 'angular-native-dragdrop';\nimport 'angular-bindonce';\n\nimport 'bootstrap';\nimport 'vendor/filesaver';\nimport 'lodash-src';\nimport 'angular-strap';\nimport 'angular-ui';\nimport 'ui.calendar';\n\nimport 'angular-strap.tpl';\nimport 'angular-strap-old';\n\nimport 'jsPlumbToolkit';\n\nimport 'ng-quill';\nimport 'ng-table';\n\nimport $ from 'jquery';\nimport angular from 'angular';\nimport config from 'app/core/config';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport {coreModule} from './core/core';\n\nexport class GrafanaApp {\n  registerFunctions: any;\n  ngModuleDependencies: any[];\n  preBootModules: any[];\n\n  constructor() {\n    this.preBootModules = [];\n    this.registerFunctions = {};\n    this.ngModuleDependencies = [];\n  }\n\n  useModule(module) {\n    if (this.preBootModules) {\n      this.preBootModules.push(module);\n    } else {\n      _.extend(module, this.registerFunctions);\n    }\n    this.ngModuleDependencies.push(module.name);\n    return module;\n  }\n\n  init() {\n    var app = angular.module('grafana', ['mgcrea.ngStrap', 'ngAnimate', 'ngTable', 'cloudwiz.translate']);\n    app.constant('grafanaVersion', \"@grafanaVersion@\");\n\n    console.log(config.bootData.user.locale);\n    moment.locale(config.bootData.user.locale);\n\n    app.config(['$translateProvider', ($translateProvider) => {\n      $translateProvider.useStaticFilesLoader({\n        prefix: 'public/app/core/i18n/',\n        suffix: '.json'\n      });\n      $translateProvider.determinePreferredLanguage().fallbackLanguage('zh_CN');\n      $translateProvider.useLocalStorage();\n    }]);\n\n    app.config(($locationProvider, $controllerProvider, $compileProvider, $filterProvider, $provide) => {\n      //$compileProvider.debugInfoEnabled(false);\n      $compileProvider.aHrefSanitizationWhitelist(/^\\s*(https?|ftp|mailto|data|chrome-extension|javascript):/);\n\n      this.registerFunctions.controller = $controllerProvider.register;\n      this.registerFunctions.directive  = $compileProvider.directive;\n      this.registerFunctions.factory    = $provide.factory;\n      this.registerFunctions.service    = $provide.service;\n      this.registerFunctions.filter     = $filterProvider.register;\n\n      $provide.decorator(\"$http\", [\"$delegate\", \"$templateCache\", function($delegate, $templateCache) {\n        var get = $delegate.get;\n        $delegate.get = function(url, config) {\n          if (url.match(/\\.html$/)) {\n            // some template's already exist in the cache\n            if (!$templateCache.get(url)) {\n              url += \"?v=\" + new Date().getTime();\n            }\n          }\n          return get(url, config);\n        };\n        return $delegate;\n      }]);\n    });\n\n    this.ngModuleDependencies = [\n      'grafana.core',\n      'ngRoute',\n      'ngSanitize',\n      '$strap.directives',\n      'ang-drag-drop',\n      'grafana',\n      'pasvaz.bindonce',\n      'ui.bootstrap',\n      'ui.bootstrap.tpls',\n      'ui.calendar',\n      'ngQuill'\n    ];\n\n    var module_types = ['controllers', 'directives', 'factories', 'services', 'filters', 'routes'];\n\n    _.each(module_types, type => {\n      var moduleName = 'grafana.' + type;\n      this.useModule(angular.module(moduleName, []));\n    });\n\n    // makes it possible to add dynamic stuff\n    this.useModule(coreModule);\n\n    var preBootRequires = [System.import('app/features/all')];\n\n    Promise.all(preBootRequires).then(() => {\n      // disable tool tip animation\n      $.fn.tooltip.defaults.animation = false;\n      // bootstrap the app\n      angular.bootstrap(document, this.ngModuleDependencies).invoke(() => {\n        _.each(this.preBootModules, module => {\n          _.extend(module, this.registerFunctions);\n        });\n\n        this.preBootModules = null;\n      });\n    }).catch(function(err) {\n      console.log('Application boot failed:', err);\n    });\n  }\n}\n\nexport default new GrafanaApp();\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/app.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 63;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/directives lazy\n// module id = 63\n// module chunks = 2","/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 2013-01-23\n *\n * By Eli Grey, http://eligrey.com\n * License: X11/MIT\n *   See LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, regexp: true, confusion: true, es5: true, vars: true, white: true,\n  plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs\n  || (navigator.msSaveOrOpenBlob && navigator.msSaveOrOpenBlob.bind(navigator))\n  || (function(view) {\n  \"use strict\";\n  var\n      doc = view.document\n      // only get URL when necessary in case BlobBuilder.js hasn't overridden it yet\n    , get_URL = function() {\n      return view.URL || view.webkitURL || view;\n    }\n    , URL = view.URL || view.webkitURL || view\n    , save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n    , can_use_save_link =  !view.externalHost && \"download\" in save_link\n    , click = function(node) {\n      var event = doc.createEvent(\"MouseEvents\");\n      event.initMouseEvent(\n        \"click\", true, false, view, 0, 0, 0, 0, 0\n        , false, false, false, false, 0, null\n      );\n      node.dispatchEvent(event);\n    }\n    , webkit_req_fs = view.webkitRequestFileSystem\n    , req_fs = view.requestFileSystem || webkit_req_fs || view.mozRequestFileSystem\n    , throw_outside = function (ex) {\n      (view.setImmediate || view.setTimeout)(function() {\n        throw ex;\n      }, 0);\n    }\n    , force_saveable_type = \"application/octet-stream\"\n    , fs_min_size = 0\n    , deletion_queue = []\n    , process_deletion_queue = function() {\n      var i = deletion_queue.length;\n      while (i--) {\n        var file = deletion_queue[i];\n        if (typeof file === \"string\") { // file is an object URL\n          URL.revokeObjectURL(file);\n        } else { // file is a File\n          file.remove();\n        }\n      }\n      deletion_queue.length = 0; // clear queue\n    }\n    , dispatch = function(filesaver, event_types, event) {\n      event_types = [].concat(event_types);\n      var i = event_types.length;\n      while (i--) {\n        var listener = filesaver[\"on\" + event_types[i]];\n        if (typeof listener === \"function\") {\n          try {\n            listener.call(filesaver, event || filesaver);\n          } catch (ex) {\n            throw_outside(ex);\n          }\n        }\n      }\n    }\n    , FileSaver = function(blob, name) {\n      // First try a.download, then web filesystem, then object URLs\n      var\n          filesaver = this\n        , type = blob.type\n        , blob_changed = false\n        , object_url\n        , target_view\n        , get_object_url = function() {\n          var object_url = get_URL().createObjectURL(blob);\n          deletion_queue.push(object_url);\n          return object_url;\n        }\n        , dispatch_all = function() {\n          dispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n        }\n        // on any filesys errors revert to saving with object URLs\n        , fs_error = function() {\n          // don't create more object URLs than needed\n          if (blob_changed || !object_url) {\n            object_url = get_object_url(blob);\n          }\n          if (target_view) {\n            target_view.location.href = object_url;\n          } else {\n                        window.open(object_url, \"_blank\");\n                    }\n          filesaver.readyState = filesaver.DONE;\n          dispatch_all();\n        }\n        , abortable = function(func) {\n          return function() {\n            if (filesaver.readyState !== filesaver.DONE) {\n              return func.apply(this, arguments);\n            }\n          };\n        }\n        , create_if_not_found = {create: true, exclusive: false}\n        , slice\n      ;\n      filesaver.readyState = filesaver.INIT;\n      if (!name) {\n        name = \"download\";\n      }\n      if (can_use_save_link) {\n        object_url = get_object_url(blob);\n        save_link.href = object_url;\n        save_link.download = name;\n        click(save_link);\n        filesaver.readyState = filesaver.DONE;\n        dispatch_all();\n        return;\n      }\n      // Object and web filesystem URLs have a problem saving in Google Chrome when\n      // viewed in a tab, so I force save with application/octet-stream\n      // http://code.google.com/p/chromium/issues/detail?id=91158\n      if (view.chrome && type && type !== force_saveable_type) {\n        slice = blob.slice || blob.webkitSlice;\n        blob = slice.call(blob, 0, blob.size, force_saveable_type);\n        blob_changed = true;\n      }\n      // Since I can't be sure that the guessed media type will trigger a download\n      // in WebKit, I append .download to the filename.\n      // https://bugs.webkit.org/show_bug.cgi?id=65440\n      if (webkit_req_fs && name !== \"download\") {\n        name += \".download\";\n      }\n      if (type === force_saveable_type || webkit_req_fs) {\n        target_view = view;\n      }\n      if (!req_fs) {\n        fs_error();\n        return;\n      }\n      fs_min_size += blob.size;\n      req_fs(view.TEMPORARY, fs_min_size, abortable(function(fs) {\n        fs.root.getDirectory(\"saved\", create_if_not_found, abortable(function(dir) {\n          var save = function() {\n            dir.getFile(name, create_if_not_found, abortable(function(file) {\n              file.createWriter(abortable(function(writer) {\n                writer.onwriteend = function(event) {\n                  target_view.location.href = file.toURL();\n                  deletion_queue.push(file);\n                  filesaver.readyState = filesaver.DONE;\n                  dispatch(filesaver, \"writeend\", event);\n                };\n                writer.onerror = function() {\n                  var error = writer.error;\n                  if (error.code !== error.ABORT_ERR) {\n                    fs_error();\n                  }\n                };\n                \"writestart progress write abort\".split(\" \").forEach(function(event) {\n                  writer[\"on\" + event] = filesaver[\"on\" + event];\n                });\n                writer.write(blob);\n                filesaver.abort = function() {\n                  writer.abort();\n                  filesaver.readyState = filesaver.DONE;\n                };\n                filesaver.readyState = filesaver.WRITING;\n              }), fs_error);\n            }), fs_error);\n          };\n          dir.getFile(name, {create: false}, abortable(function(file) {\n            // delete file if it already exists\n            file.remove();\n            save();\n          }), abortable(function(ex) {\n            if (ex.code === ex.NOT_FOUND_ERR) {\n              save();\n            } else {\n              fs_error();\n            }\n          }));\n        }), fs_error);\n      }), fs_error);\n    }\n    , FS_proto = FileSaver.prototype\n    , saveAs = function(blob, name) {\n      return new FileSaver(blob, name);\n    }\n  ;\n  FS_proto.abort = function() {\n    var filesaver = this;\n    filesaver.readyState = filesaver.DONE;\n    dispatch(filesaver, \"abort\");\n  };\n  FS_proto.readyState = FS_proto.INIT = 0;\n  FS_proto.WRITING = 1;\n  FS_proto.DONE = 2;\n\n  FS_proto.error =\n  FS_proto.onwritestart =\n  FS_proto.onprogress =\n  FS_proto.onwrite =\n  FS_proto.onabort =\n  FS_proto.onerror =\n  FS_proto.onwriteend =\n    null;\n\n  view.addEventListener(\"unload\", process_deletion_queue, false);\n  return saveAs;\n}(self));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/filesaver.js\n// module id = 667\n// module chunks = 2","define([\n  'lodash',\n],\nfunction (_) {\n  \"use strict\";\n\n  return function Settings (options) {\n    var defaults = {\n      datasources                   : {},\n      window_title_prefix           : 'Cloudwiz 智能运维分析 - ',\n      panels                        : {},\n      new_panel_title: 'Panel Title',\n      playlist_timespan: \"1m\",\n      unsaved_changes_warning: true,\n      appSubUrl: \"\"\n    };\n\n    return _.extend({}, defaults, options);\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/settings.js\n// module id = 668\n// module chunks = 2","define([\n  'jquery',\n  'lodash',\n  '../core_module',\n],\nfunction ($, _, coreModule) {\n  'use strict';\n\n  coreModule.default.directive('annotationTooltip', function($sanitize, dashboardSrv, $compile) {\n\n    function sanitizeString(str) {\n      try {\n        return $sanitize(str);\n      }\n      catch(err) {\n        console.log('Could not sanitize annotation string, html escaping instead');\n        return _.escape(str);\n      }\n    }\n\n    return {\n      link: function (scope, element) {\n        var event = scope.event;\n        var title = sanitizeString(event.title);\n        var dashboard = dashboardSrv.getCurrent();\n        var time = '<i>' + dashboard.formatDate(event.min) + '</i>';\n\n        var tooltip = '<div class=\"graph-annotation\">';\n        tooltip += '<div class=\"graph-annotation-title\">' + title + \"</div>\";\n\n        if (event.text) {\n          var text = sanitizeString(event.text);\n          tooltip += text.replace(/\\n/g, '<br>') + '<br>';\n        }\n\n        var tags = event.tags;\n        if (_.isString(event.tags)) {\n          tags = event.tags.split(',');\n          if (tags.length === 1) {\n            tags = event.tags.split(' ');\n          }\n        }\n\n        if (tags && tags.length) {\n          scope.tags = tags;\n          tooltip += '<span class=\"label label-tag small\" ng-repeat=\"tag in tags\" tag-color-from-name=\"tag\">{{tag}}</span><br/>';\n        }\n\n        tooltip += '<div class=\"graph-annotation-time\">' + time + '</div>' ;\n        tooltip += \"</div>\";\n\n        var $tooltip = $(tooltip);\n        $tooltip.appendTo(element);\n\n        $compile(element.contents())(scope);\n      }\n    };\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/directives/annotation_tooltip.js\n// module id = 670\n// module chunks = 2","define([\n  'lodash',\n  'jquery',\n  '../core_module',\n],\nfunction (_, $, coreModule) {\n  'use strict';\n\n  coreModule.default.directive('dashClass', function() {\n    return {\n      link: function($scope, elem) {\n\n        var lastHideControlsVal;\n\n        $scope.onAppEvent('panel-fullscreen-enter', function() {\n          elem.toggleClass('panel-in-fullscreen', true);\n        });\n\n        $scope.onAppEvent('panel-fullscreen-exit', function() {\n          elem.toggleClass('panel-in-fullscreen', false);\n        });\n\n        $scope.$watch('dashboard.hideControls', function() {\n          if (!$scope.dashboard) {\n            return;\n          }\n\n          var hideControls = $scope.dashboard.hideControls || $scope.playlist_active;\n\n          if (lastHideControlsVal !== hideControls) {\n            elem.toggleClass('hide-controls', hideControls);\n            lastHideControlsVal = hideControls;\n          }\n        });\n\n        $scope.$watch('playlistSrv', function(newValue) {\n          elem.toggleClass('playlist-active', _.isObject(newValue));\n        });\n      }\n    };\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/directives/dash_class.js\n// module id = 671\n// module chunks = 2","define([\n  '../core_module',\n],\nfunction (coreModule) {\n  'use strict';\n\n  coreModule.default.directive('confirmClick', function() {\n    return {\n      restrict: 'A',\n      link: function(scope, elem, attrs) {\n        elem.bind('click', function() {\n          var message = attrs.confirmation || \"Are you sure you want to do that?\";\n          if (window.confirm(message)) {\n            var action = attrs.confirmClick;\n            if (action) {\n              scope.$apply(scope.$eval(action));\n            }\n          }\n        });\n      },\n    };\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/directives/confirm_click.js\n// module id = 672\n// module chunks = 2","define([\n  'jquery',\n  '../core_module',\n],\nfunction ($, coreModule) {\n  'use strict';\n\n  var editViewMap = {\n    'settings':    { src: 'public/app/features/dashboard/partials/settings.html', title: \"Settings\" },\n    'annotations': { src: 'public/app/features/annotations/partials/editor.html', title: \"Annotations\" },\n    'templating':  { src: 'public/app/features/templating/partials/editor.html', title: \"Templating\" }\n  };\n\n  coreModule.default.directive('dashEditorLink', function($timeout) {\n    return {\n      restrict: 'A',\n      link: function(scope, elem, attrs) {\n        var partial = attrs.dashEditorLink;\n\n        elem.bind('click',function() {\n          $timeout(function() {\n            var editorScope = attrs.editorScope === 'isolated' ? null : scope;\n            scope.appEvent('show-dash-editor', { src: partial, scope: editorScope });\n          });\n        });\n      }\n    };\n  });\n\n  coreModule.default.directive('dashEditorView', function($compile, $location) {\n    return {\n      restrict: 'A',\n      link: function(scope, elem) {\n        var editorScope;\n        var lastEditor;\n\n        function hideEditorPane() {\n          if (editorScope) {\n            scope.appEvent('dash-editor-hidden', lastEditor);\n            editorScope.dismiss();\n          }\n        }\n\n        function showEditorPane(evt, payload, editview) {\n          if (editview) {\n            scope.contextSrv.editview = editViewMap[editview];\n            payload.src = scope.contextSrv.editview.src;\n          }\n\n          if (lastEditor === payload.src) {\n            hideEditorPane();\n            return;\n          }\n\n          hideEditorPane();\n\n          lastEditor = payload.src;\n          editorScope = payload.scope ? payload.scope.$new() : scope.$new();\n\n          editorScope.dismiss = function() {\n            editorScope.$destroy();\n            elem.empty();\n            lastEditor = null;\n            editorScope = null;\n\n            if (editview) {\n              var urlParams = $location.search();\n              if (editview === urlParams.editview) {\n                delete urlParams.editview;\n                $location.search(urlParams);\n              }\n            }\n          };\n\n          var src = \"'\" + payload.src + \"'\";\n          var view = $('<div class=\"tabbed-view\" ng-include=\"' + src + '\"></div>');\n\n          elem.append(view);\n          $compile(elem.contents())(editorScope);\n        }\n\n        scope.$watch(\"dashboardViewState.state.editview\", function(newValue, oldValue) {\n          if (newValue) {\n            showEditorPane(null, {}, newValue);\n          } else if (oldValue) {\n            scope.contextSrv.editview = null;\n            if (lastEditor === editViewMap[oldValue]) {\n              hideEditorPane();\n            }\n          }\n        });\n\n        scope.contextSrv.editview = null;\n        scope.$on(\"$destroy\", hideEditorPane);\n        scope.onAppEvent('hide-dash-editor', hideEditorPane);\n        scope.onAppEvent('show-dash-editor', showEditorPane);\n      }\n    };\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/directives/dash_edit_link.js\n// module id = 673\n// module chunks = 2","define([\n  '../core_module',\n  'app/core/utils/kbn',\n],\nfunction (coreModule, kbn) {\n  'use strict';\n\n  kbn = kbn.default;\n\n  coreModule.default.directive('dashUpload', function(timer, alertSrv, $location) {\n    return {\n      restrict: 'A',\n      link: function(scope) {\n        function file_selected(evt) {\n          var files = evt.target.files; // FileList object\n          var readerOnload = function() {\n            return function(e) {\n              scope.$apply(function() {\n                try {\n                  window.grafanaImportDashboard = JSON.parse(e.target.result);\n                } catch (err) {\n                  console.log(err);\n                  scope.appEvent('alert-error', ['导入 失败', 'JSON -> JS Serialization failed: ' + err.message]);\n                  return;\n                }\n                var title = kbn.slugifyForUrl(window.grafanaImportDashboard.title);\n                title += new Date().getTime();\n                window.grafanaImportDashboard.id = null;\n                $location.path('/dashboard-import/' + title);\n              });\n            };\n          };\n          for (var i = 0, f; f = files[i]; i++) {\n            var reader = new FileReader();\n            reader.onload = (readerOnload)(f);\n            reader.readAsText(f);\n          }\n        }\n        // Check for the various File API support.\n        if (window.File && window.FileReader && window.FileList && window.Blob) {\n          // Something\n          document.getElementById('dashupload').addEventListener('change', file_selected, false);\n        } else {\n          alertSrv.set('非常抱歉','上传失败, 您的浏览器版本过低,请换最新的谷歌浏览器/火狐浏览器','error');\n        }\n      }\n    };\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/directives/dash_upload.js\n// module id = 674\n// module chunks = 2","define([\n  'lodash',\n  'jquery',\n  '../core_module',\n],\nfunction (_, $, coreModule) {\n  'use strict';\n\n  coreModule.default.directive('dropdownTypeahead', function($compile) {\n\n    var inputTemplate = '<input type=\"text\"'+\n      ' class=\"gf-form-input input-medium tight-form-input\"' +\n      ' spellcheck=\"false\" style=\"display:none\"></input>';\n\n    var buttonTemplate = '<a  class=\"gf-form-label tight-form-func dropdown-toggle\"' +\n      ' tabindex=\"1\" gf-dropdown=\"menuItems\" data-toggle=\"dropdown\"' +\n      ' data-placement=\"top\"><i class=\"fa fa-plus\"></i></a>';\n\n    return {\n      scope: {\n        menuItems: \"=dropdownTypeahead\",\n        dropdownTypeaheadOnSelect: \"&dropdownTypeaheadOnSelect\",\n        model: '=ngModel'\n      },\n      link: function($scope, elem, attrs) {\n        var $input = $(inputTemplate);\n        var $button = $(buttonTemplate);\n        $input.appendTo(elem);\n        $button.appendTo(elem);\n\n        if (attrs.linkText) {\n          $button.html(attrs.linkText);\n        }\n\n        if (attrs.ngModel) {\n          $scope.$watch('model', function(newValue) {\n            _.each($scope.menuItems, function(item) {\n              _.each(item.submenu, function(subItem) {\n                if (subItem.value === newValue) {\n                  $button.html(subItem.text);\n                }\n              });\n            });\n          });\n        }\n\n        var typeaheadValues = _.reduce($scope.menuItems, function(memo, value, index) {\n          if (!value.submenu) {\n            value.click = 'menuItemSelected(' + index + ')';\n            memo.push(value.text);\n          } else {\n            _.each(value.submenu, function(item, subIndex) {\n              item.click = 'menuItemSelected(' + index + ',' + subIndex + ')';\n              memo.push(value.text + ' ' + item.text);\n            });\n          }\n          return memo;\n        }, []);\n\n        $scope.menuItemSelected = function(index, subIndex) {\n          var menuItem = $scope.menuItems[index];\n          var payload = {$item: menuItem};\n          if (menuItem.submenu && subIndex !== void 0) {\n            payload.$subItem = menuItem.submenu[subIndex];\n          }\n          $scope.dropdownTypeaheadOnSelect(payload);\n        };\n\n        $input.attr('data-provide', 'typeahead');\n        $input.typeahead({\n          source: typeaheadValues,\n          minLength: 1,\n          items: 10,\n          updater: function (value) {\n            var result = {};\n            _.each($scope.menuItems, function(menuItem) {\n              _.each(menuItem.submenu, function(submenuItem) {\n                if (value === (menuItem.text + ' ' + submenuItem.text)) {\n                  result.$subItem = submenuItem;\n                  result.$item = menuItem;\n                }\n              });\n            });\n\n            if (result.$item) {\n              $scope.$apply(function() {\n                $scope.dropdownTypeaheadOnSelect(result);\n              });\n            }\n\n            $input.trigger('blur');\n            return '';\n          }\n        });\n\n        $button.click(function() {\n          $button.hide();\n          $input.show();\n          $input.focus();\n        });\n\n        $input.keyup(function() {\n          elem.toggleClass('open', $input.val() === '');\n        });\n\n        $input.blur(function() {\n          $input.hide();\n          $input.val('');\n          $button.show();\n          $button.focus();\n          // clicking the function dropdown menu wont\n          // work if you remove class at once\n          setTimeout(function() {\n            elem.removeClass('open');\n          }, 200);\n        });\n\n        $compile(elem.contents())($scope);\n      }\n    };\n  });\n\n  coreModule.default.directive('dropdownTypeahead2', function($compile) {\n\n    var inputTemplate = '<input type=\"text\"'+\n      ' class=\"gf-form-input\"' +\n      ' spellcheck=\"false\" style=\"display:none\"></input>';\n\n    var buttonTemplate = '<a class=\"gf-form-input dropdown-toggle\"' +\n      ' tabindex=\"1\" gf-dropdown=\"menuItems\" data-toggle=\"dropdown\"' +\n      ' data-placement=\"top\"><i class=\"fa fa-plus\"></i></a>';\n\n    return {\n      scope: {\n        menuItems: \"=dropdownTypeahead2\",\n        dropdownTypeaheadOnSelect: \"&dropdownTypeaheadOnSelect\",\n        model: '=ngModel'\n      },\n      link: function($scope, elem, attrs) {\n        var $input = $(inputTemplate);\n        var $button = $(buttonTemplate);\n        $input.appendTo(elem);\n        $button.appendTo(elem);\n\n        if (attrs.linkText) {\n          $button.html(attrs.linkText);\n        }\n\n        if (attrs.ngModel) {\n          $scope.$watch('model', function(newValue) {\n            _.each($scope.menuItems, function(item) {\n              _.each(item.submenu, function(subItem) {\n                if (subItem.value === newValue) {\n                  $button.html(subItem.text);\n                }\n              });\n            });\n          });\n        }\n\n        var typeaheadValues = _.reduce($scope.menuItems, function(memo, value, index) {\n          if (!value.submenu) {\n            value.click = 'menuItemSelected(' + index + ')';\n            memo.push(value.text);\n          } else {\n            _.each(value.submenu, function(item, subIndex) {\n              item.click = 'menuItemSelected(' + index + ',' + subIndex + ')';\n              memo.push(value.text + ' ' + item.text);\n            });\n          }\n          return memo;\n        }, []);\n\n        $scope.menuItemSelected = function(index, subIndex) {\n          var menuItem = $scope.menuItems[index];\n          var payload = {$item: menuItem};\n          if (menuItem.submenu && subIndex !== void 0) {\n            payload.$subItem = menuItem.submenu[subIndex];\n          }\n          $scope.dropdownTypeaheadOnSelect(payload);\n        };\n\n        $input.attr('data-provide', 'typeahead');\n        $input.typeahead({\n          source: typeaheadValues,\n          minLength: 1,\n          items: 10,\n          updater: function (value) {\n            var result = {};\n            _.each($scope.menuItems, function(menuItem) {\n              _.each(menuItem.submenu, function(submenuItem) {\n                if (value === (menuItem.text + ' ' + submenuItem.text)) {\n                  result.$subItem = submenuItem;\n                  result.$item = menuItem;\n                }\n              });\n            });\n\n            if (result.$item) {\n              $scope.$apply(function() {\n                $scope.dropdownTypeaheadOnSelect(result);\n              });\n            }\n\n            $input.trigger('blur');\n            return '';\n          }\n        });\n\n        $button.click(function() {\n          $button.hide();\n          $input.show();\n          $input.focus();\n        });\n\n        $input.keyup(function() {\n          elem.toggleClass('open', $input.val() === '');\n        });\n\n        $input.blur(function() {\n          $input.hide();\n          $input.val('');\n          $button.show();\n          $button.focus();\n          // clicking the function dropdown menu wont\n          // work if you remove class at once\n          setTimeout(function() {\n            elem.removeClass('open');\n          }, 200);\n        });\n\n        $compile(elem.contents())($scope);\n      }\n    };\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/directives/dropdown_typeahead.js\n// module id = 675\n// module chunks = 2","define([\n  '../core_module',\n],\nfunction (coreModule) {\n  'use strict';\n\n  coreModule.default.directive('grafanaVersionCheck', function($http, contextSrv) {\n    return {\n      restrict: 'A',\n      link: function(scope, elem) {\n        if (contextSrv.version === 'master') {\n          return;\n        }\n\n        $http({ method: 'GET', url: 'https://grafanarel.s3.amazonaws.com/latest.json' })\n        .then(function(response) {\n          if (!response.data || !response.data.version) {\n            return;\n          }\n\n          if (contextSrv.version !== response.data.version) {\n            elem.append('<i class=\"icon-info-sign\"></i> ' +\n                        '<a href=\"http://grafana.org/download\" target=\"_blank\"> ' +\n            'New version available: ' + response.data.version +\n              '</a>');\n          }\n        });\n      }\n    };\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/directives/grafana_version_check.js\n// module id = 676\n// module chunks = 2","define([\n  'lodash',\n  'jquery',\n  '../core_module',\n],\nfunction (_, $, coreModule) {\n  'use strict';\n\n  coreModule.default.directive('metricSegment', function($compile, $sce) {\n    var inputTemplate = '<input type=\"text\" data-provide=\"typeahead\" ' +\n      ' class=\"gf-form-input input-medium\"' +\n      ' spellcheck=\"false\" style=\"display:none\"></input>';\n\n    var linkTemplate = '<a class=\"gf-form-label\" ng-class=\"segment.cssClass\" ' +\n      'tabindex=\"1\" give-focus=\"segment.focus\" ng-bind-html=\"segment.html\"></a>';\n\n    var selectTemplate = '<a class=\"gf-form-input gf-form-input--dropdown\" ng-class=\"segment.cssClass\" ' +\n      'tabindex=\"1\" give-focus=\"segment.focus\" ng-bind-html=\"segment.html\"></a>';\n\n    return {\n      scope: {\n        segment: \"=\",\n        getOptions: \"&\",\n        onChange: \"&\",\n      },\n      link: function($scope, elem, attrs) {\n        var $input = $(inputTemplate);\n        var $button = $(attrs.styleMode === 'select' ? selectTemplate : linkTemplate);\n        var segment = $scope.segment;\n        var options = null;\n        var cancelBlur = null;\n        var linkMode = true;\n\n        $input.appendTo(elem);\n        $button.appendTo(elem);\n\n        $scope.updateVariableValue = function(value) {\n          if (value === '' || segment.value === value) {\n            return;\n          }\n\n          $scope.$apply(function() {\n            var selected = _.findWhere($scope.altSegments, { value: value });\n            if (selected) {\n              segment.value = selected.value;\n              segment.html = selected.html;\n              segment.fake = false;\n              segment.expandable = selected.expandable;\n            }\n            else if (segment.custom !== 'false') {\n              segment.value = value;\n              segment.html = $sce.trustAsHtml(value);\n              segment.expandable = true;\n              segment.fake = false;\n            }\n\n            $scope.onChange();\n          });\n        };\n\n        $scope.switchToLink = function(fromClick) {\n          if (linkMode && !fromClick) { return; }\n\n          clearTimeout(cancelBlur);\n          cancelBlur = null;\n          linkMode = true;\n          $input.hide();\n          $button.show();\n          $scope.updateVariableValue($input.val());\n        };\n\n        $scope.inputBlur = function() {\n          // happens long before the click event on the typeahead options\n          // need to have long delay because the blur\n          cancelBlur = setTimeout($scope.switchToLink, 200);\n        };\n\n        $scope.source = function(query, callback) {\n          if (options) { return options; }\n\n          $scope.$apply(function() {\n            $scope.getOptions().then(function(altSegments) {\n              $scope.altSegments = altSegments;\n              options = _.map($scope.altSegments, function(alt) { return alt.value; });\n\n              // add custom values\n              if (segment.custom !== 'false') {\n                if (!segment.fake && _.indexOf(options, segment.value) === -1) {\n                  options.unshift(segment.value);\n                }\n              }\n\n              callback(options);\n            });\n          });\n        };\n\n        $scope.updater = function(value) {\n          if (value === segment.value) {\n            clearTimeout(cancelBlur);\n            $input.focus();\n            return value;\n          }\n\n          $input.val(value);\n          $scope.switchToLink(true);\n\n          return value;\n        };\n\n        $scope.matcher = function(item) {\n          var str = this.query;\n          if (str[0] === '/') { str = str.substring(1); }\n          if (str[str.length - 1] === '/') { str = str.substring(0, str.length-1); }\n          try {\n            return item.toLowerCase().match(str);\n          } catch(e) {\n            return false;\n          }\n        };\n\n        $input.attr('data-provide', 'typeahead');\n        $input.typeahead({ source: $scope.source, minLength: 0, items: 10000, updater: $scope.updater, matcher: $scope.matcher });\n\n        var typeahead = $input.data('typeahead');\n        typeahead.lookup = function () {\n          this.query = this.$element.val() || '';\n          var items = this.source(this.query, $.proxy(this.process, this));\n          return items ? this.process(items) : items;\n        };\n\n        $button.keydown(function(evt) {\n          // trigger typeahead on down arrow or enter key\n          if (evt.keyCode === 40 || evt.keyCode === 13) {\n            $button.click();\n          }\n        });\n\n        $button.click(function() {\n          options = null;\n          $input.css('width', ($button.width() + 16) + 'px');\n\n          $button.hide();\n          $input.show();\n          $input.focus();\n\n          linkMode = false;\n\n          var typeahead = $input.data('typeahead');\n          if (typeahead) {\n            $input.val('');\n            typeahead.lookup();\n          }\n        });\n\n        $input.blur($scope.inputBlur);\n\n        $compile(elem.contents())($scope);\n      }\n    };\n  });\n\n  coreModule.default.directive('metricSegmentModel', function(uiSegmentSrv, $q) {\n    return {\n      template: '<metric-segment segment=\"segment\" get-options=\"getOptionsInternal()\" on-change=\"onSegmentChange()\"></metric-segment>',\n      restrict: 'E',\n      scope: {\n        property: \"=\",\n        options: \"=\",\n        getOptions: \"&\",\n        onChange: \"&\",\n      },\n      link: {\n        pre: function postLink($scope, elem, attrs) {\n\n          $scope.valueToSegment = function(value) {\n            var option = _.findWhere($scope.options, {value: value});\n            var segment = {\n              cssClass: attrs.cssClass,\n              custom: attrs.custom,\n              value: option ? option.text : value,\n            };\n            return uiSegmentSrv.newSegment(segment);\n          };\n\n          $scope.getOptionsInternal = function() {\n            if ($scope.options) {\n              var optionSegments = _.map($scope.options, function(option) {\n                return uiSegmentSrv.newSegment({value: option.text});\n              });\n              return $q.when(optionSegments);\n            } else {\n              return $scope.getOptions();\n            }\n          };\n\n          $scope.onSegmentChange = function() {\n            if ($scope.options) {\n              var option = _.findWhere($scope.options, {text: $scope.segment.value});\n              if (option && option.value !== $scope.property) {\n                $scope.property = option.value;\n              } else if (attrs.custom !== 'false') {\n                $scope.property = $scope.segment.value;\n              }\n            } else {\n              $scope.property = $scope.segment.value;\n            }\n\n            // needs to call this after digest so\n            // property is synced with outerscope\n            $scope.$$postDigest(function() {\n              $scope.onChange();\n            });\n          };\n\n          $scope.segment = $scope.valueToSegment($scope.property);\n        }\n      }\n    };\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/directives/metric_segment.js\n// module id = 677\n// module chunks = 2","define([\n  'angular',\n  '../core_module',\n  'app/core/utils/kbn',\n],\nfunction (angular, coreModule, kbn) {\n  'use strict';\n\n  kbn = kbn.default;\n\n  coreModule.default.directive('tip', function($compile) {\n    return {\n      restrict: 'E',\n      link: function(scope, elem, attrs) {\n        var _t = '<i class=\"grafana-tip fa fa-'+(attrs.icon||'question-circle')+'\" bs-tooltip=\"\\''+\n          kbn.addslashes(elem.html())+'\\'\" data-placement=' + (attrs.placement || 'top') + ' html=true></i>';\n        _t = _t.replace(/{/g, '\\\\{').replace(/}/g, '\\\\}');\n        elem.replaceWith($compile(angular.element(_t))(scope));\n      }\n    };\n  });\n\n  coreModule.default.directive('watchChange', function() {\n    return {\n      scope: { onchange: '&watchChange' },\n      link: function(scope, element) {\n        element.on('input', function() {\n          scope.$apply(function () {\n            scope.onchange({ inputValue: element.val() });\n          });\n        });\n      }\n    };\n  });\n\n  coreModule.default.directive('editorOptBool', function($compile) {\n    return {\n      restrict: 'E',\n      link: function(scope, elem, attrs) {\n        var ngchange = attrs.change ? (' ng-change=\"' + attrs.change + '\"') : '';\n        var tip = attrs.tip ? (' <tip>' + attrs.tip + '</tip>') : '';\n        var showIf = attrs.showIf ? (' ng-show=\"' + attrs.showIf + '\" ') : '';\n\n        var template = '<div class=\"editor-option gf-form-checkbox text-center\"' + showIf + '>' +\n          ' <label for=\"' + attrs.model + '\" class=\"small\">' +\n          attrs.text + tip + '</label>' +\n          '<input class=\"cr1\" id=\"' + attrs.model + '\" type=\"checkbox\" ' +\n          '       ng-model=\"' + attrs.model + '\"' + ngchange +\n          '       ng-checked=\"' + attrs.model + '\"></input>' +\n          ' <label for=\"' + attrs.model + '\" class=\"cr1\"></label>';\n        elem.replaceWith($compile(angular.element(template))(scope));\n      }\n    };\n  });\n\n  coreModule.default.directive('editorCheckbox', function($compile, $interpolate) {\n    return {\n      restrict: 'E',\n      link: function(scope, elem, attrs) {\n        var text = $interpolate(attrs.text)(scope);\n        var model = $interpolate(attrs.model)(scope);\n        var ngchange = attrs.change ? (' ng-change=\"' + attrs.change + '\"') : '';\n        var tip = attrs.tip ? (' <tip>' + attrs.tip + '</tip>') : '';\n        var label = '<label for=\"' + scope.$id + model + '\" class=\"checkbox-label\">' +\n          text + tip + '</label>';\n\n        var template =\n          '<input class=\"cr1\" id=\"' + scope.$id + model + '\" type=\"checkbox\" ' +\n          '       ng-model=\"' + model + '\"' + ngchange +\n          '       ng-checked=\"' + model + '\"></input>' +\n          ' <label for=\"' + scope.$id + model + '\" class=\"cr1\"></label>';\n\n        template = template + label;\n        elem.addClass('gf-form-checkbox');\n        elem.html($compile(angular.element(template))(scope));\n      }\n    };\n  });\n\n  coreModule.default.directive('gfDropdown', function ($parse, $compile, $timeout) {\n    function buildTemplate(items, placement) {\n      var upclass = placement === 'top' ? 'dropup' : '';\n      var ul = [\n        '<ul class=\"dropdown-menu ' + upclass + '\" role=\"menu\" aria-labelledby=\"drop1\">',\n        '</ul>'\n      ];\n\n      angular.forEach(items, function (item, index) {\n        if (item.divider) {\n          return ul.splice(index + 1, 0, '<li class=\"divider\"></li>');\n        }\n\n        var li = '<li' + (item.submenu && item.submenu.length ? ' class=\"dropdown-submenu\"' : '') + '>' +\n          '<a tabindex=\"-1\" ng-href=\"' + (item.href || '') + '\"' + (item.click ? ' ng-click=\"' + item.click + '\"' : '') +\n          (item.target ? ' target=\"' + item.target + '\"' : '') + (item.method ? ' data-method=\"' + item.method + '\"' : '') +\n          '>' + (item.text || '') + '</a>';\n\n        if (item.submenu && item.submenu.length) {\n          li += buildTemplate(item.submenu).join('\\n');\n        }\n\n        li += '</li>';\n        ul.splice(index + 1, 0, li);\n      });\n      return ul;\n    }\n\n    return {\n      restrict: 'EA',\n      scope: true,\n      link: function postLink(scope, iElement, iAttrs) {\n        var getter = $parse(iAttrs.gfDropdown), items = getter(scope);\n        $timeout(function () {\n          var placement = iElement.data('placement');\n          var dropdown = angular.element(buildTemplate(items, placement).join(''));\n          dropdown.insertAfter(iElement);\n          $compile(iElement.next('ul.dropdown-menu'))(scope);\n        });\n\n        iElement.addClass('dropdown-toggle').attr('data-toggle', 'dropdown');\n      }\n    };\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/directives/misc.js\n// module id = 678\n// module chunks = 2","define([\n  '../core_module',\n  'app/core/utils/kbn',\n  'app/core/utils/rangeutil',\n],\nfunction (coreModule, kbn, rangeUtil) {\n  'use strict';\n\n  kbn = kbn.default;\n\n  coreModule.default.directive('ngModelOnblur', function() {\n    return {\n      restrict: 'A',\n      priority: 1,\n      require: 'ngModel',\n      link: function(scope, elm, attr, ngModelCtrl) {\n        if (attr.type === 'radio' || attr.type === 'checkbox') {\n          return;\n        }\n\n        elm.off('input keydown change');\n        elm.bind('blur', function() {\n          scope.$apply(function() {\n            ngModelCtrl.$setViewValue(elm.val());\n          });\n        });\n      }\n    };\n  });\n\n  coreModule.default.directive('emptyToNull', function () {\n    return {\n      restrict: 'A',\n      require: 'ngModel',\n      link: function (scope, elm, attrs, ctrl) {\n        ctrl.$parsers.push(function (viewValue) {\n          if(viewValue === \"\") { return null; }\n          return viewValue;\n        });\n      }\n    };\n  });\n\n  coreModule.default.directive('validTimeSpan', function() {\n    return {\n      require: 'ngModel',\n      link: function(scope, elm, attrs, ctrl) {\n        ctrl.$validators.integer = function(modelValue, viewValue) {\n          if (ctrl.$isEmpty(modelValue)) {\n            return true;\n          }\n          if (viewValue.indexOf('$') === 0) {\n            return true; // allow template variable\n          }\n          var info = rangeUtil.describeTextRange(viewValue);\n          return info.invalid !== true;\n        };\n      }\n    };\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/directives/ng_model_on_blur.js\n// module id = 679\n// module chunks = 2","define([\n  '../core_module',\n],\nfunction (coreModule) {\n  'use strict';\n\n  coreModule.default.directive('passwordStrength', function() {\n    var template = '<div class=\"password-strength small\" ng-if=\"!loginMode\" ng-class=\"strengthClass\">' +\n      '<em>{{strengthText}}</em>' +\n      '</div>';\n    return {\n      template: template,\n      scope: {\n        password: \"=\",\n      },\n      link: function($scope) {\n\n        $scope.strengthClass = '';\n\n        function passwordChanged(newValue) {\n          if (!newValue) {\n            $scope.strengthText = \"\";\n            $scope.strengthClass = \"hidden\";\n            return;\n          }\n          if (newValue.length < 4) {\n            $scope.strengthText = \"密码强度:太弱\";\n            $scope.strengthClass = \"password-strength-bad\";\n            return;\n          }\n          if (newValue.length <= 8) {\n            $scope.strengthText = \"密码强度:适中\";\n            $scope.strengthClass = \"password-strength-ok\";\n            return;\n          }\n\n          $scope.strengthText = \"密码强度:非常高\";\n          $scope.strengthClass = \"password-strength-good\";\n        }\n\n        $scope.$watch(\"password\", passwordChanged);\n      }\n    };\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/directives/password_strenght.js\n// module id = 680\n// module chunks = 2","define([\n  'angular',\n  '../core_module',\n  'spectrum',\n],\nfunction (angular, coreModule) {\n  'use strict';\n\n  coreModule.default.directive('spectrumPicker', function() {\n    return {\n      restrict: 'E',\n      require: 'ngModel',\n      scope: false,\n      replace: true,\n      template: \"<span><input class='input-small' /></span>\",\n      link: function(scope, element, attrs, ngModel) {\n        var input = element.find('input');\n        var options = angular.extend({\n          showAlpha: true,\n          showButtons: false,\n          color: ngModel.$viewValue,\n          change: function(color) {\n            scope.$apply(function() {\n              ngModel.$setViewValue(color.toRgbString());\n            });\n          }\n        }, scope.$eval(attrs.options));\n\n        ngModel.$render = function() {\n          input.spectrum('set', ngModel.$viewValue || '');\n        };\n\n        input.spectrum(options);\n\n        scope.$on('$destroy', function() {\n          input.spectrum('destroy');\n        });\n      }\n    };\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/directives/spectrum_picker.js\n// module id = 681\n// module chunks = 2","define([\n  'angular',\n  'jquery',\n  '../core_module',\n  'bootstrap-tagsinput',\n],\nfunction (angular, $, coreModule) {\n  'use strict';\n\n  function djb2(str) {\n    var hash = 5381;\n    for (var i = 0; i < str.length; i++) {\n      hash = ((hash << 5) + hash) + str.charCodeAt(i); /* hash * 33 + c */\n    }\n    return hash;\n  }\n\n  function setColor(name, element) {\n    var hash = djb2(name.toLowerCase());\n    var colors = [\n      \"#E24D42\",\"#1F78C1\",\"#BA43A9\",\"#705DA0\",\"#466803\",\n      \"#508642\",\"#447EBC\",\"#C15C17\",\"#890F02\",\"#757575\",\n      \"#0A437C\",\"#6D1F62\",\"#584477\",\"#629E51\",\"#2F4F4F\",\n      \"#BF1B00\",\"#806EB7\",\"#8a2eb8\", \"#699e00\",\"#000000\",\n      \"#3F6833\",\"#2F575E\",\"#99440A\",\"#E0752D\",\"#0E4AB4\",\n      \"#58140C\",\"#052B51\",\"#511749\",\"#3F2B5B\",\n    ];\n    var borderColors = [\n      \"#FF7368\",\"#459EE7\",\"#E069CF\",\"#9683C6\",\"#6C8E29\",\n      \"#76AC68\",\"#6AA4E2\",\"#E7823D\",\"#AF3528\",\"#9B9B9B\",\n      \"#3069A2\",\"#934588\",\"#7E6A9D\",\"#88C477\",\"#557575\",\n      \"#E54126\",\"#A694DD\",\"#B054DE\", \"#8FC426\",\"#262626\",\n      \"#658E59\",\"#557D84\",\"#BF6A30\",\"#FF9B53\",\"#3470DA\",\n      \"#7E3A32\",\"#2B5177\",\"#773D6F\",\"#655181\",\n    ];\n    var color = colors[Math.abs(hash % colors.length)];\n    var borderColor = borderColors[Math.abs(hash % borderColors.length)];\n    element.css(\"background-color\", color);\n    element.css(\"border-color\", borderColor);\n  }\n\n  coreModule.default.directive('tagColorFromName', function() {\n    return {\n      scope: { tagColorFromName: \"=\" },\n      link: function (scope, element) {\n        setColor(scope.tagColorFromName, element);\n      }\n    };\n  });\n\n  coreModule.default.directive('bootstrapTagsinput', function() {\n\n    function getItemProperty(scope, property) {\n      if (!property) {\n        return undefined;\n      }\n\n      if (angular.isFunction(scope.$parent[property])) {\n        return scope.$parent[property];\n      }\n\n      return function(item) {\n        return item[property];\n      };\n    }\n\n    return {\n      restrict: 'EA',\n      scope: {\n        model: '=ngModel',\n        onTagsUpdated: \"&\",\n      },\n      template: '<select multiple></select>',\n      replace: false,\n      link: function(scope, element, attrs) {\n\n        if (!angular.isArray(scope.model)) {\n          scope.model = [];\n        }\n\n        var select = $('select', element);\n\n        if (attrs.placeholder) {\n          select.attr('placeholder', attrs.placeholder);\n        }\n\n        select.tagsinput({\n          typeahead: {\n            source: angular.isFunction(scope.$parent[attrs.typeaheadSource]) ? scope.$parent[attrs.typeaheadSource] : null\n          },\n          itemValue: getItemProperty(scope, attrs.itemvalue),\n          itemText : getItemProperty(scope, attrs.itemtext),\n          tagClass : angular.isFunction(scope.$parent[attrs.tagclass]) ?\n            scope.$parent[attrs.tagclass] : function() { return attrs.tagclass; }\n        });\n\n        select.on('itemAdded', function(event) {\n          if (scope.model.indexOf(event.item) === -1) {\n            scope.model.push(event.item);\n            if (scope.onTagsUpdated) {\n              scope.onTagsUpdated();\n            }\n          }\n          var tagElement = select.next().children(\"span\").filter(function() { return $(this).text() === event.item; });\n          setColor(event.item, tagElement);\n        });\n\n        select.on('itemRemoved', function(event) {\n          var idx = scope.model.indexOf(event.item);\n          if (idx !== -1) {\n            scope.model.splice(idx, 1);\n            if (scope.onTagsUpdated) {\n              scope.onTagsUpdated();\n            }\n          }\n        });\n\n        scope.$watch(\"model\", function() {\n          if (!angular.isArray(scope.model)) {\n            scope.model = [];\n          }\n\n          select.tagsinput('removeAll');\n\n          for (var i = 0; i < scope.model.length; i++) {\n            select.tagsinput('add', scope.model[i]);\n          }\n\n        }, true);\n      }\n    };\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/directives/tags.js\n// module id = 682\n// module chunks = 2","define([\n  'angular',\n  'lodash',\n  '../core_module',\n],\nfunction (angular, _, coreModule) {\n  'use strict';\n\n  coreModule.default.controller('ValueSelectDropdownCtrl', function($q) {\n    var vm = this;\n\n    vm.show = function() {\n      vm.oldVariableText = vm.variable.current.text;\n      vm.highlightIndex = -1;\n\n      vm.options = vm.variable.options;\n      vm.selectedValues = _.filter(vm.options, {selected: true});\n\n      vm.tags = _.map(vm.variable.tags, function(value) {\n        var tag = { text: value, selected: false };\n        _.each(vm.variable.current.tags, function(tagObj) {\n          if (tagObj.text === value) {\n            tag = tagObj;\n          }\n        });\n        return tag;\n      });\n\n      vm.search = {\n        query: '',\n        options: vm.options.slice(0, Math.min(vm.options.length, 1000))\n      };\n\n      vm.dropdownVisible = true;\n    };\n\n    vm.updateLinkText = function() {\n      var current = vm.variable.current;\n\n      if (current.tags && current.tags.length) {\n        // filer out values that are in selected tags\n        var selectedAndNotInTag = _.filter(vm.variable.options, function(option) {\n          if (!option.selected) { return false; }\n          for (var i = 0; i < current.tags.length; i++)  {\n            var tag = current.tags[i];\n            if (_.indexOf(tag.values, option.value) !== -1) {\n              return false;\n            }\n          }\n          return true;\n        });\n\n        // convert values to text\n        var currentTexts = _.pluck(selectedAndNotInTag, 'text');\n\n        // join texts\n        vm.linkText = currentTexts.join(' + ');\n        if (vm.linkText.length > 0) {\n          vm.linkText += ' + ';\n        }\n      } else {\n        vm.linkText = vm.variable.current.text;\n      }\n    };\n\n    vm.clearSelections = function() {\n      _.each(vm.options, function(option) {\n        option.selected = false;\n      });\n\n      vm.selectionsChanged(false);\n    };\n\n    vm.selectTag = function(tag) {\n      tag.selected = !tag.selected;\n      var tagValuesPromise;\n      if (!tag.values) {\n        tagValuesPromise = vm.getValuesForTag({tagKey: tag.text});\n      } else {\n        tagValuesPromise = $q.when(tag.values);\n      }\n\n      tagValuesPromise.then(function(values) {\n        tag.values = values;\n        tag.valuesText = values.join(' + ');\n        _.each(vm.options, function(option) {\n          if (_.indexOf(tag.values, option.value) !== -1) {\n            option.selected = tag.selected;\n          }\n        });\n\n        vm.selectionsChanged(false);\n      });\n    };\n\n    vm.keyDown = function (evt) {\n      if (evt.keyCode === 27) {\n        vm.hide();\n      }\n      if (evt.keyCode === 40) {\n        vm.moveHighlight(1);\n      }\n      if (evt.keyCode === 38) {\n        vm.moveHighlight(-1);\n      }\n      if (evt.keyCode === 13) {\n        if (vm.search.options.length === 0) {\n          vm.commitChanges();\n        } else {\n          vm.selectValue(vm.search.options[vm.highlightIndex], {}, true, false);\n        }\n      }\n      if (evt.keyCode === 32) {\n        vm.selectValue(vm.search.options[vm.highlightIndex], {}, false, false);\n      }\n    };\n\n    vm.moveHighlight = function(direction) {\n      vm.highlightIndex = (vm.highlightIndex + direction) % vm.search.options.length;\n    };\n\n    vm.selectValue = function(option, event, commitChange, excludeOthers) {\n      if (!option) { return; }\n\n      option.selected = !option.selected;\n\n      commitChange = commitChange || false;\n      excludeOthers = excludeOthers || false;\n\n      var setAllExceptCurrentTo = function(newValue) {\n        _.each(vm.options, function(other) {\n          if (option !== other) { other.selected = newValue; }\n        });\n      };\n\n      // commit action (enter key), should not deselect it\n      if (commitChange) {\n        option.selected = true;\n      }\n\n      if (option.text === 'All' || excludeOthers) {\n        setAllExceptCurrentTo(false);\n        commitChange = true;\n      }\n      else if (!vm.variable.multi) {\n        setAllExceptCurrentTo(false);\n        commitChange = true;\n      } else if (event.ctrlKey || event.metaKey || event.shiftKey) {\n        commitChange = true;\n        setAllExceptCurrentTo(false);\n      }\n\n      vm.selectionsChanged(commitChange);\n    };\n\n    vm.selectionsChanged = function(commitChange) {\n      vm.selectedValues = _.filter(vm.options, {selected: true});\n\n      if (vm.selectedValues.length > 1) {\n        if (vm.selectedValues[0].text === 'All') {\n          vm.selectedValues[0].selected = false;\n          vm.selectedValues = vm.selectedValues.slice(1, vm.selectedValues.length);\n        }\n      }\n\n      // validate selected tags\n      _.each(vm.tags, function(tag) {\n        if (tag.selected)  {\n          _.each(tag.values, function(value) {\n            if (!_.findWhere(vm.selectedValues, {value: value})) {\n              tag.selected = false;\n            }\n          });\n        }\n      });\n\n      vm.selectedTags = _.filter(vm.tags, {selected: true});\n      vm.variable.current.value = _.pluck(vm.selectedValues, 'value');\n      vm.variable.current.text = _.pluck(vm.selectedValues, 'text').join(' + ');\n      vm.variable.current.tags = vm.selectedTags;\n\n      if (!vm.variable.multi) {\n        vm.variable.current.value = vm.selectedValues[0].value;\n      }\n\n      if (commitChange) {\n        vm.commitChanges();\n      }\n    };\n\n    vm.commitChanges = function() {\n      // if we have a search query and no options use that\n      if (vm.search.options.length === 0 && vm.search.query.length > 0) {\n        vm.variable.current = {text: vm.search.query, value: vm.search.query};\n      }\n      else if (vm.selectedValues.length === 0) {\n        // make sure one option is selected\n        vm.options[0].selected = true;\n        vm.selectionsChanged(false);\n      }\n\n      vm.dropdownVisible = false;\n      vm.updateLinkText();\n\n      if (vm.variable.current.text !== vm.oldVariableText) {\n        vm.onUpdated();\n      }\n    };\n\n    vm.queryChanged = function() {\n      vm.highlightIndex = -1;\n      vm.search.options = _.filter(vm.options, function(option) {\n        return option.text.toLowerCase().indexOf(vm.search.query.toLowerCase()) !== -1;\n      });\n\n      vm.search.options = vm.search.options.slice(0, Math.min(vm.search.options.length, 1000));\n    };\n\n    vm.init = function() {\n      vm.selectedTags = vm.variable.current.tags || [];\n      vm.updateLinkText();\n    };\n\n  });\n\n  coreModule.default.directive('valueSelectDropdown', function($compile, $window, $timeout, $rootScope) {\n    return {\n      scope: { variable: \"=\", onUpdated: \"&\", getValuesForTag: \"&\" },\n      templateUrl: 'public/app/partials/valueSelectDropdown.html',\n      controller: 'ValueSelectDropdownCtrl',\n      controllerAs: 'vm',\n      bindToController: true,\n      link: function(scope, elem) {\n        var bodyEl = angular.element($window.document.body);\n        var linkEl = elem.find('.variable-value-link');\n        var inputEl = elem.find('input');\n\n        function openDropdown() {\n          inputEl.css('width', Math.max(linkEl.width(), 30) + 'px');\n\n          inputEl.show();\n          linkEl.hide();\n\n          inputEl.focus();\n          $timeout(function() { bodyEl.on('click', bodyOnClick); }, 0, false);\n        }\n\n        function switchToLink() {\n          inputEl.hide();\n          linkEl.show();\n          bodyEl.off('click', bodyOnClick);\n        }\n\n        function bodyOnClick (e) {\n          if (elem.has(e.target).length === 0) {\n            scope.$apply(function() {\n              scope.vm.commitChanges();\n            });\n          }\n        }\n\n        scope.$watch('vm.dropdownVisible', function(newValue) {\n          if (newValue) {\n            openDropdown();\n          } else {\n            switchToLink();\n          }\n        });\n\n        var cleanUp = $rootScope.$on('template-variable-value-updated', function() {\n          scope.vm.updateLinkText();\n        });\n\n        scope.$on(\"$destroy\", function() {\n          cleanUp();\n        });\n\n        scope.vm.init();\n      },\n    };\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/directives/value_select_dropdown.js\n// module id = 683\n// module chunks = 2","///<reference path=\"../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport _ from 'lodash';\n\nimport config from 'app/core/config';\nimport coreModule from 'app/core/core_module';\nimport {UnknownPanelCtrl} from 'app/plugins/panel/unknown/module';\n\n/** @ngInject **/\nfunction pluginDirectiveLoader($compile, datasourceSrv, $rootScope, $q, $http, $templateCache) {\n\n  function getTemplate(component) {\n    if (component.template) {\n      return $q.when(component.template);\n    }\n    var cached = $templateCache.get(component.templateUrl);\n    if (cached) {\n      return $q.when(cached);\n    }\n    return $http.get(component.templateUrl).then(res => {\n      return res.data;\n    });\n  }\n\n  function relativeTemplateUrlToAbs(templateUrl, baseUrl) {\n    if (!templateUrl) { return undefined; }\n    if (templateUrl.indexOf('public') === 0) { return templateUrl; }\n    return baseUrl + '/' + templateUrl;\n  }\n\n  function getPluginComponentDirective(options) {\n    // handle relative template urls for plugin templates\n    options.Component.templateUrl = relativeTemplateUrlToAbs(options.Component.templateUrl, options.baseUrl);\n\n    return function() {\n      return {\n        templateUrl: options.Component.templateUrl,\n        template: options.Component.template,\n        restrict: 'E',\n        controller: options.Component,\n        controllerAs: 'ctrl',\n        bindToController: true,\n        scope: options.bindings,\n        link: (scope, elem, attrs, ctrl) => {\n          if (ctrl.link) {\n            ctrl.link(scope, elem, attrs, ctrl);\n          }\n          if (ctrl.init) {\n            ctrl.init();\n          }\n        }\n      };\n    };\n  }\n\n  function loadPanelComponentInfo(scope, attrs) {\n    var componentInfo: any = {\n      name: 'panel-plugin-' + scope.panel.type,\n      bindings: {dashboard: \"=\", panel: \"=\", row: \"=\"},\n      attrs: {dashboard: \"dashboard\", panel: \"panel\", row: \"row\"},\n    };\n\n    var panelElemName = 'panel-' + scope.panel.type;\n    let panelInfo = config.panels[scope.panel.type];\n    var panelCtrlPromise = Promise.resolve(UnknownPanelCtrl);\n    if (panelInfo) {\n      panelCtrlPromise = System.import(panelInfo.module).then(function(panelModule) {\n        return panelModule.PanelCtrl;\n      });\n    }\n\n    return panelCtrlPromise.then(function(PanelCtrl: any) {\n      componentInfo.Component = PanelCtrl;\n\n      if (!PanelCtrl || PanelCtrl.registered) {\n        return componentInfo;\n      };\n\n      if (PanelCtrl.templatePromise) {\n        return PanelCtrl.templatePromise.then(res => {\n          return componentInfo;\n        });\n      }\n\n      if (panelInfo) {\n        PanelCtrl.templateUrl = relativeTemplateUrlToAbs(PanelCtrl.templateUrl, panelInfo.baseUrl);\n      }\n\n      PanelCtrl.templatePromise = getTemplate(PanelCtrl).then(template => {\n        PanelCtrl.templateUrl = null;\n        PanelCtrl.template = `<grafana-panel ctrl=\"ctrl\">${template}</grafana-panel>`;\n        return componentInfo;\n      });\n\n      return PanelCtrl.templatePromise;\n    });\n  }\n\n  function getModule(scope, attrs) {\n    switch (attrs.type) {\n      // QueryCtrl\n      case \"query-ctrl\": {\n        let datasource = scope.target.datasource || scope.ctrl.panel.datasource;\n        return datasourceSrv.get(datasource).then(ds => {\n          scope.datasource = ds;\n\n          return System.import(ds.meta.module).then(dsModule => {\n            return {\n              baseUrl: ds.meta.baseUrl,\n              name: 'query-ctrl-' + ds.meta.id,\n              bindings: {target: \"=\", panelCtrl: \"=\", datasource: \"=\"},\n              attrs: {\"target\": \"target\", \"panel-ctrl\": \"ctrl\", datasource: \"datasource\"},\n              Component: dsModule.QueryCtrl\n            };\n          });\n        });\n      }\n      // QueryOptionsCtrl\n      case \"query-options-ctrl\": {\n        return datasourceSrv.get(scope.ctrl.panel.datasource).then(ds => {\n          return System.import(ds.meta.module).then((dsModule): any => {\n            if (!dsModule.QueryOptionsCtrl) {\n              return {notFound: true};\n            }\n\n            return {\n              baseUrl: ds.meta.baseUrl,\n              name: 'query-options-ctrl-' + ds.meta.id,\n              bindings: {panelCtrl: \"=\"},\n              attrs: {\"panel-ctrl\": \"ctrl\"},\n              Component: dsModule.QueryOptionsCtrl\n            };\n          });\n        });\n      }\n      // Annotations\n      case \"annotations-query-ctrl\": {\n        return System.import(scope.ctrl.currentDatasource.meta.module).then(function(dsModule) {\n          return {\n            baseUrl: scope.ctrl.currentDatasource.meta.baseUrl,\n            name: 'annotations-query-ctrl-' + scope.ctrl.currentDatasource.meta.id,\n            bindings: {annotation: \"=\", datasource: \"=\"},\n            attrs: {\"annotation\": \"ctrl.currentAnnotation\", datasource: \"ctrl.currentDatasource\"},\n            Component: dsModule.AnnotationsQueryCtrl,\n          };\n        });\n      }\n      // Datasource ConfigCtrl\n      case 'datasource-config-ctrl': {\n        var dsMeta = scope.ctrl.datasourceMeta;\n        return System.import(dsMeta.module).then(function(dsModule): any {\n          if (!dsModule.ConfigCtrl) {\n            return {notFound: true};\n          }\n\n          return {\n            baseUrl: dsMeta.baseUrl,\n            name: 'ds-config-' + dsMeta.id,\n            bindings: {meta: \"=\", current: \"=\"},\n            attrs: {meta: \"ctrl.datasourceMeta\", current: \"ctrl.current\"},\n            Component: dsModule.ConfigCtrl,\n          };\n        });\n      }\n      // AppConfigCtrl\n      case 'app-config-ctrl': {\n        let model = scope.ctrl.model;\n        return System.import(model.module).then(function(appModule) {\n          return {\n            baseUrl: model.baseUrl,\n            name: 'app-config-' + model.id,\n            bindings: {appModel: \"=\", appEditCtrl: \"=\"},\n            attrs: {\"app-model\": \"ctrl.model\", \"app-edit-ctrl\": \"ctrl\"},\n            Component: appModule.ConfigCtrl,\n          };\n        });\n      }\n      // App Page\n      case 'app-page': {\n        let appModel = scope.ctrl.appModel;\n        return System.import(appModel.module).then(function(appModule) {\n          return {\n            baseUrl: appModel.baseUrl,\n            name: 'app-page-' + appModel.appId + '-' + scope.ctrl.page.slug,\n            bindings: {appModel: \"=\"},\n            attrs: {\"app-model\": \"ctrl.appModel\"},\n            Component: appModule[scope.ctrl.page.component],\n          };\n        });\n      }\n      // Panel\n      case 'panel': {\n        return loadPanelComponentInfo(scope, attrs);\n      }\n      default: {\n        return $q.reject({message: \"Could not find component type: \" + attrs.type });\n      }\n    }\n  }\n\n  function appendAndCompile(scope, elem, componentInfo) {\n    var child = angular.element(document.createElement(componentInfo.name));\n    _.each(componentInfo.attrs, (value, key) => {\n      child.attr(key, value);\n    });\n\n    $compile(child)(scope);\n    elem.empty();\n\n    // let a binding digest cycle complete before adding to dom\n    setTimeout(function() {\n      elem.append(child);\n      scope.$apply(function() {\n        scope.$broadcast('refresh');\n      });\n    });\n  }\n\n  function registerPluginComponent(scope, elem, attrs, componentInfo) {\n    if (componentInfo.notFound) {\n      elem.empty();\n      return;\n    }\n\n    if (!componentInfo.Component) {\n      throw {message: 'Failed to find exported plugin component for ' + componentInfo.name};\n    }\n\n    if (!componentInfo.Component.registered) {\n      var directiveName = attrs.$normalize(componentInfo.name);\n      var directiveFn = getPluginComponentDirective(componentInfo);\n      coreModule.directive(directiveName, directiveFn);\n      componentInfo.Component.registered = true;\n    }\n\n    appendAndCompile(scope, elem, componentInfo);\n  }\n\n  return {\n    restrict: 'E',\n    link: function(scope, elem, attrs) {\n      getModule(scope, attrs).then(function (componentInfo) {\n        registerPluginComponent(scope, elem, attrs, componentInfo);\n      }).catch(err => {\n        $rootScope.appEvent('alert-error', ['Plugin Error', err.message || err]);\n        console.log('Plugin componnet error', err);\n      });\n    }\n  };\n}\n\ncoreModule.directive('pluginComponent', pluginDirectiveLoader);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/directives/plugin_component.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport {PanelCtrl} from 'app/plugins/sdk';\n\nexport class UnknownPanelCtrl extends PanelCtrl {\n  static templateUrl = 'public/app/plugins/panel/unknown/module.html';\n\n  /** @ngInject */\n  constructor($scope, $injector) {\n    super($scope, $injector);\n  }\n\n}\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/plugins/panel/unknown/module.ts","import {PanelCtrl} from 'app/features/panel/panel_ctrl';\nimport {MetricsPanelCtrl} from 'app/features/panel/metrics_panel_ctrl';\nimport {QueryCtrl} from 'app/features/panel/query_ctrl';\n\nimport config from 'app/core/config';\n\nexport function loadPluginCss(options) {\n  if (config.bootData.user.userTheme) {\n    System.import(options[config.bootData.user.userTheme] + '!css');\n  } else {\n    System.import(options.light + '!css');\n  }\n}\n\nexport {\n  PanelCtrl,\n  MetricsPanelCtrl,\n  QueryCtrl,\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/plugins/sdk.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport config from 'app/core/config';\nimport _ from 'lodash';\nimport angular from 'angular';\nimport $ from 'jquery';\n\nconst TITLE_HEIGHT = 25;\nconst EMPTY_TITLE_HEIGHT = 9;\nconst PANEL_PADDING = 5;\n\nimport {Emitter} from 'app/core/core';\n\nexport class PanelCtrl {\n  panel: any;\n  row: any;\n  dashboard: any;\n  editorTabIndex: number;\n  pluginName: string;\n  pluginId: string;\n  editorTabs: any;\n  $scope: any;\n  $injector: any;\n  $timeout: any;\n  $_location: any;\n  fullscreen: boolean;\n  inspector: any;\n  editModeInitiated: boolean;\n  editorHelpIndex: number;\n  editMode: any;\n  height: any;\n  containerHeight: any;\n  events: Emitter;\n  contextSrv: any;\n  integrateSrv: any;\n  associationSrv: any;\n  $translate: any;\n\n  constructor($scope, $injector) {\n    this.$injector = $injector;\n    this.$scope = $scope;\n    this.$_location = $injector.get('$location');\n    this.$timeout = $injector.get('$timeout');\n    this.contextSrv = $injector.get('contextSrv');\n    this.integrateSrv = $injector.get('integrateSrv');\n    this.associationSrv = $injector.get('associationSrv');\n    this.$translate = $injector.get('$translate');\n    this.editorTabIndex = 0;\n    this.events = new Emitter();\n\n    var plugin = config.panels[this.panel.type];\n    if (plugin) {\n      this.pluginId = plugin.id;\n      this.pluginName = plugin.name;\n    }\n\n    $scope.$on(\"refresh\", (event, payload) => this.refresh(payload));\n    $scope.$on(\"render\", () => this.render());\n    $scope.$on(\"$destroy\", () => this.events.emit('panel-teardown'));\n  }\n\n  init() {\n    this.calculatePanelHeight();\n    this.publishAppEvent('panel-initialized', {scope: this.$scope});\n    this.events.emit('panel-initialized');\n  }\n\n  renderingCompleted() {\n    this.$scope.$root.performance.panelsRendered++;\n  }\n\n  refresh(payload?) {\n    // ignore if panel id is specified\n    if (this.specifiedPanelId(payload)) {\n      return;\n    }\n\n    this.events.emit('refresh', payload);\n  }\n\n  publishAppEvent(evtName, evt) {\n    this.$scope.$root.appEvent(evtName, evt);\n  }\n\n  changeView(fullscreen, edit) {\n    this.publishAppEvent('panel-change-view', {\n      fullscreen: fullscreen, edit: edit, panelId: this.panel.id\n    });\n  }\n\n  viewPanel() {\n    this.changeView(true, false);\n  }\n\n  editPanel() {\n    this.changeView(true, true);\n  }\n\n  exitFullscreen() {\n    this.changeView(false, false);\n  }\n\n  initEditMode() {\n    this.editorTabs = [];\n    this.addEditorTab(this.$translate.i18n.i18n_general, 'public/app/partials/panelgeneral.html');\n    this.editModeInitiated = true;\n    this.events.emit('init-edit-mode', null);\n  }\n\n  addEditorTab(title, directiveFn, index?) {\n    var editorTab = {title, directiveFn};\n\n    if (_.isString(directiveFn)) {\n      editorTab.directiveFn = function() {\n        return {templateUrl: directiveFn};\n      };\n    }\n    if (index) {\n      this.editorTabs.splice(index, 0, editorTab);\n    } else {\n      this.editorTabs.push(editorTab);\n    }\n  }\n\n  getMenu() {\n    let menu = [];\n    menu.push({text: this.$translate.i18n.i18n_enlarge, click: 'ctrl.updateColumnSpan(1); dismiss();', role: 'Editor', icon: 'fa-plus', hover: 'hover-show pull-left'});\n    menu.push({text: this.$translate.i18n.i18n_narrow, click: 'ctrl.updateColumnSpan(-1); dismiss();', role: 'Editor',  icon: 'fa-minus', hover: 'hover-show pull-left'});\n    menu.push({text: this.$translate.i18n.i18n_delete, click: 'ctrl.removePanel(); dismiss();', role: 'Editor', icon: 'fa-trash-o', hover: 'hover-show  pull-left'});\n    menu.push({text: this.$translate.i18n.i18n_share, click: 'ctrl.sharePanel(); dismiss();', role: 'Editor', icon: 'fa-external-link'});\n    menu.push({text: this.$translate.i18n.i18n_edit, click: 'ctrl.editPanel(); dismiss();', role: 'Editor', icon: 'fa-pencil'});\n    if (this.checkMenu('association')) {\n      menu.push({text: this.$translate.i18n.page_association_title, click: 'ctrl.associateLink();', icon: 'fa-line-chart'});\n    }\n    if (this.checkMenu('correlation')) {\n      menu.push({text: this.$translate.i18n.page_association_info5, click: 'ctrl.correlation();', icon: 'fa-clock-o'})\n    }\n    return menu;\n  }\n\n  checkMenu(menu) {\n    var pathname = window.location.pathname;\n    var show = false;\n    var isGraph = this.panel.type === 'graph';\n    var isLine = this.panel.lines;\n    switch (menu) {\n      case 'association':\n        show = /^\\/anomaly/.test(pathname);\n        break;\n      case 'list':\n        show = !/^\\/(association|anomaly|alert|logs)/.test(pathname);\n        break;\n      case 'correlation':\n        show = /^\\/association/.test(pathname);\n    }\n    return show && isGraph && isLine;\n  }\n\n  getExtendedMenu() {\n    var actions = [];\n    if (!this.fullscreen) { //  duplication is not supported in fullscreen mode\n      actions.push({ text: this.$translate.i18n.i18n_copy, click: 'ctrl.duplicate(); dismiss();', role: 'Editor'});\n    }\n    actions.push({text: this.$translate.i18n.i18n_query, click: 'ctrl.viewPanel(); dismiss();', icon: 'icon-eye-open'});\n    actions.push({text: this.$translate.i18n.i18n_view_json, click: 'ctrl.editPanelJson(); dismiss();', role: 'Editor'});\n    this.events.emit('init-panel-actions', actions);\n    return actions;\n  }\n\n  otherPanelInFullscreenMode() {\n    return this.dashboard.meta.fullscreen && !this.fullscreen;\n  }\n\n  specifiedPanelId(payload) {\n    if (_.isNumber(payload) || _.isString(payload)) {\n      return this.panel.id !== payload;\n    }\n    if (_.isArray(payload)) {\n      return !~payload.indexOf(this.panel.id);\n    }\n    return false;\n  }\n\n  calculatePanelHeight() {\n    if (this.fullscreen) {\n      var docHeight = $(window).height();\n      var editHeight = Math.floor(docHeight * 0.3);\n      var fullscreenHeight = Math.floor(docHeight * 0.7);\n      this.containerHeight = this.editMode ? editHeight : fullscreenHeight;\n    } else {\n      this.containerHeight = this.panel.height || this.row.height;\n      if (_.isString(this.containerHeight)) {\n        this.containerHeight = parseInt(this.containerHeight.replace('px', ''), 10);\n      }\n    }\n\n    this.height = this.containerHeight - (PANEL_PADDING + (this.panel.title ? TITLE_HEIGHT : EMPTY_TITLE_HEIGHT));\n  }\n\n  render(payload?) {\n    // ignore if other panel is in fullscreen mode\n    if (this.otherPanelInFullscreenMode()) {\n      return;\n    }\n\n    this.calculatePanelHeight();\n    this.events.emit('render', payload);\n  }\n\n  toggleEditorHelp(index) {\n    if (this.editorHelpIndex === index) {\n      this.editorHelpIndex = null;\n      return;\n    }\n    this.editorHelpIndex = index;\n  }\n\n  duplicate() {\n    this.dashboard.duplicatePanel(this.panel, this.row);\n  }\n\n  updateColumnSpan(span) {\n    this.panel.span = Math.min(Math.max(Math.floor(this.panel.span + span), 1), 12);\n    this.$timeout(() => {\n      this.render();\n    });\n  }\n\n  removePanel() {\n    this.publishAppEvent('confirm-modal', {\n      title: this.$translate.i18n.i18n_sure_operator,\n      text: this.$translate.i18n.i18n_sure_operator,\n      icon: 'fa-trash',\n      yesText: this.$translate.i18n.i18n_delete,\n      noText: this.$translate.i18n.i18n_cancel,\n      onConfirm: () => {\n        this.row.panels = _.without(this.row.panels, this.panel);\n      }\n    });\n  }\n\n  editPanelJson() {\n    this.publishAppEvent('show-json-editor', {\n      object: this.panel,\n      updateHandler: this.replacePanel.bind(this)\n    });\n  }\n\n  replacePanel(newPanel, oldPanel) {\n    var row = this.row;\n    var index = _.indexOf(this.row.panels, oldPanel);\n    this.row.panels.splice(index, 1);\n\n    // adding it back needs to be done in next digest\n    this.$timeout(() => {\n      newPanel.id = oldPanel.id;\n      newPanel.span = oldPanel.span;\n      this.row.panels.splice(index, 0, newPanel);\n    });\n  }\n\n  sharePanel() {\n    var shareScope = this.$scope.$new();\n    shareScope.panel = this.panel;\n    shareScope.dashboard = this.dashboard;\n\n    this.publishAppEvent('show-modal', {\n      src: 'public/app/features/dashboard/partials/shareModal.html',\n      scope: shareScope\n    });\n  }\n\n  openInspector() {\n    var modalScope = this.$scope.$new();\n    modalScope.panel = this.panel;\n    modalScope.dashboard = this.dashboard;\n    modalScope.inspector = angular.copy(this.inspector);\n\n    this.publishAppEvent('show-modal', {\n      src: 'public/app/partials/inspector.html',\n      scope: modalScope\n    });\n  }\n\n  associateLink() {\n    try {\n      var host = this.panel.targets[0].tags.host;\n      var metric = this.panel.targets[0].metric;\n      if (host && metric) {\n        this.associationSrv.setSourceAssociation({\n          metric: metric,\n          host: host,\n          distance: 200,\n        });\n        this.$_location.url(\"/association\");\n      }\n    } catch (err) {\n      var reg = /\\'(.*?)\\'/g;\n      var msg = this.$translate.i18n.i18n_param_miss + \": \" + err.toString().match(reg)[0];\n      this.publishAppEvent('alert-warning', [this.$translate.i18n.i18n_param_miss, msg]);\n    }\n  }\n\n  getDownsamplesMenu() {\n    var downsamples = [];\n    _.each(this.panel.downsamples, (downsample) => {\n      downsamples.push({text: downsample, click: 'ctrl.setDownsample(\\'' + downsample + '\\');dismiss();'});\n    })\n    return downsamples;\n  }\n\n  setDownsample(interval) {\n    this.panel.downsample = interval;\n    _.each(this.panel.targets, (target) => {\n      target.downsampleInterval = interval;\n    })\n    this.$timeout(() => {\n      this.$scope.$broadcast('refresh', this.panel.id);\n    });\n  }\n\n  correlation() {\n    this.$scope.$emit('analysis', 'updateTime');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/features/panel/panel_ctrl.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport _ from 'lodash';\nimport $ from 'jquery';\n\nimport coreModule from '../core_module';\n\nfunction getBlockNodes(nodes) {\n  var node = nodes[0];\n  var endNode = nodes[nodes.length - 1];\n  var blockNodes;\n\n  for (var i = 1; node !== endNode && (node = node.nextSibling); i++) {\n    if (blockNodes || nodes[i] !== node) {\n      if (!blockNodes) {\n        blockNodes = $([].slice.call(nodes, 0, i));\n      }\n      blockNodes.push(node);\n    }\n  }\n\n  return blockNodes || nodes;\n}\n\nfunction rebuildOnChange($animate) {\n\n  return {\n    multiElement: true,\n    terminal: true,\n    transclude: true,\n    priority: 600,\n    restrict: 'E',\n    link: function(scope, elem, attrs, ctrl, transclude) {\n      var block, childScope, previousElements;\n\n      function cleanUp() {\n        if (previousElements) {\n          previousElements.remove();\n          previousElements = null;\n        }\n        if (childScope) {\n          childScope.$destroy();\n          childScope = null;\n        }\n        if (block) {\n          previousElements = getBlockNodes(block.clone);\n          $animate.leave(previousElements).then(function() {\n            previousElements = null;\n          });\n          block = null;\n        }\n      }\n\n      scope.$watch(attrs.property, function rebuildOnChangeAction(value, oldValue) {\n        if (childScope && value !== oldValue) {\n          cleanUp();\n        }\n\n        if (!childScope && (value || attrs.showNull)) {\n          transclude(function(clone, newScope) {\n            childScope = newScope;\n            clone[clone.length++] = document.createComment(' end rebuild on change ');\n            block = {clone: clone};\n            $animate.enter(clone, elem.parent(), elem);\n          });\n        } else {\n          cleanUp();\n        }\n      });\n    }\n  };\n}\n\ncoreModule.directive('rebuildOnChange', rebuildOnChange);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/directives/rebuild_on_change.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport coreModule from '../core_module';\n\ncoreModule.directive('giveFocus', function() {\n  return function(scope, element, attrs) {\n    element.click(function(e) {\n      e.stopPropagation();\n    });\n\n    scope.$watch(attrs.giveFocus, function (newValue) {\n      if (!newValue) {\n        return;\n      }\n      setTimeout(function() {\n        element.focus();\n        var domEl = element[0];\n        if (domEl.setSelectionRange) {\n          var pos = element.val().length * 2;\n          domEl.setSelectionRange(pos, pos);\n        }\n      }, 200);\n    }, true);\n  };\n});\n\nexport default {};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/directives/give_focus.ts","define(['jquery', 'angular', 'lodash'],\nfunction ($, angular, _) {\n  'use strict';\n\n  var $win = $(window);\n\n  $.fn.place_tt = (function () {\n    var defaults = {\n      offset: 5,\n    };\n\n    return function (x, y, opts) {\n      opts = $.extend(true, {}, defaults, opts);\n\n      return this.each(function () {\n        var $tooltip = $(this), width, height;\n\n        $tooltip.addClass('grafana-tooltip');\n\n        $(\"#tooltip\").remove();\n        $tooltip.appendTo(document.body);\n\n        if (opts.compile) {\n          angular.element(document).injector().invoke([\"$compile\", \"$rootScope\", function($compile, $rootScope) {\n            var tmpScope = $rootScope.$new(true);\n            _.extend(tmpScope, opts.scopeData);\n\n            $compile($tooltip)(tmpScope);\n            tmpScope.$digest();\n            tmpScope.$destroy();\n          }]);\n        }\n\n        width = $tooltip.outerWidth(true);\n        height = $tooltip.outerHeight(true);\n\n        $tooltip.css('left', x + opts.offset + width > $win.width() ? x - opts.offset - width : x + opts.offset);\n        $tooltip.css('top', y + opts.offset + height > $win.height() ? y - opts.offset - height : y + opts.offset);\n      });\n    };\n  })();\n\n  $.escapeSelector = function (selector) {\n    return selector.replace(/(:|\\.|\\[|\\]|,|=|@)/g, \"\\\\$1\");\n  };\n\n  return $;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/jquery_extended.js\n// module id = 691\n// module chunks = 2","define([\n], function () {});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/partials.js\n// module id = 692\n// module chunks = 2","import $ from 'jquery';\nimport _ from 'lodash';\n\nimport coreModule from 'app/core/core_module';\nimport 'jquery.flot';\nimport 'jquery.flot.pie';\n\nfunction systemPanel($parse, alertMgrSrv, healthSrv, datasourceSrv, contextSrv, backendSrv, $location, $q) {\n  return {\n    restrict: 'E',\n    link: function (scope, elem, attr) {\n      scope.enter = function (systemId) {\n        contextSrv.user.systemId = systemId;\n        contextSrv.hostNum = scope.hostList.length;\n        backendSrv.post(\"/api/system/pick\",{SystemId: systemId});\n        if (contextSrv.hostNum) {\n          contextSrv.toggleSideMenu();\n          $location.url(\"/\");\n        } else {\n          $location.url(\"/setting/agent\");\n        }\n      };\n      scope.init = function () {\n        scope.servies = [];\n        scope.serviesStatus = {normal: 0, unnormal: 0};\n        scope.hostList = [];\n        scope.hostStatus = {normal: 0, unnormal: 0};\n        scope.critical = 0;\n        scope.warn = 0;\n        scope.alertNum = 0;\n      };\n      var getter = $parse(attr.sys), system = getter(scope);\n      contextSrv.user.systemId = system;\n      var setPie = function(type, system, pieData) {\n        var colors = [];\n        if (pieData.length > 1) {\n          colors = ['rgb(61,183,121)','rgb(255,197,58)','rgb(224,76,65)'];\n        } else {\n          colors = ['#555'];\n        }\n        $.plot(\"[\"+ type +\"='\" + system + \"']\", pieData, {\n          series: {\n            pie: {\n              innerRadius: 0.5,\n              show: true,\n              label: {\n                  show: false,\n              },\n              stroke: {\n                width: 0\n              }\n            }\n          },\n          legend: {\n            show: false\n          },\n          colors: colors\n        });\n      };\n\n      var getPlatform = function() {\n        backendSrv.get('/api/static/hosts').then(function(result) {\n          scope.platform = result.hosts;\n        });\n      };\n      //------get service satatus\n      var getService = backendSrv.getServices().then(function(response) {\n        var count = _.countBy(response.data, {alive: 0});\n        scope.serviesStatus.normal = count.true || 0;\n        scope.serviesStatus.unnormal = count.false || 0;\n        scope.servies = response.data;\n      });\n\n      //------- get Alerts status\n      var getAlertNum = alertMgrSrv.load().then(function(response) {\n        return response.data.length;\n      });\n\n      var getAlertStatus = alertMgrSrv.loadTriggeredAlerts().then(function onSuccess(response) {\n        var count = _.countBy(response.data, {level: 'CRITICAL'});\n        return {critical: count.true || 0, warn: count.false || 0};\n      });\n\n      //------- get health/anomaly status\n      var getHealth = healthSrv.load().then(function (data) {\n        scope.numMetrics = data.numMetrics;\n        scope.numAnomalyMetrics = data.numAnomalyMetrics;\n        scope.health = data.health;\n        var annomalyPieData = [\n          {label: \"\", data: scope.numMetrics},\n          {label: \"\", data: scope.numAnomalyMetrics},\n        ];\n        setPie('sys_annomaly', system, annomalyPieData);\n      });\n\n      //-------- get host status\n      var query = {\n        \"queries\": [\n          {\n            \"metric\": \"collector.state\"\n          }\n        ],\n        \"hostProperties\": []\n      };\n      var getHostStatus = backendSrv.getHosts(query).then(function (response) {\n        if (response.data.length) {\n          scope.hostList = response.data;\n          var count = _.countBy(scope.hostList, {\"collector.state\": 0});\n          scope.hostStatus.unnormal = count.false || 0;\n          scope.hostStatus.normal = count.true || 0;\n          return scope.hostList.length;\n        } else {\n          var d = $q.defer();\n          d.resolve();\n          return d.promise;\n        }\n      }, function() {\n        getPlatform();\n      });\n\n      //------- alertNum = alertRules * hostNum;\n      $q.all([getHostStatus, getAlertNum, getAlertStatus]).then(function(result) {\n        var hostNum = result[0],\n            alertRulesNum = result[1],\n            alertStatus = result[2];\n        if (typeof(hostNum) === \"undefined\") {\n          getPlatform();\n        } else {\n          scope.alertNum = alertRulesNum * hostNum;\n          scope.warn = alertStatus.warn;\n          scope.critical = alertStatus.critical;\n          var alertPieData = [\n            {label: \"\", data: (scope.alertNum ? scope.alertNum : 1) - scope.warn - scope.critical},\n            {label: \"\", data: scope.warn},\n            {label: \"\", data: scope.critical}\n          ];\n          setPie('sys_alert', system, alertPieData);\n        }\n      }, function() {\n        getPlatform();\n      });\n\n      scope.init();\n    }\n  };\n}\n\ncoreModule.directive('systemPanel', systemPanel);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/directives/system_panel.ts","define([\n    'jquery',\n    'lodash',\n    '../core_module'\n  ],\n  function ($, _, coreModule) {\n    'use strict';\n\n    coreModule.default.directive('node', function(jsPlumbFactory) {\n      return jsPlumbFactory.node({\n        templateUrl: \"node_template.tpl\",\n        inherit:[\"remove\", \"edit\"]\n      });\n    });\n\n    // coreModule.directive('group', function(jsPlumbFactory) {\n    //   return jsPlumbFactory.group({\n    //     templateUrl: \"group_template.tpl\",\n    //     inherit:[\"remove\", \"toggleGroup\"]\n    //   });\n    // });\n  }\n);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/directives/service_dep.js\n// module id = 694\n// module chunks = 2","define([\n  'jquery',\n  'lodash',\n  '../core_module'\n],\nfunction ($, _, coreModule) {\n  'use strict';\n\n  coreModule.default.directive('logTabpane', function ($parse, $compile, $http) {\n    return {\n      restrict: 'EA',\n      link: function (scope, elem, attr) {\n        var templateUrl = attr.template;\n\n        var template = $http.get(templateUrl, { cache: true }).then(function (res) {\n          return res.data;\n        });\n\n        template.then(function (response) {\n          var $template = $(response);\n          elem.html($template);\n\n          $compile(elem.contents())(scope);\n        });\n\n        scope.$on('log-refresh', function () {\n          template.then(function (response) {\n            var $template = $(response);\n            elem.html($template);\n\n            $compile(elem.contents())(scope);\n          });\n        });\n\n      }\n    };\n  });\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/directives/log_tabpane.js\n// module id = 695\n// module chunks = 2","import angular from 'angular';\nimport $ from 'jquery';\nimport coreModule from 'app/core/core_module';\n\nvar template = `\n<div class=\"load-wrapper\">\n  <div class=\"load\">\n    <div class=\"ring\">\n      <div class=\"ball-holder\">\n        <div class=\"ball\"></div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nfunction cwLoading($compile, $timeout) {\n\n  return {\n    multiElement: true,\n    scope: true,\n    restrict: 'EA',\n    link: function($scope, elem, attrs) {\n      var $loading = $(template);\n      var duration = parseInt(attrs.duration);\n\n      function show () {\n        $loading.appendTo(elem);\n        $compile(elem.contents())($scope);\n      }\n\n      function hide () {\n        $loading.remove();\n      }\n\n      $scope.$watch(attrs.show, function(newValue, oldValue) {\n        if (angular.isString(newValue)) {\n          newValue = !!newValue.match(/true|,?(show),?/i)\n        }\n        if (newValue === true) {\n          show();\n          if (!isNaN(duration)) {\n            $timeout(hide, duration);\n          }\n        } else {\n          hide();\n        }\n      });\n    }\n  };\n\n}\n\ncoreModule.directive('cwLoading', cwLoading);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/directives/loading.ts","import coreModule from '../core_module';\n\ncoreModule.directive('ngEnter', function () {\n\n  return function (scope, elem, attrs) {\n    elem.bind(\"keydown keypress\", function (event) {\n      if (event.which === 13) {\n        scope.$apply(function () {\n          scope.$eval(attrs.ngEnter);\n        });\n\n        event.preventDefault();\n      }\n    });\n  };\n\n});\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/directives/ng_enter.ts","import coreModule from '../core_module';\nimport kbn from 'app/core/utils/kbn';\n\n// Usage:\n// html: <div auto-refresh></div>\n// controller: $scope.refresh_interval = '30s', $scope.refresh_func = this.someFunction.bind(this)\nexport function autoRefresh($timeout, timer) {\n  'use strict';\n\n  return {\n    restrict: 'A',\n    link: function(scope, elem, attr) {\n\n      var refresh_timer;\n      var interval = scope.refresh_interval;\n      if (interval) { setAutoRefresh(interval); }\n\n      function setAutoRefresh (interval) {\n        var _i = kbn.interval_to_ms(interval);\n        var wait_ms = _i - (Date.now() % _i);\n        $timeout(() => {\n          start_scheduled_refresh(_i);\n          // refreshView();\n        }, wait_ms);\n      }\n\n      function start_scheduled_refresh (after_ms) {\n        cancel_scheduled_refresh();\n        refresh_timer = $timeout(() => {\n          start_scheduled_refresh(after_ms);\n          refreshView();\n        }, after_ms);\n      }\n\n      function cancel_scheduled_refresh () {\n        $timeout.cancel(refresh_timer);\n        // timer.cancel(refresh_timer);\n      }\n\n      function refreshView () {\n        scope.refresh_func();\n      }\n\n      scope.$on('$destroy', function() {\n        cancel_scheduled_refresh();\n      });\n\n    }\n  };\n}\n\ncoreModule.directive('autoRefresh', autoRefresh);\n\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/directives/auto_refresh.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport config from 'app/core/config';\nimport _ from 'lodash';\nimport $ from 'jquery';\nimport coreModule from 'app/core/core_module';\nimport 'd3.graph';\n\ndeclare var window: any;\n\nvar template = `\n  <div class=\"search\" ng-show=\"ctrl.search\">\n    <form class=\"gf-form-group tidy-form\">\n      <div>\n          <div class=\"gf-form\">\n              <ul class=\"gf-form-list tidy-form-list\" style=\"text-align:right; overflow: inherit; width: 100%;\">\n                  <li class=\"tidy-form-item\">\n                      <em translate=\"i18n_search\"></em> {{ ctrl.types[ctrl.type] }}\n                  </li>\n                  <li class=\"tidy-form-item tidy-form-item-dropdown\">\n                      <input type=\"text\" class=\"input-xlarge tidy-form-input last\"\n                            ng-model='ctrl.query'\n                            spellcheck='false'\n                            bs-typeahead-old=\"ctrl.searchList\"\n                            placeholder=\"{{ ctrl.$translate.i18n.page_topology_search_input }}\"\n                            ng-enter=\"ctrl.searchItem()\"\n                            ng-blur=\"ctrl.searchItem()\" />\n                  </li>\n                  <li class=\"tidy-form-item\" ng-hide=\"ctrl.type === 'service'\">\n                      <em translate=\"page_topology_group_tag\"></em>\n                  </li>\n                  <li class=\"tidy-form-item\" ng-hide=\"ctrl.type === 'service'\">\n                      <button type=\"button\" class=\"kpi-btn btn btn-default\" ng-model=\"ctrl.group\" data-placement=\"bottom-auto\"\n                              bs-options=\"f.value as f.text for f in ctrl.groupOptions\" bs-select ng-change=\"ctrl.getGraph();\" placeholder=\"{{ ctrl.$translate.i18n.i18n_select_choose }}\">\n                          <span class=\"caret\"></span>\n                      </button>\n                  </li>\n                  <li class=\"tidy-form-item\" translate=\"page_host_kpi_stat\"></li>\n                  <li class=\"tidy-form-item\">\n                      <button type=\"button\" class=\"kpi-btn btn btn-default\" ng-model=\"ctrl.filter\" data-placement=\"bottom-auto\"\n                              bs-options=\"f.value as f.text for f in ctrl.filterOptions\" bs-select ng-change=\"ctrl.filterBy();\" placeholder=\"{{ ctrl.$translate.i18n.i18n_select_choose }}\">\n                          <span class=\"caret\"></span>\n                      </button>\n                  </li>\n                  <li class=\"tidy-form-item pull-right\" ng-hide=\"ctrl.hideClear\">\n                      <button class=\"btn btn-primary\" style=\"padding: 0.4rem 1rem;\" ng-click=\"ctrl.clearSelected();\"><em translate=\"page_topology_clear_select\"></em> {{ ctrl.types[ctrl.type] }}</button>\n                  </li>\n              </ul>\n              <div class=\"clearfix\"></div>\n          </div>\n      </div>\n    </form>\n  </div>\n\n  <div class=\"heatmap\">\n    <div id=\"heatmap\"></div>\n    <div class=\"clearfix\"></div>\n  </div>\n`;\n\nexport class TopologyGraphCtrl {\n  rendered: boolean;\n  heatmap: any;\n  data: any;\n  currentItem: any;\n  searchList: any;\n  search: true;\n  query: string;\n  group: string;\n  filter: string;\n  groupOptions: any;\n  filterOptions: any;\n  hideClear: any;\n  types: any;\n\n  /** @ngInject */\n  constructor(\n    private $scope,\n    private $location,\n    private $timeout,\n    private backendSrv,\n    private contextSrv,\n    private $rootScope,\n    private hostSrv,\n    private serviceDepSrv,\n    private alertSrv,\n    private $translate\n  ) {\n    this.groupOptions = [{ 'text': $translate.i18n.i18n_empty, 'value': '' }];\n    this.filterOptions = [\n      { 'text': $translate.i18n.i18n_all, 'value': '' },\n      { 'text': $translate.i18n.i18n_normal, 'value': 'GREEN' },\n      { 'text': $translate.i18n.i18n_warning, 'value': 'YELLOW' },\n      { 'text': $translate.i18n.i18n_critical, 'value': 'RED' },\n      { 'text': $translate.i18n.i18n_breakdown, 'value': 'GREY' }\n    ];\n    this.heatmap = window.d3.select('#heatmap');\n\n    this.types = {\n      'host': $translate.i18n.i18n_host,\n      'service': $translate.i18n.i18n_service\n    };\n    !this.$scope.ctrl.type && (this.$scope.ctrl.type = 'host');\n\n    this.hideClear = (this.$location.path() === '/');\n\n    this.getGraph();\n    this.getAllTagsKey();\n\n    this.$scope.$on('topology-update', this.updateTopology.bind(this));\n  }\n\n  getGraph() {\n    var params = {};\n    this.group && (params['groupby'] = this.group);\n\n    // reset data empty\n    this.data = [];\n\n    // default: type === 'host'\n    var type = this.$scope.ctrl.type;\n    if (type === 'service') {\n      this.serviceDepSrv.getServiceTopologyData().then(this.renderGraph.bind(this));\n    } else {\n      this.hostSrv.getHostTopologyData(params).then(this.renderGraph.bind(this));\n    }\n  }\n\n  renderGraph(response) {\n    this.searchList = _.map(response, 'name');\n    this.searchList = _.uniq(this.searchList);\n    this.data = response;\n\n    !this.rendered && (this.heatmap = window.d3.select('#heatmap').relationshipGraph(this.$scope.ctrl.params));\n\n    this.rendered = true;\n    this.heatmap.data(this.data);\n\n    // 有 query 机器查询时, 先做groupby 再filter\n    if (this.query && this.query !== '*') {\n      this.searchItem();\n    }\n\n    this.$scope.$emit('topology-loaded', this.data);\n  }\n\n  openSearch() {\n    this.search = true;\n  }\n\n  closeSearch() {\n    this.search = false;\n  }\n\n  clearSelected() {\n    this.query = '';\n    this.currentItem = {};\n    this.heatmap.data(this.data);\n  }\n\n  searchItem(event?) {\n    if (this.query === '' || this.query === '*') {\n      this.clearSelected();\n    } else if (!~this.searchList.indexOf(this.query)) {\n      this.alertSrv.set(this.$translate.i18n.page_topology_search_invalid, '', \"warning\", 2000);\n    } else {\n      var searchResult = this.heatmap.search({ name: this.query });\n      searchResult = !_.isEmpty(searchResult) ? searchResult : _.filter(this.data, { name: this.query });\n\n      this.heatmap.data(searchResult);\n      this.currentItem = searchResult[0];\n    }\n  }\n\n  getAllTagsKey() {\n    // init, get all tags key for group-options\n    this.hostSrv.getAllTagsKey().then(response => {\n      response.data && response.data.forEach((item, index) => {\n        response.data[index] = { 'text': item, 'value': item }\n      });\n      this.groupOptions = [this.groupOptions[0]].concat(response.data);\n    });\n  }\n\n  filterBy() {\n    // 有 query 机器查询时, filterby 没有意义\n    if (this.query && this.query !== '*') { return; }\n\n    var filteredData = this.filter.toLowerCase() ? _.filter(this.data, { value: this.filter.toLowerCase() }) : this.data;\n    this.heatmap.data(filteredData);\n  }\n\n  updateTopology(evt, payload) {\n    this.data = payload || this.data;\n    this.clearSelected();\n  }\n\n}\n\nexport function topologyGraphDirective() {\n  return {\n    restrict: 'E',\n    template: template,\n    controller: TopologyGraphCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {\n      type: \"@\",\n      params: \"=\",\n      currentItem: \"=\"\n    },\n    link: function(scope, elem) {\n    }\n  };\n}\n\ncoreModule.directive('topologyGraph', topologyGraphDirective);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/components/topology_graph.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport config from 'app/core/config';\nimport _ from 'lodash';\nimport $ from 'jquery';\nimport coreModule from '../../core_module';\n\nexport class GuideCtrl {\n  stepIndex: number;\n  steps: Array<any>;\n  show: boolean;\n  exceptionMetrics: any = [];\n  exceptionHosts: any = [];\n  selected: any = {};\n  collapsed: true;\n  fixed: false;\n\n  /** @ngInject */\n  constructor(\n    private $rootScope,\n    private $scope,\n    private hostSrv,\n    private alertMgrSrv,\n    private $timeout,\n    private $q,\n    private $location,\n    private $controller,\n    private datasourceSrv\n  ) {\n    this.stepIndex = 0;\n    this.steps = [];\n\n    $rootScope.onAppEvent('show-guide-book', this.showGuide.bind(this), $scope);\n\n    // params: guide metric host start\n    var searchParams = $location.search();\n    searchParams.guide && (this.show = true);\n    searchParams.host = searchParams.host || '*';\n    _.extend(this.selected, searchParams);\n    // TO FIX: does not work sometimes\n    $timeout(() => { this.located(); }, 100);\n\n    this.steps.push({\n      title: 'i18n_guide_step1',\n      cta: 'i18n_guide_step1',\n      icon: 'icon-gf icon-gf-check',\n      href: '/',\n      note: '1) 系统报警<br/>2) 服务KPI<br/>3) 机器KPI',\n      check: () => $q.when(this.$location.path() === '/'),\n      jumpTo: () => {\n        this.$location.url('/');\n      }\n    });\n\n    this.steps.push({\n      title: 'i18n_guide_step2',\n      cta: 'i18n_guide_step2',\n      icon: 'icon-gf icon-gf-apps',\n      href: '/rca',\n      note: '根据故障问题，寻找根本原因',\n      check: () => $q.when(this.$location.path() === '/rca'),\n      jumpTo: () => {\n        this.jump('/rca');\n      }\n    });\n\n    this.steps.push({\n      title: 'i18n_guide_step3',\n      cta: 'i18n_guide_step3',\n      icon: 'iconfont fa-association',\n      href: '/association',\n      note: '比较高相关性指标',\n      check: () => $q.when(this.$location.path() === '/association'),\n      jumpTo: () => {\n        this.jump('/association');\n      }\n    });\n\n    this.steps.push({\n      title: 'i18n_guide_step4',\n      cta: 'i18n_guide_step4',\n      icon: 'fa fa-fw fa-file-text-o',\n      href: '/logs',\n      note: '全文搜索系统日志',\n      check: () => $q.when(this.$location.path() === '/logs'),\n      jumpTo: () => {\n        var type = _.metricPrefix2Type(this.selected.metric.split(\".\")[0]);\n        var query = `type:${type} AND host:${this.selected.host}`;\n        var path = '/logs';\n        var url = `${path}?guide&metric=${this.selected.metric}&host=${this.selected.host}&start=${this.selected.start}&query=${query}`;\n        this.$location.url(url);\n      }\n    });\n\n    this.steps.push({\n      title: 'i18n_guide_step5',\n      cta: 'i18n_guide_step5',\n      icon: 'iconfont fa-process',\n      href: '/topn',\n      note: '查看资源消耗情况',\n      check: () => $q.when(this.$location.path() === '/topn'),\n      jumpTo: () => {\n        this.jump('/topn');\n      }\n    });\n\n    $scope.$on('$routeUpdate', () => {\n      var metric = this.$location.search().metric;\n      metric && !~this.exceptionMetrics.indexOf(metric) && this.exceptionMetrics.push(metric);\n      _.extend(this.selected, this.$location.search());\n    });\n\n    this.init();\n  }\n\n  init() {\n    this.stepIndex = -1;\n    this.getExceptionMetrics();\n    this.getExceptionHost();\n\n    return this.nextStep().then(res => {\n    });\n  }\n\n  nextStep() {\n    if (this.stepIndex === this.steps.length - 1) {\n      return this.$q.when();\n    }\n\n    this.stepIndex += 1;\n    var currentStep = this.steps[this.stepIndex];\n    return currentStep.check().then(current => {\n      if (current) {\n        currentStep.cssClass = 'active';\n        return this.$q.when();\n      }\n\n      currentStep.cssClass = 'completed';\n      return this.nextStep();\n    });\n  }\n\n  showGuide() {\n    this.show = !this.show; // true;\n  }\n\n  dismiss() {\n    this.show = false;\n  }\n\n  collapse() {\n    this.collapsed = !this.collapsed;\n  }\n\n  located() {\n    this.$rootScope.appEvent('exception-located', this.selected);\n  }\n\n  jump(path, hash?) {\n    var url = `${path}?guide&metric=${this.selected.metric}&host=${this.selected.host}&start=${this.selected.start}`;\n    url += hash ? hash : '';\n    this.$location.url(url);\n  }\n\n  onSelectChange() {\n    var search = _.extend(this.$location.search(), this.selected);\n    this.$location.search(search);\n  }\n\n  // TO IMPROVE: how to get all exception metrics? here are only alert metrics\n  getExceptionMetrics() {\n    this.exceptionMetrics = [];\n\n    this.alertMgrSrv.loadTriggeredAlerts().then(response => {\n      response.data && response.data.forEach(item => {\n        this.exceptionMetrics.push({\n          name: _.getMetricName(item.metric),\n          time: item.status.levelChangedTime,\n          host: item.status.monitoredEntity\n        });\n      });\n    });\n  }\n\n  getExceptionHost() {\n    if (_.isEmpty(this.hostSrv.hostInfo)) {\n      this.hostSrv.getHostInfo().then(response => {\n        this.exceptionHosts = response;\n      });\n    } else {\n      this.exceptionHosts = this.hostSrv.hostInfo;\n    }\n  }\n}\n\nexport function guideDirective() {\n  return {\n    restrict: 'E',\n    templateUrl: 'public/app/core/components/guide/guide.html',\n    controller: GuideCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {\n      needHost: '@',\n      guideClass: '@',\n      notMetric: '@'\n    },\n    link: function (scope, elem, attrs, ctrl) {\n      var $scrollElement = elem.parent('.page-container');\n\n      var scroll = function () {\n        var scroll = $scrollElement.scrollTop();\n        var shrinkHeader = ctrl.collapsed ? 90 : 230;\n        ctrl.fixed = (scroll >= shrinkHeader) ? true : false;\n        scope.$digest();\n      }\n\n      ctrl.show && $scrollElement.on('scroll', _.throttle(scroll.bind(this), 100));\n    }\n  };\n}\n\ncoreModule.directive('guide', guideDirective);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/components/guide/guide.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport config from 'app/core/config';\nimport _ from 'lodash';\nimport $ from 'jquery';\nimport coreModule from '../../core_module';\n\nvar template = `\n  <div class=\"toolbar-content\">\n    <div class=\"popover-content\">\n      <a href=\"{{ item.href }}\" ng-repeat=\"item in toolbarItems\" class=\"toolbar-item {{ item.class }}\" ng-click=\"item.clickHandler()\">\n        <i class=\"{{ item.icon }}\"></i>\n        <p class=\"item-name\">{{ item.itemname }}</p>\n      </a>\n    </div>\n  </div>\n`;\n\nexport class ToolbarCtrl {\n  toolbarItems: any;\n\n  /** @ngInject */\n  constructor(\n    private $rootScope, private $scope, private popoverSrv, private backendSrv, private $q,\n    private $location, private contextSrv, private $translate\n  ) {\n    this.toolbarItems = {};\n\n    this.toolbarItems[1] = [];\n    this.toolbarItems[1].push({\n      class: '',\n      icon : 'fa fa-fw fa-book',\n      itemname: $translate.i18n.i18n_kb,\n      href: '/knowledgebase',\n      clickHandler: () => {},\n    });\n\n    this.toolbarItems[2] = [];\n    if (!contextSrv.isViewer) {\n      this.toolbarItems[2].push({\n        class: '',\n        icon : 'fa fa-fw fa-cloud-download',\n        itemname: $translate.i18n.i18n_install_guide,\n        href: '/setting/agent',\n        clickHandler: () => {},\n      });\n    }\n\n    this.toolbarItems[2].push({\n      class: '',\n      icon: 'fa fa-fw fa-info-circle',\n      itemname: $translate.i18n.i18n_usage_guide,\n      href: 'javascript:;',\n      clickHandler: () => {\n        $rootScope.appEvent('show-modal', {\n          src: 'public/app/core/components/toolbar/guide_use.html',\n          modalClass: 'guide_use',\n          scope: $scope.$new(),\n        });\n      }\n    });\n\n  }\n\n  showPopover() {\n    this.popoverSrv.show({\n      element : $(`.toolbar-${this.$scope.ctrl.id}`)[0],\n      position: 'bottom center',\n      template: template,\n      classes : 'toolbar-popover',\n      model : {\n        toolbarItems: this.toolbarItems[+this.$scope.ctrl.id],\n      },\n    });\n  }\n}\n\nexport function toolbarDirective() {\n  return {\n    restrict: 'E',\n    templateUrl: 'public/app/core/components/toolbar/toolbar.html',\n    controller: ToolbarCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {\n      icon: \"@\",\n      tooltip: \"@\",\n      id: \"@\"\n    },\n  };\n}\n\ncoreModule.directive('toolbar', toolbarDirective);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/components/toolbar/toolbar.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport $ from 'jquery';\nimport coreModule from 'app/core/core_module';\n\nvar template = `\n<span class=\"cwiz-switch {{ ctrl.switchClass }}\" ng-class=\"{ 'checked': ctrl.enabled }\">\n  <input type=\"checkbox\" id=\"check1\" ng-class=\"{ 'checked': ctrl.enabled }\" ng-model=\"ctrl.enabled\" ng-change=\"ctrl.internalOnChange();\" hidden />\n  <label for=\"check1\"></label>\n  <span class=\"switch-text\">\n    <span class=\"on\">{{ ctrl.textOn }}</span>\n    <span class=\"off\">{{ ctrl.textOff }}</span>\n  </span>\n</span>\n`;\n\nexport class CwizSwitchCtrl {\n  enabled: boolean;\n  onChange: any;\n\n  /** @ngInject */\n  constructor(private $scope, private $timeout) {\n  }\n\n  internalOnChange() {\n    return this.$timeout(() => {\n      return this.onChange();\n    });\n  }\n\n}\n\nexport function cwizSwitchDirective() {\n  return {\n    restrict: 'AE',\n    controller: CwizSwitchCtrl,\n    controllerAs: 'ctrl',\n    bindToController: true,\n    scope: {\n      switchClass: \"@\",\n      textOn: \"@\",\n      textOff: \"@\",\n      enabled: \"=\",\n      onChange: \"&\"\n    },\n    template: template,\n  };\n}\n\ncoreModule.directive('cwizSwitch', cwizSwitchDirective);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/components/cwiz_switch.ts","\nimport angular from 'angular';\nimport _ from 'lodash';\nimport $ from 'jquery';\nimport moment from 'moment';\nimport coreModule from 'app/core/core_module';\n\nvar custom_metric;\n\nexport class TreeMenuCtrl {\n  isAssociation: boolean;\n  isOpen: boolean;\n  isLoding: boolean;\n  yaxisNumber: number;\n  correlationMetrics: any;\n  prox: any;\n  panel: any;\n  groupType: any;\n  correlationHosts: any;\n  timeRange: any;\n  periods: any;\n  limitTime: number;\n\n  /** @ngInject */\n  constructor(\n    private $scope, private associationSrv,\n    private $rootScope, private $timeout,\n    private $controller, private backendSrv,\n    private contextSrv, private healthSrv,\n    private alertMgrSrv, private timeSrv,\n    private $translate\n  ) {\n    custom_metric = this.$translate.i18n.page_metrics_custom;\n    this.isOpen = false;\n    this.isLoding = true;\n    this.groupType = 'metrics';\n    this.limitTime = 2;\n\n    var analysis = this.$rootScope.$on('analysis', (event, data) => {\n      switch (data) {\n        case 'thresholdSlider':\n          this.associationSrv.updateRang(this.$scope.$parent.thresholdSlider.get());\n          this.init();\n          this.refresh();\n          break;\n        case 'updateTime':\n          this.initByTime();\n          break;\n        default:\n          var association = this.associationSrv.sourceAssociation;\n          this.loadAssociatedPeriods({\n            metric: association.metric,\n            host: association.host\n          }).then((res) => {\n            this.init();\n          });\n          break;\n      }\n    });\n\n    this.$scope.$on('$destroy', () => {\n      analysis();\n      this.associationSrv.sourceAssociation = {};\n    });\n\n    this.yaxisNumber = 3;\n    this.prox = this.contextSrv.user.orgId + '.' + this.contextSrv.user.systemId + '.';\n\n    this.timeRange = {\n      from: this.timeSrv.timeRange().from.unix(),\n      to: this.timeSrv.timeRange().to.unix()\n    };\n\n    this.backendSrv.get('/api/static/config').then((res) => {\n      this.limitTime = res.limit_association;\n    })\n  }\n\n  init(type?) {\n    this.groupType = type || this.groupType;\n    this.isOpen = true;\n    this.isLoding = true;\n    this.isAssociation = false;\n    var association = this.associationSrv.sourceAssociation;\n    this.clearSelected();\n    var params = {\n      metric: association.metric,\n      host: association.host,\n      minDistance: 1000 - association.max,\n      maxDistance: 1000 - association.min,\n      group: this.groupType,\n      startSec: this.timeRange.from,\n      endSec: this.timeRange.to\n    }\n    if (!_.isEmpty(association)) {\n      if (this.periods) {\n        this.loadAssociatedMetrics(params);\n      } else {\n        this.loadAssociatedPeriods({\n          metric: association.metric,\n          host: association.host\n        }).then((res) => {\n          params.startSec = res.from;\n          params.endSec = res.to;\n          this.loadAssociatedMetrics(params);\n        });\n      }\n    }\n  }\n\n  loadAssociatedPeriods(params) {\n    return this.alertMgrSrv.loadAssociatedPeriods(params).then((res) => {\n      this.periods = res.data;\n      if (this.periods.length) {\n        this.updateTimeRange(this.periods[0])\n      } else {\n        this.periods = [];\n        this.periods.push({\n          o1: this.timeRange.from,\n          o2: this.timeRange.to,\n        });\n      }\n      return this.timeRange;\n    });\n  }\n\n  loadAssociatedMetrics(params) {\n    this.alertMgrSrv.loadAssociatedMetrics(params)\n    .then((res) => {\n      if (this.groupType === 'metrics') {\n        this.correlationMetrics = res.data;\n      } else {\n        this.correlationHosts = res.data;\n      }\n      if (!_.isEmpty(res.data)) {\n        this.isAssociation = true;\n      }\n      this.isLoding = false;\n    }, () => {\n      this.isLoding = false;\n    });\n  }\n\n  showTree() {\n    this.isOpen = !this.isOpen;\n    this.$timeout(() => {\n      this.$rootScope.$broadcast('render');\n    })\n  }\n\n  showNewAssociationManual() {\n    var newScope = this.$scope.$new();\n    newScope.datasource = this.$scope.datasource;\n    newScope.addManualMetric = this.addManualMetric.bind(this);\n    this.$controller('OpenTSDBQueryCtrl', {$scope: newScope});\n    this.backendSrv.getHosts({\n      \"queries\": [],\n      \"hostProperties\": [\"id\"]\n    }).then(response => {\n      this.$scope.suggestTagHost = _.map(response.data, 'hostname');\n    });\n    this.$scope.appEvent('show-modal', {\n      src: 'public/app/partials/manual_association.html',\n      modalClass: 'modal-no-header confirm-modal',\n      scope: newScope\n    });\n  }\n\n  addManualMetric(target) {\n    target.metric = this.prox + target.metric;\n    var custom = null;\n    if (this.groupType === 'metrics') {\n      (!this.correlationMetrics[custom_metric]) && (this.correlationMetrics[custom_metric] = {});\n      custom = this.correlationMetrics[custom_metric];\n      var key = target.metric;\n      var value = target.host;\n      var type = 'hosts';\n    } else {\n      (!this.correlationHosts['']) && (this.correlationHosts[custom_metric] = {});\n      custom = this.correlationHosts[custom_metric];\n      key = target.host;\n      value = target.metric;\n      type = 'metrics';\n    }\n    (!custom[key]) && (custom[key] = {});\n    custom[key][type] = _.union(custom[key][type], [value]);\n    this.isAssociation = true;\n  }\n\n  clearSelected() {\n    if (this.panel) {\n      var sourceMetric = this.associationSrv.sourceAssociation;\n      _.each(this.panel.targets, (target) => {\n        if (!this.checkSource(this.prox+target.metric, target.tags.host)) {\n          target.hide = true;\n        }\n      });\n    }\n    $('[type=\"checkbox\"]').prop({checked: false});\n    $('[disabled=\"disabled\"]').prop({checked: true});\n  }\n\n  addQuery(event, metric, host, otherMetric?) {\n    if (host === custom_metric && this.groupType === 'hosts') {\n      host = otherMetric;\n    }\n    if (this.checkSource(this.prox + metric, host)) {\n      return;\n    } else {\n      var $currentTarget = $(event.currentTarget);\n      var $target = $(event.target);\n      if (!$target.is('input')) {\n        var $input = $currentTarget.find('input')\n        var checked = $input.prop('checked');\n        $input.prop({checked: !checked});\n      }\n\n      var targets = this.panel.targets;\n      var isHidden = true;\n      _.each(targets, (target) => {\n        if (target.metric === metric && target.tags.host === host) {\n          isHidden = false;\n          target.hide = !target.hide;\n        }\n      });\n      if (isHidden) {\n        var target = {\n          \"aggregator\": \"avg\",\n          \"currentTagKey\": \"\",\n          \"currentTagValue\": \"\",\n          \"downsampleAggregator\": \"avg\",\n          \"downsampleInterval\": this.panel.downsample,\n          \"errors\": {},\n          \"hide\": false,\n          \"isCounter\": false,\n          \"metric\": metric,\n          \"shouldComputeRate\": false,\n          \"tags\": {\"host\": host}\n        };\n        targets.push(target);\n        var seriesOverride = {\n          \"alias\": metric+\"{host\"+\"=\"+host+\"}\",\n          \"yaxis\": this.yaxisNumber++\n        };\n        this.panel.seriesOverrides.push(seriesOverride);\n      }\n      this.healthSrv.transformPanelMetricType(this.panel).then(() => {\n        this.refresh();\n      });\n    }\n  }\n\n  toggleClass(event, metric, host) {\n    var _i = $(event.target);\n    var _is = $(event.currentTarget).find('i');\n    if (_i.hasClass('add-rca')) {\n      _is[1].className = 'fa fa-thumbs-o-down';\n      _i.hasClass('fa-thumbs-o-up')\n        ? (_i.removeClass('fa-thumbs-o-up').addClass('fa-thumbs-up') && this.addRCA(metric, host))\n        : _i.removeClass('fa-thumbs-up').addClass('fa-thumbs-o-up');\n    } else {\n      _is[0].className = 'fa fa-thumbs-o-up add-rca';\n      _i.hasClass('fa-thumbs-o-down')\n        ? _i.removeClass('fa-thumbs-o-down').addClass('fa-thumbs-down')\n        : _i.removeClass('fa-thumbs-down').addClass('fa-thumbs-o-down');\n    }\n  }\n\n  addRCA(metric, host) {\n    if (!this.contextSrv.isViewer) {\n      var rcaFeedback = {\n        alertIds: [],\n        timestampInSec: Math.round(new Date().getTime()/1000),\n        triggerMetric: {\n          name: this.associationSrv.sourceAssociation.metric,\n          host: this.associationSrv.sourceAssociation.host,\n        },\n        rootCauseMetrics: [{\n          name: this.prox + metric,\n          host: host,\n          confidenceLevel: 100\n        }],\n        relatedMetrics: [],\n        org: this.contextSrv.user.orgId,\n        sys: this.contextSrv.user.systemId\n      };\n\n      this.alertMgrSrv.rcaFeedback(rcaFeedback);\n    }\n  }\n\n  toggleAccordion(event) {\n    var _i = $(event.currentTarget).find('i');\n    _i.hasClass('fa-plus-square-o')\n      ? _i.removeClass('fa-plus-square-o').addClass('fa-minus-square-o')\n      : _i.removeClass('fa-minus-square-o').addClass('fa-plus-square-o');\n  }\n\n  checkSource(metric, host) {\n    return _.isEqual(metric, this.associationSrv.sourceAssociation.metric) &&\n      _.isEqual(host, this.associationSrv.sourceAssociation.host)\n  }\n\n  initByTime() {\n    var start = this.timeSrv.timeRange().from.unix();\n    var from = moment(start * 1000);\n    var end = this.timeSrv.timeRange().to.unix();\n    var diff = moment().diff(from, 'days', true);\n    if (diff > this.limitTime) {\n      this.$scope.appEvent('alert-warning', ['您仅可以关联' + this.limitTime + '天以内的数据', '请选择' + this.limitTime + '天以内的时间区间']);\n      return;\n    }\n    diff = moment(end * 1000).diff(from, 'minutes');\n    if (diff < 20) {\n      this.$scope.appEvent('alert-warning', ['最小关联时间为20分钟', '请选择大于20分钟的时间区间']);\n      return;\n    }\n    this.$scope.appEvent('confirm-modal', {\n      title: this.$translate.i18n.i18n_confirm,\n      text: this.$translate.i18n.page_association_info4,\n      yesText: this.$translate.i18n.i18n_confirm,\n      noText: this.$translate.i18n.i18n_cancel,\n      onConfirm: () => {\n        this.timeRange.from = start;\n        this.timeRange.to = end;\n        this.periods.push({\n          o1: start,\n          o2: end\n        });\n        this.init();\n      }\n    })\n  }\n\n  updateTimeRange(period) {\n    this.timeRange.from = period.o1;\n    this.timeRange.to = period.o2;\n    this.timeSrv.setTime({from: moment(this.timeRange.from * 1000), to: moment(this.timeRange.to * 1000)}, false);\n  }\n\n  refresh() {\n    this.$rootScope.$broadcast('refresh', this.panel.id)\n  }\n}\n\nexport function treeMenu() {\n  return {\n    restrict: 'E',\n    controller: TreeMenuCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    templateUrl: 'public/app/core/components/tree_menu/tree_menu.html',\n    link: (scope, elem, attrs, ctrl) => {\n      ctrl.panel = scope.$parent.panel;\n    }\n  };\n}\n\ncoreModule.directive('cwTreeMenu', treeMenu);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/components/tree_menu/tree_menu.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport config from 'app/core/config';\nimport _ from 'lodash';\nimport 'ng-quill';\nimport coreModule from '../../core_module';\n\nexport class KnowledgeBaseCtrl {\n  q: string;\n  service: string;\n  services: Array<any>;\n  fullText: any;\n  readOnly: boolean;\n  showList: boolean;\n  showCreatForm: boolean;\n  knowledge: any;\n  newKnowledge: any;\n  detailKnowledge: any;\n  knowledgeCopy: any;\n\n  /** @ngInject */\n  constructor(\n    private $scope, private $rootScope, private backendSrv,\n    private contextSrv, private $translate\n  ) {\n    this.q = \"*\";\n    this.service = \"*\";\n    this.services = [\"*\", \"system\", \"hadoop\", \"hbase\", \"kafka\", \"mysql\", \"spark\", \"storm\", \"yarn\", \"zookeeper\", \"tomcat\", \"opentsdb\", \"mongo3\", \"nginx\", \"windows\", \"exchange\"];\n    this.fullText = [];\n    this.readOnly = true;\n\n    $scope.$on(\"$destroy\", () => {\n      window.removeEventListener('popstate', this.pushState);\n    });\n  }\n\n  query() {\n    this.showList = true;\n    this.showCreatForm = false;\n    var params =  {\n      q: this.q\n    };\n\n    if (this.service !== \"*\") {\n      params['service'] = this.service;\n    }\n\n    this.backendSrv.knowledge({\n      method: \"GET\",\n      url: \"/search\",\n      params: params,\n    }).then((result) => {\n      this.knowledge = result.data;\n      this.knowledgeCopy = _.cloneDeep(result.data);\n    });\n  }\n\n  initNewKnows() {\n    this.showCreatForm = true;\n    this.newKnowledge = {\n      solution: \"\",\n      service: \"\"\n    };\n  }\n\n  newKnowsByLog() {\n    this.newKnowledge.symptom = this.q;\n    this.newKnowledge.org_id = this.contextSrv.user.orgId;\n    this.newKnowledge.system_id = this.contextSrv.user.systemId;\n\n    this.backendSrv.knowledge({\n      method: \"PUT\",\n      url: \"\",\n      data: this.newKnowledge\n    }).then((res) => {\n      res.data.isSuccessful && this.$scope.appEvent('alert-success', [this.$translate.i18n.i18n_success]);\n    });\n    this.showCreatForm = false;\n  }\n\n  cancelCreate() {\n    this.showCreatForm = false;\n  }\n\n  textOverflow(index) {\n    this.fullText[index] = !this.fullText[index];\n  }\n\n  editorCreated(editor, knowledge, isDetail) {\n    if (isDetail) {\n      editor.root.innerHTML = knowledge;\n    } else {\n      var tmp = knowledge.trim();\n      tmp = tmp.replace(/[\\r]?\\n/g, '');\n      tmp = tmp.replace(/<\\/?[ol|li|blockquote|pre]+>/g, '');\n      tmp = tmp.replace(/<.*\\b\">/g, '');\n      tmp = tmp.replace(/<\\/?.*\\b>/g, '');\n\n      var length = tmp.length > 100 ? 100 : tmp.length;\n      var end = tmp.length > 100 ? '...' : '';\n      editor.root.innerHTML = tmp.substring(0, length) + end;\n    }\n  }\n\n  getDetail(knowledge) {\n    this.showList = false;\n    this.detailKnowledge = _.find(this.knowledgeCopy, {id: knowledge.id});\n    history.pushState(null, null, document.URL);\n    window.addEventListener('popstate', this.pushState);\n  }\n\n  getList() {\n    this.showList = true;\n  }\n\n  // 禁用浏览器后退按钮\n  pushState() {\n    history.pushState(null, null, document.URL);\n  }\n\n}\n\nexport function knowledgeBaseDirective() {\n  return {\n    restrict: 'E',\n    templateUrl: 'public/app/core/components/knowledge_base/knowledge_body.html',\n    controller: KnowledgeBaseCtrl,\n    bindToController: true,\n    transclude: true,\n    controllerAs: 'ctrl',\n    scope: {\n    },\n    link: function(scope, elem, attrs, ctrl) {\n    }\n  };\n}\n\ncoreModule.directive('knowledgeBase', knowledgeBaseDirective);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/components/knowledge_base/knowledgeBase.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport config from 'app/core/config';\nimport store from 'app/core/store';\nimport _ from 'lodash';\nimport angular from 'angular';\nimport $ from 'jquery';\nimport coreModule from 'app/core/core_module';\n\nvar locale = 'zh-CN';\n\nexport class GrafanaCtrl {\n\n  /** @ngInject */\n  constructor($scope, alertSrv, utilSrv, $rootScope, $controller, contextSrv, $location, healthSrv, backendSrv) {\n\n    $scope.init = function() {\n      $scope.contextSrv = contextSrv;\n\n      $scope._ = _;\n\n      $rootScope.profilingEnabled = store.getBool('profilingEnabled');\n      $rootScope.performance = { loadStart: new Date().getTime() };\n      $rootScope.appSubUrl = config.appSubUrl;\n\n      if ($rootScope.profilingEnabled) { $scope.initProfiling(); }\n\n      alertSrv.init();\n      utilSrv.init();\n      if (!($location.path() === '/login' || $location.path() === '/signupfree')) {\n        backendSrv.initCustomizedSources();\n        backendSrv.updateTokens();\n      }\n      $scope.dashAlerts = alertSrv;\n    };\n\n    $scope.initDashboard = function(dashboardData, viewScope) {\n      $rootScope.mainScope = viewScope;\n      dashboardData.dashboard.system = contextSrv.user.systemId;\n      healthSrv.transformMetricType(dashboardData.dashboard).then(function () {\n        $controller('DashboardCtrl', {$scope: viewScope}).init(dashboardData);\n        contextSrv.user.systemId = dashboardData.dashboard.system || 0;\n      });\n    };\n\n    $rootScope.onAppEvent = function(name, callback, localScope) {\n      var unbind = $rootScope.$on(name, callback);\n      var callerScope = this;\n      if (callerScope.$id === 1 && !localScope) {\n        console.log('warning rootScope onAppEvent called without localscope');\n      }\n      if (localScope) {\n        callerScope = localScope;\n      }\n      callerScope.$on('$destroy', unbind);\n    };\n\n    $rootScope.appEvent = function(name, payload) {\n      $rootScope.$emit(name, payload);\n    };\n\n    $rootScope.colors = [\n      \"#7EB26D\",\"#EAB839\",\"#6ED0E0\",\"#EF843C\",\"#E24D42\",\"#1F78C1\",\"#BA43A9\",\"#705DA0\",\n      \"#508642\",\"#CCA300\",\"#447EBC\",\"#C15C17\",\"#890F02\",\"#0A437C\",\"#6D1F62\",\"#584477\",\n      \"#B7DBAB\",\"#F4D598\",\"#70DBED\",\"#F9BA8F\",\"#F29191\",\"#82B5D8\",\"#E5A8E2\",\"#AEA2E0\",\n      \"#629E51\",\"#E5AC0E\",\"#64B0C8\",\"#E0752D\",\"#BF1B00\",\"#0A50A1\",\"#962D82\",\"#614D93\",\n      \"#9AC48A\",\"#F2C96D\",\"#65C5DB\",\"#F9934E\",\"#EA6460\",\"#5195CE\",\"#D683CE\",\"#806EB7\",\n      \"#3F6833\",\"#967302\",\"#2F575E\",\"#99440A\",\"#58140C\",\"#052B51\",\"#511749\",\"#3F2B5B\",\n      \"#E0F9D7\",\"#FCEACA\",\"#CFFAFF\",\"#F9E2D2\",\"#FCE2DE\",\"#BADFF4\",\"#F9D9F9\",\"#DEDAF7\"\n    ];\n\n    $scope.getTotalWatcherCount = function() {\n      var count = 0;\n      var scopes = 0;\n      var root = $(document.getElementsByTagName('body'));\n\n      var f = function (element) {\n        if (element.data().hasOwnProperty('$scope')) {\n          scopes++;\n          angular.forEach(element.data().$scope.$$watchers, function () {\n            count++;\n          });\n        }\n\n        angular.forEach(element.children(), function (childElement) {\n          f($(childElement));\n        });\n      };\n\n      f(root);\n      $rootScope.performance.scopeCount = scopes;\n      return count;\n    };\n\n    $scope.initProfiling = function() {\n      var count = 0;\n\n      $scope.$watch(function digestCounter() {\n        count++;\n      }, function() {\n        // something\n      });\n\n      $rootScope.performance.panels = [];\n\n      $scope.$on('refresh', function() {\n        if ($rootScope.performance.panels.length > 0) {\n          var totalRender = 0;\n          var totalQuery = 0;\n\n          _.each($rootScope.performance.panels, function(panelTiming: any) {\n            totalRender += panelTiming.render;\n            totalQuery += panelTiming.query;\n          });\n\n          console.log('total query: ' + totalQuery);\n          console.log('total render: ' + totalRender);\n          console.log('avg render: ' + totalRender / $rootScope.performance.panels.length);\n        }\n\n        $rootScope.performance.panels = [];\n      });\n\n      $scope.onAppEvent('dashboard-loaded', function() {\n        count = 0;\n\n        setTimeout(function() {\n          console.log(\"Dashboard::Performance Total Digests: \" + count);\n          console.log(\"Dashboard::Performance Total Watchers: \" + $scope.getTotalWatcherCount());\n          console.log(\"Dashboard::Performance Total ScopeCount: \" + $rootScope.performance.scopeCount);\n\n          var timeTaken = $rootScope.performance.allPanelsInitialized - $rootScope.performance.dashboardLoadStart;\n          console.log(\"Dashboard::Performance - All panels initialized in \" + timeTaken + \" ms\");\n\n          // measure digest performance\n          var rootDigestStart = window.performance.now();\n          for (var i = 0; i < 30; i++) {\n            $rootScope.$apply();\n          }\n          console.log(\"Dashboard::Performance Root Digest \" + ((window.performance.now() - rootDigestStart) / 30));\n\n        }, 3000);\n\n      });\n\n    };\n\n    $scope.init();\n  }\n}\n\n/** @ngInject */\nexport function grafanaAppDirective(playlistSrv, contextSrv, $translate) {\n  return {\n    restrict: 'E',\n    controller: GrafanaCtrl,\n    link: (scope, elem, attr) => {\n      var ignoreSideMenuHide;\n      var body = $('body');\n\n      locale = attr.locale;\n\n      // handle sidemenu open state\n      scope.$watch('contextSrv.sidemenu', newVal => {\n        if (newVal !== undefined) {\n          body.toggleClass('sidemenu-open', scope.contextSrv.sidemenu);\n          if (!newVal) {\n            contextSrv.setPinnedState(false);\n          }\n        }\n        if (contextSrv.sidemenu) {\n          ignoreSideMenuHide = true;\n          setTimeout(() => {\n            ignoreSideMenuHide = false;\n          }, 300);\n        }\n      });\n\n      scope.$watch('contextSrv.pinned', newVal => {\n        if (newVal !== undefined) {\n          body.toggleClass('sidemenu-pinned', newVal);\n        }\n      });\n\n      // tooltip removal fix\n      // manage page classes\n      var pageClass;\n      scope.$on(\"$routeChangeSuccess\", function(evt, data) {\n        if (pageClass) {\n          body.removeClass(pageClass);\n        }\n        pageClass = data.$$route.pageClass;\n        if (pageClass) {\n          body.addClass(pageClass);\n        }\n        $(\"#tooltip, .tooltip\").remove();\n      });\n\n      // handle document clicks that should hide things\n      body.click(function(evt) {\n        var target = $(evt.target);\n        if (target.parents().length === 0) {\n          return;\n        }\n\n        if (target.parents('.dash-playlist-actions').length === 0) {\n          playlistSrv.stop();\n        }\n\n        // hide search\n        if (body.find('.search-container').length > 0) {\n          if (target.parents('.search-container').length === 0) {\n            scope.$apply(function() {\n              scope.appEvent('hide-dash-search');\n            });\n          }\n        }\n        // hide sidemenu\n        if (!ignoreSideMenuHide && !contextSrv.pinned && body.find('.sidemenu').length > 0) {\n          if (target.parents('.sidemenu').length === 0) {\n            scope.$apply(function() {\n              scope.contextSrv.toggleSideMenu();\n            });\n          }\n        }\n\n        // hide popovers\n        var popover = elem.find('.popover');\n        if (popover.length > 0 && target.parents('.graph-legend').length === 0) {\n          popover.hide();\n        }\n      });\n    }\n  };\n}\n\ncoreModule.directive('grafanaApp', grafanaAppDirective);\n\n// coreModule.config(['$translateProvider', ($translateProvider) => {\n//   $translateProvider.useStaticFilesLoader({\n//     prefix: 'public/app/core/i18n/',\n//     suffix: '.json'\n//   });\n//   $translateProvider.preferredLanguage('zh_CN');\n// }]);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/components/grafana_app.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport $ from 'jquery';\nimport coreModule from 'app/core/core_module';\nimport Drop from 'tether-drop';\n\nexport function infoPopover() {\n  return {\n    restrict: 'E',\n    template: '<i class=\"fa fa-info-circle\"></i>',\n    transclude: true,\n    link: function(scope, elem, attrs, ctrl, transclude) {\n      var offset = attrs.offset || '0 -10px';\n      var position = attrs.position || 'right middle';\n      var classes = 'drop-help drop-hide-out-of-bounds';\n      var openOn = 'hover';\n\n      elem.addClass('gf-form-help-icon');\n\n      if (attrs.wide) {\n        classes += ' drop-wide';\n      }\n\n      if (attrs.mode) {\n        elem.addClass('gf-form-help-icon--' + attrs.mode);\n      }\n\n      transclude(function(clone, newScope) {\n        var content = document.createElement(\"div\");\n        _.each(clone, (node) => {\n          content.appendChild(node);\n        });\n\n        var drop = new Drop({\n          target: elem[0],\n          content: content,\n          position: position,\n          classes: classes,\n          openOn: openOn,\n          hoverOpenDelay: 400,\n          tetherOptions: {\n            offset: offset\n          }\n        });\n\n        scope.$on('$destroy', function() {\n          drop.destroy();\n        });\n\n      });\n    }\n  };\n}\n\ncoreModule.directive('infoPopover', infoPopover);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/components/info_popover.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport config from 'app/core/config';\nimport _ from 'lodash';\nimport $ from 'jquery';\nimport coreModule from 'app/core/core_module';\n\nvar template = `\n<div class=\"graph-legend-popover\">\n  <div ng-show=\"ctrl.series\" class=\"p-b-1\">\n    <label>Y Axis:</label>\n    <button ng-click=\"ctrl.toggleAxis(yaxis);\" class=\"btn btn-small\"\n            ng-class=\"{'btn-success': ctrl.series.yaxis === 1,\n                       'btn-inverse': ctrl.series.yaxis === 2}\">\n      Left\n    </button>\n    <button ng-click=\"ctrl.toggleAxis(yaxis);\"\n      class=\"btn btn-small\"\n      ng-class=\"{'btn-success': ctrl.series.yaxis === 2,\n                 'btn-inverse': ctrl.series.yaxis === 1}\">\n      Right\n    </button>\n  </div>\n\n  <p class=\"m-b-0\">\n   <i ng-repeat=\"color in ctrl.colors\" class=\"pointer fa fa-circle\"\n    ng-style=\"{color:color}\"\n    ng-click=\"ctrl.colorSelected(color);\">&nbsp;</i>\n  </p>\n</div>\n`;\n\nexport class ColorPickerCtrl {\n  colors: any;\n  autoClose: boolean;\n  series: any;\n  showAxisControls: boolean;\n\n  /** @ngInject */\n  constructor(private $scope, private $rootScope) {\n    this.colors = $rootScope.colors;\n    this.autoClose = $scope.autoClose;\n    this.series = $scope.series;\n  }\n\n  toggleAxis(yaxis) {\n    this.$scope.toggleAxis();\n\n    if (this.$scope.autoClose) {\n      this.$scope.dismiss();\n    }\n  }\n\n  colorSelected(color) {\n    this.$scope.colorSelected(color);\n    if (this.$scope.autoClose) {\n      this.$scope.dismiss();\n    }\n  }\n}\n\nexport function colorPicker() {\n  return {\n    restrict: 'E',\n    controller: ColorPickerCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    template: template,\n  };\n}\n\ncoreModule.directive('gfColorPicker', colorPicker);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/components/colorpicker.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport config from 'app/core/config';\nimport _ from 'lodash';\nimport $ from 'jquery';\nimport moment from 'moment';\nimport coreModule from '../../core_module';\n\nexport class NavbarCtrl {\n  showGuideNav: false;\n  deadline: Number;\n  priceUrl: string;\n  showNavbarPageBtn: false;\n\n  /** @ngInject */\n  constructor(private $scope, private $rootScope, private $location, private contextSrv) {\n    !!~['/rca', '/association', '/logs', '/topn'].indexOf(this.$location.path()) && (this.showGuideNav = true);\n    this.showNavbarPageBtn = (this.$location.path() === '/');\n    this.deadline = moment(contextSrv.user.deadline).diff(moment(), 'days');\n    this.priceUrl = '//cloudwiz.cn/product_price.html';\n  }\n\n  showGuide() {\n    this.$rootScope.appEvent('show-guide-book');\n  }\n\n  updateIndex() {\n    if (this.$location.path() === '/') {\n      window.location.href = config.appSubUrl + '/';\n    } else {\n      this.$location.url('/');\n    }\n  }\n}\n\nexport function navbarDirective() {\n  return {\n    restrict: 'E',\n    templateUrl: 'public/app/core/components/navbar/navbar.html',\n    controller: NavbarCtrl,\n    bindToController: true,\n    transclude: true,\n    controllerAs: 'ctrl',\n    scope: {\n      text: \"@\",\n      titleUrl: \"@\",\n      iconUrl: \"@\",\n    },\n    link: function(scope, elem, attrs, ctrl) {\n      ctrl.icon = attrs.icon;\n      elem.addClass('navbar');\n    }\n  };\n}\n\ncoreModule.directive('navbar', navbarDirective);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/components/navbar/navbar.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport coreModule from '../core_module';\n\nexport function arrayJoin() {\n  'use strict';\n\n  return {\n    restrict: 'A',\n    require: 'ngModel',\n    link: function(scope, element, attr, ngModel) {\n\n      function split_array(text) {\n        return (text || '').split(',');\n      }\n\n      function join_array(text) {\n        if (_.isArray(text)) {\n          return (text || '').join(',');\n        } else {\n          return text;\n        }\n      }\n\n      ngModel.$parsers.push(split_array);\n      ngModel.$formatters.push(join_array);\n    }\n  };\n}\n\ncoreModule.directive('arrayJoin', arrayJoin);\n\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/directives/array_join.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport config from 'app/core/config';\nimport coreModule from 'app/core/core_module';\n\nimport {Observable} from 'vendor/npm/rxjs/Observable';\n\nexport class LiveSrv {\n  conn: any;\n  observers: any;\n  initPromise: any;\n\n  constructor() {\n    this.observers = {};\n  }\n\n  getWebSocketUrl() {\n    var l = window.location;\n    return ((l.protocol === \"https:\") ? \"wss://\" : \"ws://\") + l.host + config.appSubUrl + '/ws';\n  }\n\n  getConnection() {\n    if (this.initPromise) {\n      return this.initPromise;\n    }\n\n    if (this.conn && this.conn.readyState === 1) {\n      return Promise.resolve(this.conn);\n    }\n\n    this.initPromise = new Promise((resolve, reject) => {\n      console.log('Live: connecting...');\n      this.conn = new WebSocket(this.getWebSocketUrl());\n\n      this.conn.onclose = (evt) => {\n        console.log(\"Live: websocket onclose\", evt);\n        reject({message: 'Connection closed'});\n\n        this.initPromise = null;\n        setTimeout(this.reconnect.bind(this), 2000);\n      };\n\n      this.conn.onmessage = (evt) => {\n        this.handleMessage(evt.data);\n      };\n\n      this.conn.onerror = (evt) => {\n        this.initPromise = null;\n        reject({message: 'Connection error'});\n        console.log(\"Live: websocket error\", evt);\n      };\n\n      this.conn.onopen = (evt) => {\n        console.log('opened');\n        this.initPromise = null;\n        resolve(this.conn);\n      };\n    });\n\n    return this.initPromise;\n  }\n\n  handleMessage(message) {\n    message = JSON.parse(message);\n\n    if (!message.stream) {\n      console.log(\"Error: stream message without stream!\", message);\n      return;\n    }\n\n    var observer = this.observers[message.stream];\n    if (!observer) {\n      this.removeObserver(message.stream, null);\n      return;\n    }\n\n    observer.next(message);\n  }\n\n  reconnect() {\n    // no need to reconnect if no one cares\n    if (_.keys(this.observers).length === 0) {\n      return;\n    }\n\n    console.log('LiveSrv: Reconnecting');\n\n    this.getConnection().then(conn => {\n      _.each(this.observers, (value, key) => {\n        this.send({action: 'subscribe', stream: key});\n      });\n    });\n  }\n\n  send(data) {\n    this.conn.send(JSON.stringify(data));\n  }\n\n  addObserver(stream, observer) {\n    this.observers[stream] = observer;\n\n    this.getConnection().then(conn => {\n      this.send({action: 'subscribe', stream: stream});\n    });\n  }\n\n  removeObserver(stream, observer) {\n    console.log('unsubscribe', stream);\n    delete this.observers[stream];\n\n    this.getConnection().then(conn => {\n      this.send({action: 'unsubscribe', stream: stream});\n    });\n  }\n\n  subscribe(streamName) {\n    console.log('LiveSrv.subscribe: ' + streamName);\n\n    return Observable.create(observer => {\n      this.addObserver(streamName, observer);\n\n      return () => {\n        this.removeObserver(streamName, observer);\n      };\n    });\n\n  }\n\n}\n\nvar instance = new LiveSrv();\nexport {instance as liveSrv};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/live/live_srv.ts","\"use strict\";\nvar root_1 = require('./util/root');\nvar observable_1 = require('./symbol/observable');\nvar toSubscriber_1 = require('./util/toSubscriber');\n/**\n * A representation of any set of values over any amount of time. This the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nvar Observable = (function () {\n    /**\n     * @constructor\n     * @param {Function} subscribe the function that is  called when the Observable is\n     * initially subscribed to. This function is given a Subscriber, to which new values\n     * can be `next`ed, or an `error` method can be called to raise an error, or\n     * `complete` can be called to notify of a successful completion.\n     */\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    /**\n     * Creates a new Observable, with this Observable as the source, and the passed\n     * operator defined as the new observable's operator.\n     * @method lift\n     * @param {Operator} operator the operator defining the operation to take on the observable\n     * @return {Observable} a new observable with the Operator applied\n     */\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    /**\n     * Registers handlers for handling emitted values, error and completions from the observable, and\n     *  executes the observable's subscriber function, which will take action to set up the underlying data stream\n     * @method subscribe\n     * @param {PartialObserver|Function} observerOrNext (optional) either an observer defining all functions to be called,\n     *  or the first of three possible handlers, which is the handler for each value emitted from the observable.\n     * @param {Function} error (optional) a handler for a terminal event resulting from an error. If no error handler is provided,\n     *  the error will be thrown as unhandled\n     * @param {Function} complete (optional) a handler for a terminal event resulting from successful completion.\n     * @return {ISubscription} a subscription reference to the registered handlers\n     */\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var target = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n        var transformer = operator && operator.call(target) || target;\n        if (transformer !== target) {\n            target.add(transformer);\n        }\n        var subscription = this._subscribe(transformer);\n        if (subscription !== target) {\n            target.add(subscription);\n        }\n        if (target.syncErrorThrowable) {\n            target.syncErrorThrowable = false;\n            if (target.syncErrorThrown) {\n                throw target.syncErrorValue;\n            }\n        }\n        return target;\n    };\n    /**\n     * @method forEach\n     * @param {Function} next a handler for each value emitted by the observable\n     * @param {PromiseConstructor} [PromiseCtor] a constructor function used to instantiate the Promise\n     * @return {Promise} a promise that either resolves on observable completion or\n     *  rejects with the handled error\n     */\n    Observable.prototype.forEach = function (next, PromiseCtor) {\n        var _this = this;\n        if (!PromiseCtor) {\n            if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {\n                PromiseCtor = root_1.root.Rx.config.Promise;\n            }\n            else if (root_1.root.Promise) {\n                PromiseCtor = root_1.root.Promise;\n            }\n        }\n        if (!PromiseCtor) {\n            throw new Error('no Promise impl found');\n        }\n        return new PromiseCtor(function (resolve, reject) {\n            var subscription = _this.subscribe(function (value) {\n                if (subscription) {\n                    // if there is a subscription, then we can surmise\n                    // the next handling is asynchronous. Any errors thrown\n                    // need to be rejected explicitly and unsubscribe must be\n                    // called manually\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscription.unsubscribe();\n                    }\n                }\n                else {\n                    // if there is NO subscription, then we're getting a nexted\n                    // value synchronously during subscription. We can just call it.\n                    // If it errors, Observable's `subscribe` imple will ensure the\n                    // unsubscription logic is called, then synchronously rethrow the error.\n                    // After that, Promise will trap the error and send it\n                    // down the rejection path.\n                    next(value);\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        return this.source.subscribe(subscriber);\n    };\n    /**\n     * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n     * @method Symbol.observable\n     * @return {Observable} this instance of the observable\n     */\n    Observable.prototype[observable_1.$$observable] = function () {\n        return this;\n    };\n    // HACK: Since TypeScript inherits static properties too, we have to\n    // fight against TypeScript here so Subject can have a different static create signature\n    /**\n     * Creates a new cold Observable by calling the Observable constructor\n     * @static true\n     * @owner Observable\n     * @method create\n     * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n     * @return {Observable} a new cold observable\n     */\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexports.Observable = Observable;\n//# sourceMappingURL=Observable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/npm/rxjs/Observable.js\n// module id = 715\n// module chunks = 2","\"use strict\";\nvar root_1 = require('../util/root');\nvar Symbol = root_1.root.Symbol;\nif (typeof Symbol === 'function') {\n    if (Symbol.observable) {\n        exports.$$observable = Symbol.observable;\n    }\n    else {\n        if (typeof Symbol.for === 'function') {\n            exports.$$observable = Symbol.for('observable');\n        }\n        else {\n            exports.$$observable = Symbol('observable');\n        }\n        Symbol.observable = exports.$$observable;\n    }\n}\nelse {\n    exports.$$observable = '@@observable';\n}\n//# sourceMappingURL=observable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/npm/rxjs/symbol/observable.js\n// module id = 716\n// module chunks = 2","\"use strict\";\nvar Subscriber_1 = require('../Subscriber');\nvar rxSubscriber_1 = require('../symbol/rxSubscriber');\nfunction toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver && typeof nextOrObserver === 'object') {\n        if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n            return nextOrObserver;\n        }\n        else if (typeof nextOrObserver[rxSubscriber_1.$$rxSubscriber] === 'function') {\n            return nextOrObserver[rxSubscriber_1.$$rxSubscriber]();\n        }\n    }\n    return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n}\nexports.toSubscriber = toSubscriber;\n//# sourceMappingURL=toSubscriber.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/npm/rxjs/util/toSubscriber.js\n// module id = 717\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isFunction_1 = require('./util/isFunction');\nvar Subscription_1 = require('./Subscription');\nvar rxSubscriber_1 = require('./symbol/rxSubscriber');\nvar Observer_1 = require('./Observer');\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        _super.call(this);\n        this.syncErrorValue = null;\n        this.syncErrorThrown = false;\n        this.syncErrorThrowable = false;\n        this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                this.destination = Observer_1.empty;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    this.destination = Observer_1.empty;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        this.destination = destinationOrNext;\n                    }\n                    else {\n                        this.syncErrorThrowable = true;\n                        this.destination = new SafeSubscriber(this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                this.syncErrorThrowable = true;\n                this.destination = new SafeSubscriber(this, destinationOrNext, error, complete);\n                break;\n        }\n    }\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.isUnsubscribed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype[rxSubscriber_1.$$rxSubscriber] = function () {\n        return this;\n    };\n    return Subscriber;\n}(Subscription_1.Subscription));\nexports.Subscriber = Subscriber;\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parent, observerOrNext, error, complete) {\n        _super.call(this);\n        this._parent = _parent;\n        var next;\n        var context = this;\n        if (isFunction_1.isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            context = observerOrNext;\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (isFunction_1.isFunction(context.unsubscribe)) {\n                this.add(context.unsubscribe.bind(context));\n            }\n            context.unsubscribe = this.unsubscribe.bind(this);\n        }\n        this._context = context;\n        this._next = next;\n        this._error = error;\n        this._complete = complete;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parent = this._parent;\n            if (!_parent.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parent, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parent = this._parent;\n            if (this._error) {\n                if (!_parent.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parent, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parent.syncErrorThrowable) {\n                this.unsubscribe();\n                throw err;\n            }\n            else {\n                _parent.syncErrorValue = err;\n                _parent.syncErrorThrown = true;\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            var _parent = this._parent;\n            if (this._complete) {\n                if (!_parent.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._complete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parent, this._complete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            throw err;\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            parent.syncErrorValue = err;\n            parent.syncErrorThrown = true;\n            return true;\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parent = this._parent;\n        this._context = null;\n        this._parent = null;\n        _parent.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\n//# sourceMappingURL=Subscriber.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/npm/rxjs/Subscriber.js\n// module id = 718\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isArray_1 = require('./util/isArray');\nvar isObject_1 = require('./util/isObject');\nvar isFunction_1 = require('./util/isFunction');\nvar tryCatch_1 = require('./util/tryCatch');\nvar errorObject_1 = require('./util/errorObject');\nvar Subscription = (function () {\n    function Subscription(_unsubscribe) {\n        this.isUnsubscribed = false;\n        if (_unsubscribe) {\n            this._unsubscribe = _unsubscribe;\n        }\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var hasErrors = false;\n        var errors;\n        if (this.isUnsubscribed) {\n            return;\n        }\n        this.isUnsubscribed = true;\n        var _a = this, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this._subscriptions = null;\n        if (isFunction_1.isFunction(_unsubscribe)) {\n            var trial = tryCatch_1.tryCatch(_unsubscribe).call(this);\n            if (trial === errorObject_1.errorObject) {\n                hasErrors = true;\n                (errors = errors || []).push(errorObject_1.errorObject.e);\n            }\n        }\n        if (isArray_1.isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject_1.isObject(sub)) {\n                    var trial = tryCatch_1.tryCatch(sub.unsubscribe).call(sub);\n                    if (trial === errorObject_1.errorObject) {\n                        hasErrors = true;\n                        errors = errors || [];\n                        var err = errorObject_1.errorObject.e;\n                        if (err instanceof UnsubscriptionError) {\n                            errors = errors.concat(err.errors);\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                }\n            }\n        }\n        if (hasErrors) {\n            throw new UnsubscriptionError(errors);\n        }\n    };\n    /**\n     * Adds a tear down to be called during the unsubscribe() of this subscription.\n     *\n     * If the tear down being added is a subscription that is already unsubscribed,\n     * is the same reference `add` is being called on, or is `Subscription.EMPTY`,\n     * it will not be added.\n     *\n     * If this subscription is already in an `isUnsubscribed` state, the passed tear down logic\n     * will be executed immediately\n     *\n     * @param {TeardownLogic} teardown the additional logic to execute on teardown.\n     * @returns {Subscription} returns the subscription used or created to be added to the inner\n     *  subscriptions list. This subscription can be used with `remove()` to remove the passed teardown\n     *  logic from the inner subscriptions list.\n     */\n    Subscription.prototype.add = function (teardown) {\n        if (!teardown || (teardown === this) || (teardown === Subscription.EMPTY)) {\n            return;\n        }\n        var sub = teardown;\n        switch (typeof teardown) {\n            case 'function':\n                sub = new Subscription(teardown);\n            case 'object':\n                if (sub.isUnsubscribed || typeof sub.unsubscribe !== 'function') {\n                    break;\n                }\n                else if (this.isUnsubscribed) {\n                    sub.unsubscribe();\n                }\n                else {\n                    (this._subscriptions || (this._subscriptions = [])).push(sub);\n                }\n                break;\n            default:\n                throw new Error('Unrecognized teardown ' + teardown + ' added to Subscription.');\n        }\n        return sub;\n    };\n    /**\n     * removes a subscription from the internal list of subscriptions that will unsubscribe\n     * during unsubscribe process of this subscription.\n     * @param {Subscription} subscription the subscription to remove\n     */\n    Subscription.prototype.remove = function (subscription) {\n        // HACK: This might be redundant because of the logic in `add()`\n        if (subscription == null || (subscription === this) || (subscription === Subscription.EMPTY)) {\n            return;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.isUnsubscribed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexports.Subscription = Subscription;\nvar UnsubscriptionError = (function (_super) {\n    __extends(UnsubscriptionError, _super);\n    function UnsubscriptionError(errors) {\n        _super.call(this, 'unsubscriptoin error(s)');\n        this.errors = errors;\n        this.name = 'UnsubscriptionError';\n    }\n    return UnsubscriptionError;\n}(Error));\nexports.UnsubscriptionError = UnsubscriptionError;\n//# sourceMappingURL=Subscription.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/npm/rxjs/Subscription.js\n// module id = 719\n// module chunks = 2","\"use strict\";\nexports.isArray = Array.isArray || (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArray.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/npm/rxjs/util/isArray.js\n// module id = 720\n// module chunks = 2","\"use strict\";\nfunction isObject(x) {\n    return x != null && typeof x === 'object';\n}\nexports.isObject = isObject;\n//# sourceMappingURL=isObject.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/npm/rxjs/util/isObject.js\n// module id = 721\n// module chunks = 2","\"use strict\";\nvar errorObject_1 = require('./errorObject');\nvar tryCatchTarget;\nfunction tryCatcher() {\n    try {\n        return tryCatchTarget.apply(this, arguments);\n    }\n    catch (e) {\n        errorObject_1.errorObject.e = e;\n        return errorObject_1.errorObject;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\nexports.tryCatch = tryCatch;\n;\n//# sourceMappingURL=tryCatch.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/npm/rxjs/util/tryCatch.js\n// module id = 722\n// module chunks = 2","\"use strict\";\nexports.empty = {\n    isUnsubscribed: true,\n    next: function (value) { },\n    error: function (err) { throw err; },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/npm/rxjs/Observer.js\n// module id = 723\n// module chunks = 2","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport config from 'app/core/config';\nimport store from 'app/core/store';\nimport _ from 'lodash';\nimport $ from 'jquery';\nimport coreModule from 'app/core/core_module';\n\nvar template = `\n<div class=\"layout-selector\">\n  <button ng-click=\"ctrl.listView()\" ng-class=\"{active: ctrl.mode === 'list'}\">\n    <i class=\"fa fa-list\"></i>\n  </button>\n  <button ng-click=\"ctrl.gridView()\" ng-class=\"{active: ctrl.mode === 'grid'}\">\n    <i class=\"fa fa-th\"></i>\n  </button>\n</div>\n`;\n\nexport class LayoutSelectorCtrl {\n  mode: string;\n\n  /** @ngInject **/\n  constructor(private $rootScope) {\n    this.mode = store.get('grafana.list.layout.mode') || 'grid';\n  }\n\n  listView() {\n    this.mode = 'list';\n    store.set('grafana.list.layout.mode', 'list');\n    this.$rootScope.appEvent('layout-mode-changed', 'list');\n  }\n\n  gridView() {\n    this.mode = 'grid';\n    store.set('grafana.list.layout.mode', 'grid');\n    this.$rootScope.appEvent('layout-mode-changed', 'grid');\n  }\n\n}\n\n/** @ngInject **/\nexport function layoutSelector() {\n  return {\n    restrict: 'E',\n    controller: LayoutSelectorCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {},\n    template: template,\n  };\n}\n\n/** @ngInject **/\nexport function layoutMode($rootScope) {\n  return {\n    restrict: 'A',\n    scope: {},\n    link: function(scope, elem) {\n      var layout = store.get('grafana.list.layout.mode') || 'grid';\n      var className = 'card-list-layout-' + layout;\n      elem.addClass(className);\n\n      $rootScope.onAppEvent('layout-mode-changed', (evt, newLayout) => {\n        elem.removeClass(className);\n        className = 'card-list-layout-' + newLayout;\n        elem.addClass(className);\n      }, scope);\n    }\n  };\n}\n\ncoreModule.directive('layoutSelector', layoutSelector);\ncoreModule.directive('layoutMode', layoutMode);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/components/layout_selector/layout_selector.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport config from 'app/core/config';\nimport _ from 'lodash';\nimport $ from 'jquery';\nimport coreModule from 'app/core/core_module';\nimport Drop from 'tether-drop';\n\nvar template = `\n<label for=\"check-{{ctrl.id}}\" class=\"gf-form-label {{ctrl.labelClass}} pointer\">\n  {{ctrl.label}}\n  <info-popover mode=\"right-normal\" ng-if=\"ctrl.tooltip\">\n    {{ctrl.tooltip}}\n  </info-popover>\n</label>\n<div class=\"gf-form-switch {{ctrl.switchClass}}\" ng-if=\"ctrl.show\">\n  <input id=\"check-{{ctrl.id}}\" type=\"checkbox\" ng-model=\"ctrl.checked\" ng-change=\"ctrl.internalOnChange()\">\n  <label for=\"check-{{ctrl.id}}\" data-on=\"Yes\" data-off=\"No\"></label>\n</div>\n`;\n\nexport class SwitchCtrl {\n  onChange: any;\n  checked: any;\n  show: any;\n  id: any;\n\n  /** @ngInject */\n  constructor($scope, private $timeout) {\n    this.show = true;\n    this.id = $scope.$id;\n  }\n\n  internalOnChange() {\n    return this.$timeout(() => {\n      return this.onChange();\n    });\n  }\n\n}\n\nexport function switchDirective() {\n  return {\n    restrict: 'E',\n    controller: SwitchCtrl,\n    controllerAs: 'ctrl',\n    bindToController: true,\n    scope: {\n      checked: \"=\",\n      label: \"@\",\n      labelClass: \"@\",\n      tooltip: \"@\",\n      switchClass: \"@\",\n      onChange: \"&\",\n    },\n    template: template,\n  };\n}\n\ncoreModule.directive('gfFormSwitch', switchDirective);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/components/switch.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport config from 'app/core/config';\nimport _ from 'lodash';\nimport $ from 'jquery';\nimport coreModule from 'app/core/core_module';\n\nvar template = `\n<select class=\"gf-form-input\" ng-model=\"ctrl.model\" ng-options=\"f.value as f.text for f in ctrl.options\"></select>\n<info-popover mode=\"right-absolute\">\n  Not finding dashboard you want? Star it first, then it should appear in this select box.\n</info-popover>\n`;\n\nexport class DashboardSelectorCtrl {\n  model: any;\n  options: any;\n\n  /** @ngInject */\n  constructor(private backendSrv) {\n  }\n\n  $onInit() {\n    this.options = [{value: 0, text: 'Default'}];\n\n    return this.backendSrv.search({starred: true}).then(res => {\n      res.forEach(dash => {\n        this.options.push({value: dash.id, text: dash.title});\n      });\n    });\n  }\n}\n\nexport function dashboardSelector() {\n  return {\n    restrict: 'E',\n    controller: DashboardSelectorCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    template: template,\n    scope: {\n      model: '='\n    }\n  };\n}\n\ncoreModule.directive('dashboardSelector', dashboardSelector);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/components/dashboard_selector.ts","define([\n  './inspect_ctrl',\n  './json_editor_ctrl',\n  './login_ctrl',\n  './invited_ctrl',\n  './signup_ctrl',\n  './reset_password_ctrl',\n  './error_ctrl',\n  './installCtrl',\n  './signupFreeCtrl',\n  './systemCtrl',\n  './guide_use_ctrl'\n], function () {});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/controllers/all.js\n// module id = 727\n// module chunks = 2","define([\n  'angular',\n  '../core_module',\n],\nfunction (angular, coreModule) {\n  'use strict';\n\n  coreModule.default.controller('ErrorCtrl', function($scope, contextSrv) {\n\n    var showSideMenu = contextSrv.sidemenu;\n    contextSrv.sidemenu = false;\n\n    $scope.$on('$destroy', function() {\n      $scope.contextSrv.sidemenu = showSideMenu;\n    });\n\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/controllers/error_ctrl.js\n// module id = 728\n// module chunks = 2","define([\n  'angular',\n  'lodash',\n  'jquery',\n  '../core_module',\n],\nfunction (angular, _, $, coreModule) {\n  'use strict';\n\n  coreModule.default.controller('InspectCtrl', function($scope) {\n    var model = $scope.inspector;\n\n    function getParametersFromQueryString(queryString) {\n      var result = [];\n      var parameters = queryString.split(\"&\");\n      for (var i = 0; i < parameters.length; i++) {\n        var keyValue = parameters[i].split(\"=\");\n        if (keyValue[1].length > 0) {\n          result.push({ key: keyValue[0], value: window.unescape(keyValue[1]) });\n        }\n      }\n      return result;\n    }\n\n    $scope.init = function () {\n      $scope.editor = { index: 0 };\n\n      if (!model.error)  {\n        return;\n      }\n\n      if (_.isString(model.error.data)) {\n        $scope.response = $(\"<div>\" + model.error.data + \"</div>\").text();\n      } else if (model.error.data) {\n        $scope.response = angular.toJson(model.error.data, true);\n      } else if (model.error.message) {\n        $scope.message = model.error.message;\n      }\n\n      if (model.error.config && model.error.config.params) {\n        $scope.request_parameters = _.map(model.error.config.params, function(value, key) {\n          return { key: key, value: value};\n        });\n      }\n\n      if (model.error.stack) {\n        $scope.editor.index = 2;\n        $scope.stack_trace = model.error.stack;\n        $scope.message = model.error.message;\n      }\n\n      if (model.error.config && model.error.config.data) {\n        $scope.editor.index = 1;\n\n        if (_.isString(model.error.config.data)) {\n          $scope.request_parameters = getParametersFromQueryString(model.error.config.data);\n        } else  {\n          $scope.request_parameters = _.map(model.error.config.data, function(value, key) {\n            return {key: key, value: angular.toJson(value, true)};\n          });\n        }\n      }\n    };\n\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/controllers/inspect_ctrl.js\n// module id = 729\n// module chunks = 2","define([\n  'angular',\n  '../core_module',\n  'app/core/config',\n],\nfunction (angular, coreModule, config) {\n  'use strict';\n\n  coreModule.default.controller('LoginCtrl', function($scope, backendSrv, contextSrv, $location) {\n    $scope.formModel = {\n      user: '',\n      email: '',\n      password: '',\n    };\n\n    contextSrv.sidemenu = false;\n\n    $scope.googleAuthEnabled = config.googleAuthEnabled;\n    $scope.githubAuthEnabled = config.githubAuthEnabled;\n    $scope.oauthEnabled = config.githubAuthEnabled || config.googleAuthEnabled;\n    $scope.disableUserSignUp = config.disableUserSignUp;\n    $scope.loginHint     = config.loginHint;\n\n    $scope.loginMode = true;\n    $scope.submitBtnText = '登 录';\n\n    $scope.init = function() {\n      $scope.$watch(\"loginMode\", $scope.loginModeChanged);\n\n      var params = $location.search();\n      if (params.failedMsg) {\n        $scope.appEvent('alert-warning', ['登录 失败', params.failedMsg]);\n        delete params.failedMsg;\n        $location.search(params);\n      }\n    };\n\n    // build info view model\n    $scope.buildInfo = {\n      version: config.buildInfo.version,\n      commit: config.buildInfo.commit,\n      buildstamp: new Date(config.buildInfo.buildstamp * 1000),\n      latestVersion: config.buildInfo.latestVersion,\n      hasUpdate: config.buildInfo.hasUpdate,\n    };\n\n    $scope.submit = function() {\n      $scope.login();\n    };\n\n    $scope.loginModeChanged = function(newValue) {\n      $scope.submitBtnText = newValue ? '登 录' : '注 册';\n    };\n\n    $scope.signUp = function() {\n      if (!$scope.loginForm.$valid) {\n        return;\n      }\n\n      backendSrv.post('/api/user/signup', $scope.formModel).then(function(result) {\n        if (result.status === 'SignUpCreated') {\n          $location.path('/signup').search({email: $scope.formModel.email});\n        } else {\n          window.location.href = config.appSubUrl + '/';\n        }\n      });\n    };\n\n    $scope.login = function() {\n      delete $scope.loginError;\n\n      if (!$scope.loginForm.$valid) {\n        return;\n      }\n\n      backendSrv.post('/login', $scope.formModel).then(function(result) {\n        if (result.redirectUrl) {\n          window.location.href = result.redirectUrl;\n        } else {\n          window.location.href = config.appSubUrl + '/systems';\n        }\n      });\n    };\n\n    $scope.contactUs = function() {\n      $scope.appEvent('confirm-modal', {\n        title: '欢迎与我们联系',\n        text: '请致电：17070866703 <br/>邮 件：service@cloudwiz.cn',\n        icon: 'fa-bell',\n        yesText: '确定',\n        noText: '关闭',\n        modalClass : 'contact-us',\n      });\n    };\n\n    $scope.init();\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/controllers/login_ctrl.js\n// module id = 730\n// module chunks = 2","define([\n  'angular',\n  '../core_module',\n  'app/core/config',\n],\nfunction (angular, coreModule, config) {\n  'use strict';\n\n  coreModule.default.controller('InvitedCtrl', function($scope, $routeParams, contextSrv, backendSrv) {\n    contextSrv.sidemenu = false;\n    $scope.formModel = {};\n\n    $scope.init = function() {\n      backendSrv.get('/api/user/invite/' + $routeParams.code).then(function(invite) {\n        $scope.formModel.name = invite.name;\n        $scope.formModel.email = invite.email;\n        $scope.formModel.username = invite.email;\n        $scope.formModel.inviteCode =  $routeParams.code;\n\n        $scope.greeting = invite.name || invite.email || invite.username;\n        $scope.invitedBy = invite.invitedBy;\n      });\n    };\n\n    $scope.submit = function() {\n      if (!$scope.inviteForm.$valid) {\n        return;\n      }\n\n      backendSrv.post('/api/user/invite/complete', $scope.formModel).then(function() {\n        window.location.href = config.appSubUrl + '/';\n      });\n    };\n\n    $scope.init();\n\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/controllers/invited_ctrl.js\n// module id = 731\n// module chunks = 2","define([\n  'angular',\n  '../core_module',\n],\nfunction (angular, coreModule) {\n  'use strict';\n\n  coreModule.default.controller('ResetPasswordCtrl', function($scope, contextSrv, backendSrv, $location) {\n    contextSrv.sidemenu = false;\n    $scope.formModel = {};\n    $scope.mode = 'send';\n\n    var params = $location.search();\n    if (params.code) {\n      $scope.mode = 'reset';\n      $scope.formModel.code = params.code;\n    }\n\n    $scope.sendResetEmail = function() {\n      if (!$scope.sendResetForm.$valid) {\n        return;\n      }\n      backendSrv.post('/api/user/password/send-reset-email', $scope.formModel).then(function() {\n        $scope.mode = 'email-sent';\n      });\n    };\n\n    $scope.submitReset = function() {\n      if (!$scope.resetForm.$valid) { return; }\n\n      if ($scope.formModel.newPassword !== $scope.formModel.confirmPassword) {\n        $scope.appEvent('alert-warning', ['两次密码不一致,请重新输入', '']);\n        return;\n      }\n\n      backendSrv.post('/api/user/password/reset', $scope.formModel).then(function() {\n        $location.path('login');\n      });\n    };\n\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/controllers/reset_password_ctrl.js\n// module id = 733\n// module chunks = 2","define([\n  'angular',\n  '../core_module',\n],\nfunction (angular, coreModule) {\n  'use strict';\n\n  coreModule.default.controller('JsonEditorCtrl', function($scope) {\n\n    $scope.json = angular.toJson($scope.object, true);\n    $scope.canUpdate = $scope.updateHandler !== void 0 && $scope.contextSrv.isEditor;\n\n    $scope.update = function () {\n      var newObject = angular.fromJson($scope.json);\n      $scope.updateHandler(newObject, $scope.object);\n    };\n\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/controllers/json_editor_ctrl.js\n// module id = 734\n// module chunks = 2","define([\n    'angular',\n    'lodash',\n    '../core_module',\n],\nfunction (angular, _,coreModule) {\n    'use strict';\n\n    coreModule.default.controller('InstallCtrl', function ($scope, backendSrv, datasourceSrv, contextSrv) {\n      $scope.installSelect = {\n        system: 0,\n        service: \"\"\n      };\n      //would be hard code for a while\n      $scope.services = [\"Hadoop\", \"zookeeper\", \"JMX\", \"Mysql\"];\n      $scope.platform = [\"Window\", \"Linux\"];\n      $scope.orgId = contextSrv.user.orgId;\n      $scope.alertServer = backendSrv.alertDUrl;\n      datasourceSrv.get(\"opentsdb\").then(function (ds) {\n        var url = document.createElement('a');\n        url.href = ds.url;\n        $scope.metricsServer = url.hostname;\n      });\n      $scope.changeToken = function () {\n        _.each(backendSrv.tokens, function (token) {\n          if (token.name === $scope.installSelect.system) {\n            $scope.token = token.key;\n          }\n        });\n      };\n    });\n\n  });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/controllers/installCtrl.js\n// module id = 735\n// module chunks = 2","///<reference path=\"../../headers/common.d.ts\" />\nimport angular from 'angular';\nimport _ from 'lodash';\n\nimport config from 'app/core/config';\nimport coreModule from '../core_module';\n\nexport class SignupFreeCtrl{\n\n  /** @ngInject */\n  constructor($scope, $location, backendSrv, contextSrv) {\n    $scope.formModel = {\n      email: \"\",\n      name: \"\",\n      orgName: \"\",\n      phone: \"\",\n      scale: \"\"\n    };\n    contextSrv.sidemenu = false;\n\n    $scope.submit = function () {\n      if (!$scope.signUpFrom.$valid) {\n        return;\n      }\n      if (_.excludeEmail($scope.formModel.email)) {\n        $scope.appEvent('alert-warning', ['请输入企业邮箱']);\n        return;\n      }\n      contextSrv.signupUser.orgName = $scope.formModel.orgName;\n      contextSrv.signupUser.name = $scope.formModel.name;\n\n      backendSrv.post('/api/user/signup', $scope.formModel).then(function(result) {\n        if (result.status === 'SignUpCreated') {\n          $location.path('/signup').search({email: $scope.formModel.email});\n        } else {\n          window.location.href = config.appSubUrl + '/';\n        }\n      });\n      backendSrv.post('/api/user/signup/propose', $scope.formModel).then(function () {});\n    };\n  }\n}\n\ncoreModule.controller('SignupFreeCtrl', SignupFreeCtrl);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/controllers/signupFreeCtrl.ts","define([\n    'angular',\n    '../core_module',\n    'lodash',\n],\nfunction (angular, coreModule, _) {\n    'use strict';\n\n    coreModule.default.controller('SystemCtrl', function ($scope, backendSrv, $location, contextSrv) {\n\n      $scope.dashboardSetting = {title: \"new dashboard\", system: contextSrv.user.systemId};\n      $scope.init = function () {\n        $scope.getCurrentUserSystem();\n      };\n\n      $scope.getCurrentUserSystem = function () {\n        backendSrv.get(\"/api/user/system\").then(function (system) {\n          $scope.system = _.find(system, {Id: contextSrv.user.systemId});\n        });\n      };\n\n      $scope.addSystem = function () {\n        if (!$scope.systemForm.$valid) {\n          return;\n        }\n        $scope.dismiss();\n        $location.url('dashboard/new?system=' + $scope.dashboardSetting.system + \"&title=\" + $scope.dashboardSetting.title);\n      };\n\n      $scope.init_system_choice = function () {\n        backendSrv.get(\"/api/user/system\").then(function (system) {\n          $scope.systems = system;\n        });\n      };\n\n      $scope.newSystem = function() {\n        $location.url('/org');\n      };\n    });\n  });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/controllers/systemCtrl.js\n// module id = 737\n// module chunks = 2","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport config from 'app/core/config';\nimport coreModule from '../core_module';\n\nexport class GuideUseCtrl {\n  guidePath: string;\n\n  /** @ngInject */\n  constructor($scope, $rootScope, $location, private $sce) {\n    var path = $location.path();\n    path = _.replace(path, /\\//g, '_');\n    path = _.guideMap()[path] || 'ui_summary';\n    this.guidePath = $sce.trustAsResourceUrl(`https://cloudwiz.cn/document/part4/${path}.html`);\n  }\n}\n\ncoreModule.controller('GuideUseCtrl', GuideUseCtrl);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/controllers/guide_use_ctrl.ts","define([\n  './alert_srv',\n  './util_srv',\n  './datasource_srv',\n  './context_srv',\n  './timer',\n  './keyboard_manager',\n  './analytics',\n  './popover_srv',\n  './segment_srv',\n  './backend_srv',\n  './dynamic_directive_srv',\n  './alertMgrSrv',\n  './healthSrv',\n  './integrateSrv',\n  './oncallerMgrSrv',\n  './service_dep_srv',\n  './host_srv',\n  './association_srv',\n  './guide_srv',\n  './logParseSrv',\n  './metricSrv',\n  './report_srv'\n],\nfunction () {});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/services/all.js\n// module id = 739\n// module chunks = 2","define([\n    'angular',\n    'lodash',\n    '../core_module',\n],\nfunction (angular, _, coreModule) {\n  'use strict';\n  coreModule.default.service('alertMgrSrv', function(alertSrv, backendSrv) {\n    this.alertDefMap = {};\n    var self = this;\n    var alertDefUrl = \"/alert/definition\";\n    var alertStatusUrl = \"/alert/status\";\n    var alertAssociationUrl = \"/alert/correlation\";\n    var alertHistoryUrl = \"/alert/history\";\n    var closeAlertUrl = \"/alert/status/close\";\n    var checkNameUrl = \"/alert/definition/check\";\n    var rcaFeedbackUrl = \"/rca/feedback/json\";\n    var associationPeriodsUrl = \"/alert/correlation/periods\";\n\n    this.currentCritialThreshold = 0;\n    this.currentWarningThreshold = 0;\n\n    this.load = function() {\n      return backendSrv.alertD({\n        method: \"get\",\n        url: alertDefUrl,\n      }).then(function onSuccess(response) {\n        for (var i = 0; i < response.data.length; i++) {\n          var theAlertDef = response.data[i];\n          self.alertDefMap[theAlertDef.id] = theAlertDef;\n        }\n        return response;\n      }, function onFailed(response) {\n        alertSrv.set(\"error\", response.status + \" \" + (response.data || \"Request failed\"), response.severity, 5000);\n        return response;\n      });\n    };\n\n    this.save = function(alertDef) {\n      return backendSrv.alertD({\n        method: \"post\",\n        url: alertDefUrl,\n        data: angular.toJson(alertDef),\n        headers: {'Content-Type': 'text/plain;application/json;charset=UTF-8'},\n      });\n    };\n\n    this.remove = function(alertId) {\n      return backendSrv.alertD({\n        method: \"delete\",\n        url: alertDefUrl,\n        params: {id: alertId},\n        headers: {'Content-Type': 'text/plain'},\n      });\n    };\n\n    this.get = function(id) {\n      return self.alertDefMap[id];\n    };\n\n    this.loadTriggeredAlerts = function(options) {\n      var params = {};\n      _.extend(params, options);\n      return backendSrv.alertD({\n        method: \"get\",\n        url: alertStatusUrl,\n        params: params\n      });\n    };\n\n    this.loadAssociatedMetrics = function(params) {\n      return backendSrv.alertD({\n        method: \"get\",\n        url: alertAssociationUrl,\n        params: params\n      });\n    };\n\n    this.resetCorrelation = function(alertMetric, alertHost, backtrackSteps, advancedSteps) {\n      return backendSrv.alertD({\n        method: \"post\",\n        url: alertAssociationUrl,\n        params: {\n          metric: alertMetric,\n          host: alertHost,\n          backtrackSteps: backtrackSteps,\n          advancedSteps: advancedSteps,\n          reset: true\n        },\n        headers: {'Content-Type': 'text/plain'},\n      });\n    };\n\n    this.loadAssociatedPeriods = function(params) {\n      return backendSrv.alertD({\n        method: \"get\",\n        url: associationPeriodsUrl,\n        params: params\n      });\n    };\n\n    this.resetCurrentThreshold = function (threshold) {\n      self.currentWarningThreshold = threshold.warn;\n      self.currentCritialThreshold = threshold.crit;\n    };\n\n    this.loadAlertHistory = function(fromTime, host) {\n      var params = { from: fromTime };\n      host && (params['host'] = host);\n\n      return backendSrv.alertD({\n        method: \"get\",\n        url: alertHistoryUrl,\n        params: params\n      });\n    };\n\n    this.closeAlert = function(alertId, host, alertReason, userName) {\n      return backendSrv.alertD({\n        method: \"post\",\n        url: closeAlertUrl,\n        params: {\n          id: alertId,\n          host: host,\n        },\n        data:{\n          reason: alertReason,\n          closeBy: userName\n        },\n        headers: {'Content-Type': 'text/plain;application/json;charset=UTF-8'},\n      });\n    };\n\n    this.rcaFeedback = function(rcaFeedback) {\n      return backendSrv.alertD({\n        method: \"post\",\n        url: rcaFeedbackUrl,\n        data:rcaFeedback,\n        headers: {'Content-Type': 'text/plain;application/json;charset=UTF-8'},\n      });\n    };\n\n    this.checkName = function(ruleName) {\n      return backendSrv.alertD({\n        method: 'get',\n        url: checkNameUrl,\n        params: {\n          name: ruleName,\n        }\n      });\n    };\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/services/alertMgrSrv.js\n// module id = 740\n// module chunks = 2","///<reference path=\"../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport _ from 'lodash';\nimport $ from 'jquery';\nimport coreModule from 'app/core/core_module';\nimport appEvents from 'app/core/app_events';\n\nexport class AlertSrv {\n  list: any[];\n\n  /** @ngInject */\n  constructor(private $timeout, private $sce, private $rootScope, private $_modal) {\n    this.list = [];\n  }\n\n  init() {\n    this.$rootScope.onAppEvent('alert-error', (e, alert) => {\n      this.set(alert[0], alert[1], 'error', 0);\n    }, this.$rootScope);\n\n    this.$rootScope.onAppEvent('alert-warning', (e, alert) => {\n      this.set(alert[0], alert[1], 'warning', 5000);\n    }, this.$rootScope);\n\n    this.$rootScope.onAppEvent('alert-success', (e, alert) => {\n      this.set(alert[0], alert[1], 'success', 3000);\n    }, this.$rootScope);\n\n    appEvents.on('confirm-modal', this.showConfirmModal.bind(this));\n\n    this.$rootScope.onAppEvent('confirm-modal', (e, data) => {\n      this.showConfirmModal(data);\n    }, this.$rootScope);\n  }\n\n  set(title, text, severity, timeout) {\n    var newAlert = {\n      title: title || '',\n      text: text || '',\n      severity: severity || 'info',\n    };\n\n    var newAlertJson = angular.toJson(newAlert);\n\n    // remove same alert if it already exists\n    _.remove(this.list, function(value) {\n      return angular.toJson(value) === newAlertJson;\n    });\n\n    this.list.push(newAlert);\n    if (timeout > 0) {\n      this.$timeout(() => {\n        this.list = _.without(this.list, newAlert);\n      }, timeout);\n    }\n\n    if (!this.$rootScope.$$phase) {\n      this.$rootScope.$digest();\n    }\n\n    return(newAlert);\n  }\n\n  clear(alert) {\n    this.list = _.without(this.list, alert);\n  }\n\n  clearAll() {\n    this.list = [];\n  }\n\n  showConfirmModal(payload) {\n    var scope = this.$rootScope.$new();\n\n    scope.title = payload.title;\n    scope.text = payload.text;\n    scope.text2 = payload.text2;\n    scope.onConfirm = payload.onConfirm;\n    scope.icon = payload.icon || \"fa-check\";\n    scope.yesText = payload.yesText || \"Yes\";\n    scope.noText = payload.noText || \"Cancel\";\n\n    var confirmModal = this.$_modal({\n      template: 'public/app/partials/confirm_modal.html',\n      persist: false,\n      modalClass: 'confirm-modal',\n      show: false,\n      scope: scope,\n      keyboard: false\n    });\n\n    confirmModal.then(function(modalEl) {\n      modalEl.modal('show');\n    });\n  }\n}\n\ncoreModule.service('alertSrv', AlertSrv);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/services/alert_srv.ts","define([\n  'angular',\n  'lodash',\n  '../core_module',\n  'app/core/config',\n  'app/core/utils/datemath',\n],\nfunction (angular, _, coreModule, config, dateMath) {\n  'use strict';\n\n  coreModule.default.service('datasourceSrv', function($q, $injector, $rootScope, templateSrv) {\n    var self = this;\n\n    this.init = function() {\n      this.datasources = {};\n    };\n\n    this.get = function(name) {\n      if (!name) {\n        return this.get(config.defaultDatasource);\n      }\n\n      name = templateSrv.replace(name);\n\n      if (this.datasources[name]) {\n        return $q.when(this.datasources[name]);\n      }\n\n      return this.loadDatasource(name);\n    };\n\n    this.loadDatasource = function(name) {\n      var dsConfig = config.datasources[name];\n      if (!dsConfig) {\n        return $q.reject({message: \"Datasource named \" + name + \" was not found\"});\n      }\n\n      var deferred = $q.defer();\n      var pluginDef = dsConfig.meta;\n\n      System.import(pluginDef.module).then(function(plugin) {\n        // check if its in cache now\n        if (self.datasources[name]) {\n          deferred.resolve(self.datasources[name]);\n          return;\n        }\n\n        // plugin module needs to export a constructor function named Datasource\n        if (!plugin.Datasource) {\n          throw \"Plugin module is missing Datasource constructor\";\n        }\n\n        var instance = $injector.instantiate(plugin.Datasource, {instanceSettings: dsConfig});\n        instance.meta = pluginDef;\n        instance.name = name;\n        self.datasources[name] = instance;\n        deferred.resolve(instance);\n      }).catch(function(err) {\n        $rootScope.appEvent('alert-error', [dsConfig.name + ' plugin failed', err.toString()]);\n      });\n\n      return deferred.promise;\n    };\n\n    this.getAll = function() {\n      return config.datasources;\n    };\n\n    this.getAnnotationSources = function() {\n      return _.reduce(config.datasources, function(memo, value) {\n\n        if (value.meta && value.meta.annotations) {\n          memo.push(value);\n        }\n\n        return memo;\n      }, []);\n    };\n\n    this.getMetricSources = function(options) {\n      var metricSources = [];\n\n      _.each(config.datasources, function(value, key) {\n        if (value.meta && value.meta.metrics) {\n          metricSources.push({\n            value: key === config.defaultDatasource ? null : key,\n            name: key,\n            meta: value.meta,\n          });\n        }\n      });\n\n      if (!options || !options.skipVariables) {\n        // look for data source variables\n        for (var i = 0; i < templateSrv.variables.length; i++) {\n          var variable = templateSrv.variables[i];\n          if (variable.type !== 'datasource') {\n            continue;\n          }\n\n          var first = variable.current.value;\n          var ds = config.datasources[first];\n\n          if (ds) {\n            metricSources.push({\n              name: '$' + variable.name,\n              value: '$' + variable.name,\n              meta: ds.meta,\n            });\n          }\n        }\n      }\n\n      metricSources.sort(function(a, b) {\n        if (a.meta.builtIn || a.name > b.name) {\n          return 1;\n        }\n        if (a.name < b.name) {\n          return -1;\n        }\n        return 0;\n      });\n\n      return metricSources;\n    };\n\n    this.getStatus = function(query, startTime, endTime) {\n      var end = endTime ? dateMath.parse(endTime, false).valueOf() : null;\n      return this.get('opentsdb').then(function(datasource) {\n        return datasource.performTimeSeriesQuery(query, dateMath.parse(startTime, false).valueOf(), end).then(function(response) {\n          if (_.isEmpty(response.data)) {\n            throw Error;\n          }\n          return response.data;\n        });\n      });\n    };\n\n    this.getHostStatus = function(query, startTime, endTime) {\n      return this.getStatus(query, startTime, endTime).then(function (response) {\n        var service = _.getMetricName(query[0].metric);\n        var status = null;\n        var host = null;\n        _.each(response, function (metricData) {\n          host = metricData.tags.host;\n          if (_.isObject(metricData)) {\n            status = metricData.dps[Object.keys(metricData.dps)[0]];\n            if(typeof(status) !== \"number\") {\n              throw Error;\n            }\n          }\n        });\n        return {name: service, status: status, host: host};\n      });\n    };\n\n    this.getHostResource = function (query, startTime, endTime) {\n      return this.getStatus(query, startTime, endTime).then(function (response) {\n        var service = _.getMetricName(query[0].metric);\n        var value = null;\n        var host = null;\n        var time = null;\n        var result = [];\n        _.each(response, function (metricData) {\n          host = metricData.tags.host;\n          if (_.isObject(metricData)) {\n            time = _.last(Object.keys(metricData.dps));\n            value = metricData.dps[time];\n            // if (typeof(value) !== \"number\") { throw Error; }\n          }\n          result.push({ name: service, value: value, host: host, time: time, tags: metricData.tags });\n        });\n        return result;\n      });\n    };\n\n    this.init();\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/services/datasource_srv.js\n// module id = 742\n// module chunks = 2","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 743;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/services lazy\n// module id = 743\n// module chunks = 2","///<reference path=\"../../headers/common.d.ts\" />\n\nimport config from 'app/core/config';\nimport _ from 'lodash';\nimport coreModule from 'app/core/core_module';\nimport store from 'app/core/store';\n\nexport class User {\n  isGrafanaAdmin: any;\n  isSignedIn: any;\n  orgRole: any;\n  systemId: any;\n\n  constructor() {\n    if (config.bootData.user) {\n      _.extend(this, config.bootData.user);\n    }\n  }\n}\n\nexport class SignupUser {\n  orgName: any;\n  name: any;\n  constructor() {}\n}\n\nexport class ContextSrv {\n  pinned: any;\n  version: any;\n  user: User;\n  isSignedIn: any;\n  isGrafanaAdmin: any;\n  isEditor: any;\n  sidemenu: any;\n  userTheme: any;\n  isOrgAdmin: any;\n  dashboardLink: any;\n  systemsMap: any;\n  hostNum: any;\n  isViewer: any;\n  signupUser: SignupUser;\n\n  constructor() {\n    this.pinned = store.getBool('grafana.sidemenu.pinned', false);\n    this.sidemenu = this.pinned ? true : false;\n\n    if (!config.buildInfo) {\n      config.buildInfo = {};\n    }\n    if (!config.bootData) {\n      config.bootData = {user: {}, settings: {}};\n    }\n\n    this.version = config.buildInfo.version;\n    this.user = new User();\n    this.isSignedIn = this.user.isSignedIn;\n    this.isGrafanaAdmin = this.user.isGrafanaAdmin;\n    this.isEditor = this.hasRole('Editor') || this.hasRole('Admin');\n    this.isOrgAdmin = this.hasRole('Admin');\n    this.dashboardLink = \"\";\n    this.systemsMap = config.bootData.systems;\n    this.hostNum = 0;\n    this.isViewer = this.hasRole('Viewer');\n    this.signupUser = new SignupUser();\n  }\n\n  hasRole(role) {\n    return this.user.orgRole === role;\n  }\n\n  setPinnedState(val) {\n    this.pinned = val;\n    store.set('grafana.sidemenu.pinned', val);\n  }\n\n  toggleSideMenu($event) {\n    $event && $event.preventDefault();\n    this.sidemenu = !this.sidemenu;\n    this.setPinnedState(true);\n  }\n}\n\nvar contextSrv = new ContextSrv();\nexport {contextSrv};\n\ncoreModule.factory('contextSrv', function() {\n  return contextSrv;\n});\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/services/context_srv.ts","define([\n  'angular',\n  'lodash',\n  '../core_module',\n],\nfunction (angular, _, coreModule) {\n  'use strict';\n\n  coreModule.default.service('timer', function($timeout) {\n    // This service really just tracks a list of $timeout promises to give us a\n    // method for cancelling them all when we need to\n\n    var timers = [];\n\n    this.register = function(promise) {\n      timers.push(promise);\n      return promise;\n    };\n\n    this.cancel = function(promise) {\n      timers = _.without(timers,promise);\n      $timeout.cancel(promise);\n    };\n\n    this.cancel_all = function() {\n      _.each(timers, function(t) {\n        $timeout.cancel(t);\n      });\n      timers = [];\n    };\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/services/timer.js\n// module id = 745\n// module chunks = 2","define([\n  'angular',\n  'lodash',\n  '../core_module',\n],\nfunction (angular, _, coreModule) {\n  'use strict';\n\n  // This service was based on OpenJS library available in BSD License\n  // http://www.openjs.com/scripts/events/keyboard_shortcuts/index.php\n  coreModule.default.factory('keyboardManager', ['$window', '$timeout', function ($window, $timeout) {\n    var keyboardManagerService = {};\n\n    var defaultOpt = {\n      'type':             'keydown',\n      'propagate':        false,\n      'inputDisabled':    false,\n      'target':           $window.document,\n      'keyCode':          false\n    };\n    // Store all keyboard combination shortcuts\n    keyboardManagerService.keyboardEvent = {};\n    // Add a new keyboard combination shortcut\n    keyboardManagerService.bind = function (label, callback, opt) {\n      var fct, elt, code, k;\n      // Initialize opt object\n      opt   = angular.extend({}, defaultOpt, opt);\n      label = label.toLowerCase();\n      elt   = opt.target;\n\n      if (typeof opt.target === 'string') {\n        elt = document.getElementById(opt.target);\n      }\n\n      fct = function (e) {\n        e = e || $window.event;\n\n        // Disable event handler when focus input and textarea\n        if (opt['inputDisabled']) {\n          var elt;\n          if (e.target) {\n            elt = e.target;\n          }\n          else if (e.srcElement) {\n            elt = e.srcElement;\n          }\n\n          if (elt.nodeType === 3) {\n            elt = elt.parentNode;\n          }\n\n          if (elt.tagName === 'INPUT' || elt.tagName === 'TEXTAREA') {\n            return;\n          }\n        }\n\n        // Find out which key is pressed\n        if (e.keyCode) {\n          code = e.keyCode;\n        }\n        else if (e.which) {\n          code = e.which;\n        }\n\n        var character = String.fromCharCode(code).toLowerCase();\n\n        if (code === 188) {\n          character = \",\"; // If the user presses , when the type is onkeydown\n        }\n        if (code === 190) {\n          character = \".\"; // If the user presses , when the type is onkeydown\n        }\n\n        var keys = label.split(\"+\");\n        // Key Pressed - counts the number of valid keypresses - if it is same as the number of keys, the shortcut function is invoked\n        var kp = 0;\n        // Work around for stupid Shift key bug created by using lowercase - as a result the shift+num combination was broken\n        var shift_nums = {\n          \"`\": \"~\",\n          \"1\": \"!\",\n          \"2\": \"@\",\n          \"3\": \"#\",\n          \"4\": \"$\",\n          \"5\": \"%\",\n          \"6\": \"^\",\n          \"7\": \"&\",\n          \"8\": \"*\",\n          \"9\": \"(\",\n          \"0\": \")\",\n          \"-\": \"_\",\n          \"=\": \"+\",\n          \";\": \":\",\n          \"'\": \"\\\"\",\n          \",\": \"<\",\n          \".\": \">\",\n          \"/\": \"?\",\n          \"»\": \"?\",\n          \"«\": \"?\",\n          \"¿\": \"?\",\n          \"\\\\\": \"|\"\n        };\n        // Special Keys - and their codes\n        var special_keys = {\n          'esc': 27,\n          'escape': 27,\n          'tab': 9,\n          'space': 32,\n          'return': 13,\n          'enter': 13,\n          'backspace': 8,\n\n          'scrolllock': 145,\n          'scroll_lock': 145,\n          'scroll': 145,\n          'capslock': 20,\n          'caps_lock': 20,\n          'caps': 20,\n          'numlock': 144,\n          'num_lock': 144,\n          'num': 144,\n\n          'pause': 19,\n          'break': 19,\n\n          'insert': 45,\n          'home': 36,\n          'delete': 46,\n          'end': 35,\n\n          'pageup': 33,\n          'page_up': 33,\n          'pu': 33,\n\n          'pagedown': 34,\n          'page_down': 34,\n          'pd': 34,\n\n          'left': 37,\n          'up': 38,\n          'right': 39,\n          'down': 40,\n\n          'f1': 112,\n          'f2': 113,\n          'f3': 114,\n          'f4': 115,\n          'f5': 116,\n          'f6': 117,\n          'f7': 118,\n          'f8': 119,\n          'f9': 120,\n          'f10': 121,\n          'f11': 122,\n          'f12': 123\n        };\n        // Some modifiers key\n        var modifiers = {\n          shift: {\n            wanted:   false,\n            pressed:  e.shiftKey ? true : false\n          },\n          ctrl : {\n            wanted:   false,\n            pressed:  e.ctrlKey ? true : false\n          },\n          alt  : {\n            wanted:   false,\n            pressed:  e.altKey ? true : false\n          },\n          meta : { //Meta is Mac specific\n            wanted:   false,\n            pressed:  e.metaKey ? true : false\n          }\n        };\n        // Foreach keys in label (split on +)\n        for (var i = 0, l = keys.length; k = keys[i], i < l; i++) {\n          switch (k) {\n          case 'ctrl':\n          case 'control':\n            kp++;\n            modifiers.ctrl.wanted = true;\n            break;\n          case 'shift':\n          case 'alt':\n          case 'meta':\n            kp++;\n            modifiers[k].wanted = true;\n            break;\n          }\n\n          if (k.length > 1) { // If it is a special key\n            if (special_keys[k] === code) {\n              kp++;\n            }\n          } else if (opt['keyCode']) { // If a specific key is set into the config\n            if (opt['keyCode'] === code) {\n              kp++;\n            }\n          } else { // The special keys did not match\n            if (character === k) {\n              kp++;\n            }\n            else {\n              if (shift_nums[character] && e.shiftKey) { // Stupid Shift key bug created by using lowercase\n                character = shift_nums[character];\n                if (character === k) {\n                  kp++;\n                }\n              }\n            }\n          }\n        }\n\n        if (kp === keys.length &&\n          modifiers.ctrl.pressed === modifiers.ctrl.wanted &&\n          modifiers.shift.pressed === modifiers.shift.wanted &&\n          modifiers.alt.pressed === modifiers.alt.wanted &&\n          modifiers.meta.pressed === modifiers.meta.wanted) {\n          $timeout(function() {\n            callback(e);\n          }, 1);\n\n          if (!opt['propagate']) { // Stop the event\n            // e.cancelBubble is supported by IE - this will kill the bubbling process.\n            e.cancelBubble = true;\n            e.returnValue = false;\n\n            // e.stopPropagation works in Firefox.\n            if (e.stopPropagation) {\n              e.stopPropagation();\n              e.preventDefault();\n            }\n            return false;\n          }\n        }\n\n      };\n      // Store shortcut\n      keyboardManagerService.keyboardEvent[label] = {\n        'callback': fct,\n        'target':   elt,\n        'event':    opt['type']\n      };\n      //Attach the function with the event\n      if (elt.addEventListener) {\n        elt.addEventListener(opt['type'], fct, false);\n      }\n      else if (elt.attachEvent) {\n        elt.attachEvent('on' + opt['type'], fct);\n      }\n      else {\n        elt['on' + opt['type']] = fct;\n      }\n    };\n\n    keyboardManagerService.unbindAll = function() {\n      _.each(keyboardManagerService.keyboardEvent, function(value, key) {\n        keyboardManagerService.unbind(key);\n      });\n    };\n\n    // Remove the shortcut - just specify the shortcut and I will remove the binding\n    keyboardManagerService.unbind = function (label) {\n      label = label.toLowerCase();\n\n      var binding = keyboardManagerService.keyboardEvent[label];\n      delete(keyboardManagerService.keyboardEvent[label]);\n\n      if (!binding) {\n        return;\n      }\n\n      var type    = binding['event'],\n      elt     = binding['target'],\n      callback  = binding['callback'];\n\n      if (elt.detachEvent) {\n        elt.detachEvent('on' + type, callback);\n      }\n      else if (elt.removeEventListener) {\n        elt.removeEventListener(type, callback, false);\n      }\n      else {\n        elt['on' + type] = false;\n      }\n    };\n    //\n    return keyboardManagerService;\n  }]);\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/services/keyboard_manager.js\n// module id = 746\n// module chunks = 2","define([\n  'angular',\n  '../core_module',\n],\nfunction(angular, coreModule) {\n  'use strict';\n\n  coreModule.default.service('googleAnalyticsSrv', function($rootScope, $location) {\n    var first = true;\n\n    this.init = function() {\n      $rootScope.$on('$viewContentLoaded', function() {\n        // skip first\n        if (first) {\n          first = false;\n          return;\n        }\n        window.ga('send', 'pageview', { page: $location.url() });\n      });\n    };\n\n  }).run(function(googleAnalyticsSrv) {\n    if (window.ga) {\n      googleAnalyticsSrv.init();\n    }\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/services/analytics.js\n// module id = 747\n// module chunks = 2","///<reference path=\"../../headers/common.d.ts\" />\n\nimport config from 'app/core/config';\nimport _ from 'lodash';\nimport $ from 'jquery';\nimport coreModule from 'app/core/core_module';\nimport Drop from 'tether-drop';\n\n/** @ngInject **/\nfunction popoverSrv($compile, $rootScope) {\n\n  this.show = function(options) {\n    var popoverScope = _.extend($rootScope.$new(true), options.model);\n    var drop;\n\n    function destroyDrop() {\n      setTimeout(function() {\n        if (drop.tether) {\n          drop.destroy();\n        }\n      });\n    }\n\n    popoverScope.dismiss = function() {\n      popoverScope.$destroy();\n      destroyDrop();\n    };\n\n    var contentElement = document.createElement('div');\n    contentElement.innerHTML = options.template;\n\n    $compile(contentElement)(popoverScope);\n\n    drop = new Drop({\n      target: options.element,\n      content: contentElement,\n      position: options.position,\n      classes: options.classes + ' drop-popover',\n      openOn: options.openOn || 'hover',\n      hoverCloseDelay: 200,\n      tetherOptions: {\n        constraints: [{to: 'window', pin: true, attachment: \"both\"}]\n      }\n    });\n\n    drop.on('close', () => {\n      popoverScope.dismiss({fromDropClose: true});\n      destroyDrop();\n      if (options.onClose) {\n        options.onClose();\n      }\n    });\n\n    setTimeout(() => { drop.open(); }, 10);\n  };\n}\n\ncoreModule.service('popoverSrv', popoverSrv);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/services/popover_srv.ts","define([\n  'angular',\n  'lodash',\n  '../core_module',\n],\nfunction (angular, _, coreModule) {\n  'use strict';\n\n  coreModule.default.service('uiSegmentSrv', function($sce, templateSrv) {\n    var self = this;\n\n    function MetricSegment(options) {\n      if (options === '*' || options.value === '*') {\n        this.value = '*';\n        this.html = $sce.trustAsHtml('<i class=\"fa fa-asterisk\"><i>');\n        this.expandable = true;\n        return;\n      }\n\n      if (_.isString(options)) {\n        this.value = options;\n        this.html = $sce.trustAsHtml(templateSrv.highlightVariablesAsHtml(this.value));\n        return;\n      }\n\n      this.cssClass = options.cssClass;\n      this.custom = options.custom;\n      this.type = options.type;\n      this.fake = options.fake;\n      this.value = options.value;\n      this.type = options.type;\n      this.expandable = options.expandable;\n      this.html = options.html || $sce.trustAsHtml(templateSrv.highlightVariablesAsHtml(this.value));\n    }\n\n    this.getSegmentForValue = function(value, fallbackText) {\n      if (value) {\n        return this.newSegment(value);\n      } else {\n        return this.newSegment({value: fallbackText, fake: true});\n      }\n    };\n\n    this.newSelectMeasurement = function() {\n      return new MetricSegment({value: 'select measurement', fake: true});\n    };\n\n    this.newFake = function(text, type, cssClass) {\n      return new MetricSegment({value: text, fake: true, type: type, cssClass: cssClass});\n    };\n\n    this.newSegment = function(options) {\n      return new MetricSegment(options);\n    };\n\n    this.newKey = function(key) {\n      return new MetricSegment({value: key, type: 'key', cssClass: 'query-segment-key' });\n    };\n\n    this.newKeyValue = function(value) {\n      return new MetricSegment({value: value, type: 'value', cssClass: 'query-segment-value' });\n    };\n\n    this.newCondition = function(condition) {\n      return new MetricSegment({value: condition, type: 'condition', cssClass: 'query-keyword' });\n    };\n\n    this.newOperator = function(op) {\n      return new MetricSegment({value: op, type: 'operator', cssClass: 'query-segment-operator' });\n    };\n\n    this.newOperators = function(ops) {\n      return _.map(ops, function(op) {\n        return new MetricSegment({value: op, type: 'operator', cssClass: 'query-segment-operator' });\n      });\n    };\n\n    this.transformToSegments = function(addTemplateVars, variableTypeFilter) {\n      return function(results) {\n        var segments = _.map(results, function(segment) {\n          return self.newSegment({ value: segment.text, expandable: segment.expandable });\n        });\n\n        if (addTemplateVars) {\n          _.each(templateSrv.variables, function(variable) {\n            if (variableTypeFilter === void 0 || variableTypeFilter === variable.type) {\n              segments.unshift(self.newSegment({ type: 'template', value: '$' + variable.name, expandable: true }));\n            }\n          });\n        }\n\n        return segments;\n      };\n    };\n\n    this.newSelectMetric = function() {\n      return new MetricSegment({value: 'select metric', fake: true});\n    };\n\n    this.newPlusButton = function() {\n      return new MetricSegment({fake: true, html: '<i class=\"fa fa-plus \"></i>', type: 'plus-button' });\n    };\n\n    this.newSelectTagValue = function() {\n      return new MetricSegment({value: 'select tag value', fake: true});\n    };\n\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/services/segment_srv.js\n// module id = 749\n// module chunks = 2","define([\n  'angular',\n  'lodash',\n  '../core_module',\n  'app/core/config',\n],\nfunction (angular, _, coreModule, config) {\n  'use strict';\n\n  coreModule.default.service('backendSrv', function($http, alertSrv, $timeout, contextSrv, $q) {\n    var self = this;\n    this.alertDUrl;\n    this.downloadUrl;\n    this.tokens = null;\n\n    this.get = function(url, params) {\n      return this.request({ method: 'GET', url: url, params: params });\n    };\n\n    this.delete = function(url) {\n      return this.request({ method: 'DELETE', url: url });\n    };\n\n    this.post = function(url, data) {\n      return this.request({ method: 'POST', url: url, data: data });\n    };\n\n    this.patch = function(url, data) {\n      return this.request({ method: 'PATCH', url: url, data: data });\n    };\n\n    this.put = function(url, data) {\n      return this.request({ method: 'PUT', url: url, data: data });\n    };\n\n    this._handleError = function(err) {\n      return function() {\n        if (err.isHandled) {\n          return;\n        }\n\n        var data = err.data || { message: 'Unexpected error' };\n        if (_.isString(data)) {\n          data = { message: data };\n        }\n\n        if (err.status === 422) {\n          alertSrv.set(\"Validation failed\", data.message, \"warning\", 4000);\n          throw data;\n        }\n\n        data.severity = 'error';\n\n        if (err.status < 500) {\n          data.severity = \"warning\";\n        }\n\n        if (data.message) {\n          alertSrv.set(\"Problem!\", data.message, data.severity, 10000);\n        }\n\n        throw data;\n      };\n    };\n\n    this.request = function(options) {\n      options.retry = options.retry || 0;\n      var requestIsLocal = options.url.indexOf('/') === 0;\n      var firstAttempt = options.retry === 0;\n\n      if (requestIsLocal && !options.hasSubUrl) {\n        options.url = config.appSubUrl + options.url;\n        options.hasSubUrl = true;\n      }\n\n      if (self.isIE()) {\n        var bust = Date.now();\n        options.params ? options.params.bust = bust : options.params = {'bust': bust};\n      }\n\n      return $http(options).then(function(results) {\n        if (options.method !== 'GET') {\n          if (results && results.data.message) {\n            alertSrv.set(results.data.message, '', 'success', 3000);\n          }\n        }\n        return results.data;\n      }, function(err) {\n        // handle unauthorized\n        if (err.status === 401 && firstAttempt) {\n          return self.loginPing().then(function() {\n            options.retry = 1;\n            return self.request(options);\n          });\n        }\n\n        $timeout(self._handleError(err), 50);\n        throw err;\n      });\n    };\n\n    this.datasourceRequest = function(options) {\n      options.retry = options.retry || 0;\n      var requestIsLocal = options.url.indexOf('/') === 0;\n      var firstAttempt = options.retry === 0;\n\n      if (self.isIE()) {\n        var bust = Date.now();\n        options.params ? options.params.bust = bust : options.params = {'bust': bust};\n      }\n\n      return $http(options).then(null, function(err) {\n        // handle unauthorized for backend requests\n        if (requestIsLocal && firstAttempt  && err.status === 401) {\n          return self.loginPing().then(function() {\n            options.retry = 1;\n            return self.datasourceRequest(options);\n          });\n        }\n\n        //populate error obj on Internal Error\n        if (_.isString(err.data) && err.status === 500) {\n          err.data = {\n            error: err.statusText,\n            response: err.data,\n          };\n        }\n\n        // for Prometheus\n        // if (!err.data.message && _.isString(err.data.error)) {\n        //   err.data.message = err.data.error;\n        // }\n\n        throw err;\n      });\n    };\n\n    this.loginPing = function() {\n      return this.request({url: '/api/login/ping', method: 'GET', retry: 1 });\n    };\n\n    this.search = function(query) {\n      return this.get('/api/search', query);\n    };\n\n    this.getDashboard = function(type, slug) {\n      return this.get('/api/dashboards/' + type + '/' + slug);\n    };\n\n    this.saveDashboard = function(dash, options) {\n      options = (options || {});\n      return this.post('/api/dashboards/db/', {dashboard: dash, overwrite: options.overwrite === true});\n    };\n\n    this.getSystemById = function (id) {\n      var sys = '';\n      _.each(contextSrv.systemsMap, function (system) {\n        if (system.Id === parseInt(id)) {\n          sys = system.SystemsName;\n        }\n      });\n      return sys;\n    };\n\n    //update system cache when systems change\n    this.updateSystemsMap = function () {\n      var getTokens = this.updateTokens();\n\n      var getSystems = this.get(\"/api/user/system\").then(function (systems) {\n        contextSrv.systemsMap = systems;\n      });\n      return $q.all([getTokens, getSystems]);\n    };\n\n    this.updateTokens = function () {\n      var updateToken = this.get('/api/auth/keys').then(function (tokens) {\n        self.tokens = tokens;\n      });\n      return $q.all([updateToken, this.initCustomizedSources()]);\n    };\n\n    this.updateSystemId = function(id) {\n      contextSrv.user.systemId = id;\n    };\n\n    this.initCustomizedSources = function () {\n      return this.get('/api/customized_sources').then(function (result) {\n        self.alertDUrl = result.alert;\n        self.downloadUrl = result.download;\n        contextSrv.elkUrl = result.elk;\n      });\n    };\n\n    this.getToken = function () {\n      return _.chain(self.tokens).filter({'name': contextSrv.user.systemId.toString()}).first().pick('key').values().first().value();\n    };\n\n    this.alertD = function (options) {\n      if (_.isEmpty(options.params)) {\n        options.params = {};\n      }\n      if (self.tokens) {\n        options.url = self.alertDUrl + options.url;\n        options.params.token = this.getToken();\n        return this.datasourceRequest(options);\n      }\n      return self.updateTokens().then(function () {\n        options.url = self.alertDUrl + options.url;\n        options.params.token = self.getToken();\n      }).then(function () {\n        if (_.isEmpty(options.params.token)) {\n          alertSrv.set(\"错误,无法获取TOKEN\", \"请联系service@cloudwiz.cn\", \"warning\", 4000);\n          var d = $q.defer();\n          d.resolve({});\n          return d.promise;\n        }\n        return self.datasourceRequest(options);\n      });\n    };\n\n    this.logCluster = function (options) {\n      if (_.isEmpty(options.params)) {\n        options.params = {};\n      }\n      options.withCredentials = true;\n      options.url = contextSrv.elkUrl + options.url;\n      return this.datasourceRequest(options);\n    };\n\n    this.knowledge = function (options) {\n      if (_.isEmpty(options.params)) {\n        options.params = {};\n      }\n      options.withCredentials = true;\n      options.url = contextSrv.elkUrl + \"/knowledgebase/article\" + options.url;\n      return this.datasourceRequest(options);\n    };\n\n    this.suggestTagHost = function (query, callback) {\n      self.alertD({\n        method: \"get\",\n        url: \"/summary\",\n        params: {metrics: \"collector.summary\"},\n        headers: {'Content-Type': 'text/plain'},\n      }).then(function (response) {\n        var hosts = [];\n        _.each(response.data, function (summary) {\n          hosts.push(summary.tag.host);\n        });\n        return hosts;\n      }).then(callback);\n    };\n\n    this.getPrediction = function(params) {\n      return self.alertD({\n        method: \"get\",\n        url: \"/anomaly/prediction\",\n        params: params,\n        headers: {'Content-Type': 'application/json;'},\n      });\n    };\n\n    this.getPredictionPercentage = function (params) {\n      return self.alertD({\n        method: \"get\",\n        url   : \"/anomaly/prediction/usages\",\n        params: params,\n        headers: {'Content-Type': 'application/json;'}\n      });\n    };\n\n    this.getHostsNum = function () {\n      return this.alertD({\n        method: \"get\",\n        url: \"/cmdb/host\"\n      }).then(function (response) {\n        return response.data.length;\n      });\n    };\n\n    this.saveCustomSoftware = function(params, url) {\n      return this.alertD({\n        method: \"post\",\n        url: url,\n        data: angular.toJson(params),\n        headers: {'Content-Type': 'application/json;'},\n      });\n    };\n\n    this.editServiceHost = function(params) {\n      return this.alertD({\n        method: \"post\",\n        url: \"/cmdb/relationship/overwrite\",\n        data: angular.toJson(params),\n        headers: {'Content-Type': 'application/json;'},\n      });\n    };\n\n    this.readMetricHelpMessage = function (key) {\n      !_.metricMessage[key] && this.get('/api/static/metric/' + key).then(function (result) {\n        _.metricMessage[key] = result;\n        _.extend(_.metricHelpMessage, result);\n      })\n      .catch(function (err) {\n        // set isHandled true, then alertSrv won't show\n        err.isHandled = true;\n      });\n    };\n\n    this.getHosts = function (query) {\n      return this.alertD({\n        method: \"POST\",\n        url   : \"/host/metrics\",\n        data  : query\n      });\n    };\n\n    this.getServices = function() {\n      return this.alertD({\n        method: 'get',\n        url   : \"/cmdb/service/metrics\"\n      });\n    }\n\n    this.getKpi = function(params) {\n      return this.alertD({\n        method: 'get',\n        url   : '/service/kpi',\n        params: params\n      });\n    }\n\n    this.editKpi = function(params) {\n      return this.alertD({\n        method: 'post',\n        url   : '/service/kpi',\n        params: params\n      });\n    }\n\n    this.importMetricsKpi = function() {\n      return this.get('/api/static/metric/kpi');\n    }\n\n    this.isIE = function() {\n      var userAgent = navigator.userAgent;\n      return userAgent.indexOf(\"MSIE \") > -1 || userAgent.indexOf(\"Trident/\") > -1 || userAgent.indexOf(\"Edge/\") > -1;\n    }\n\n    this.getOpentsdbExpressionQuery = function (query, opentsdbUrl) {\n      var tags = query.tags || [\n        {\n          \"type\": \"wildcard\",\n          \"tagk\": \"host\",\n          \"filter\": \"*\",\n          \"groupBy\": true\n        }\n      ];\n      var tmpl = {\n        \"time\": {\n          \"start\": query.timeRange.from,\n          \"end\": query.timeRange.to,\n          \"aggregator\": \"sum\",\n          \"downsampler\": {\n            \"interval\": \"1m\",\n            \"aggregator\": \"avg\"\n          }\n        },\n        \"filters\": [\n          {\n            \"tags\": tags,\n            \"id\": \"f1\"\n          }\n        ],\n        \"metrics\": query.metrics,\n        \"expressions\": [\n          {\n            \"id\": \"aa\",\n            \"expr\": query.metricExpression, // \"a + b\"\n            \"join\": {\n              \"operator\": \"intersection\",\n              \"useQueryTags\": true,\n              \"includeAggTags\": false\n            }\n          }\n        ],\n        \"outputs\": [\n          { \"id\": \"aa\", \"alias\": \"Mega expression\" }\n        ]\n      };\n\n      return this.datasourceRequest({\n        method: 'POST',\n        url: opentsdbUrl + '/api/query/exp',\n        data: tmpl\n      });\n    }\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/services/backend_srv.js\n// module id = 750\n// module chunks = 2","///<reference path=\"../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport coreModule from '../core_module';\n\nclass DynamicDirectiveSrv {\n\n  /** @ngInject */\n  constructor(private $compile, private $parse, private $rootScope) {}\n\n  addDirective(element, name, scope) {\n    var child = angular.element(document.createElement(name));\n    this.$compile(child)(scope);\n\n    element.empty();\n    element.append(child);\n  }\n\n  link(scope, elem, attrs, options) {\n    options.directive(scope).then(directiveInfo => {\n      if (!directiveInfo || !directiveInfo.fn) {\n        elem.empty();\n        return;\n      }\n\n      if (!directiveInfo.fn.registered) {\n        coreModule.directive(attrs.$normalize(directiveInfo.name), directiveInfo.fn);\n        directiveInfo.fn.registered = true;\n      }\n\n      this.addDirective(elem, directiveInfo.name, scope);\n    }).catch(err => {\n      console.log('Plugin load:', err);\n      this.$rootScope.appEvent('alert-error', ['Plugin error', err.toString()]);\n    });\n  }\n\n  create(options) {\n    let directiveDef = {\n      restrict: 'E',\n      scope: options.scope,\n      link: (scope, elem, attrs) => {\n        if (options.watchPath) {\n          let childScope = null;\n          scope.$watch(options.watchPath, () => {\n            if (childScope) {\n              childScope.$destroy();\n            }\n            childScope = scope.$new();\n            this.link(childScope, elem, attrs, options);\n          });\n        } else {\n          this.link(scope, elem, attrs, options);\n        }\n      }\n    };\n\n    return directiveDef;\n  }\n}\n\ncoreModule.service('dynamicDirectiveSrv', DynamicDirectiveSrv);\n\n\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/services/dynamic_directive_srv.ts","define([\n  'angular',\n  '../core_module',\n],\nfunction (angular, coreModule) {\n  'use strict';\n\n  coreModule.default.service('utilSrv', function($rootScope, $_modal, $q) {\n\n    this.init = function() {\n      $rootScope.onAppEvent('show-modal', this.showModal, $rootScope);\n    };\n\n    this.showModal = function(e, options) {\n      var modal = $_modal({\n        modalClass: options.modalClass,\n        template: options.src,\n        persist: false,\n        show: false,\n        scope: options.scope,\n        keyboard: false,\n        placement: \"center\"\n      });\n\n      $q.when(modal).then(function(modalEl) {\n        modalEl.modal('show');\n      });\n    };\n\n    this.setPie = function (element, pieData, colors, innerRadius) {\n      $.plot(element, pieData, {\n        series: {\n          pie: {\n            innerRadius: innerRadius || 0.7,\n            show: true,\n            stroke: {\n              width: 0\n            }\n          }\n        },\n        colors: colors\n      });\n    }\n\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/services/util_srv.js\n// module id = 752\n// module chunks = 2","define([\n    'angular',\n    'lodash',\n    '../core_module',\n],\nfunction (angular, _, coreModule) {\n    'use strict';\n    coreModule.default.service('healthSrv', function ($http, backendSrv, $location, $q) {\n      var anomalyListUrl = \"/anomaly?by_groups=true\";\n      var excludeAnomaly = \"/anomaly/exclude\";\n      var includeAnomaly = \"/anomaly/include\";\n      var metricsType = \"/metrictype\";\n      var anomalyHistory = \"/anomaly\";\n      this.anomalyMetricsData = [];\n      var _this = this;\n      this.load = function () {\n        return backendSrv.alertD({\n          method: \"get\",\n          url: anomalyListUrl\n        }).then(function onSuccess(response) {\n          return response.data;\n        }, function onFailed(response) {\n          return response;\n        });\n      };\n\n      this.exclude = function (metricName, host) {\n        return backendSrv.alertD({\n          method: \"post\",\n          url: excludeAnomaly,\n          params: {\n            metric: metricName,\n            host: host\n          }\n        });\n      };\n\n      this.aggregateHealths = function (metricHostClusters) {\n        _.each(metricHostClusters, function (cluster, index) {\n          cluster.health = 0;\n          for (var i = 0; i < cluster.elements.length; i++) {\n            cluster.health += cluster.elements[i].health;\n          }\n          var divisor = cluster.numElements || 1;\n          var health = cluster.numElements ? cluster.health : 100;\n          cluster.health = Math.floor(health / divisor);\n          cluster.index = index;\n        });\n        return metricHostClusters;\n      };\n\n      this.include = function (metricName, host) {\n        return backendSrv.alertD({\n          method: \"post\",\n          url: includeAnomaly,\n          params: {\n            metric: metricName,\n            host: host\n          }\n        });\n      };\n\n      this.getMetricType = function (metric) {\n        return this.getMetricsType([metric]);\n      };\n\n      this.getMetricsType = function (metrics) {\n        return backendSrv.alertD({\n          method: 'GET', url: metricsType, timeout: 2000,\n          params: {\n            names: metrics.join()\n          }\n        });\n      };\n\n      this.floor = function (metrics) {\n        _.each(metrics, function (metric) {\n          metric.health = Math.floor(metric.health);\n        });\n        return metrics;\n      };\n\n      this.transformPanelMetricType = function (panel) {\n        var targets = {};\n        var metricsTypeQueries = [];\n\n        _.forEach(panel.targets, function (target) {\n          if (_.excludeMetricSuffix(target.metric)) {\n            targets[target.metric] = target;\n          }\n        });\n\n        if(!Object.keys(targets).length) return;\n\n        var q = _this.getMetricsType(Object.keys(targets)).then(function onSuccess(response) {\n          var types = response.data;\n          _.each(Object.keys(targets), function (key) {\n            if (types[key] === \"counter\") {\n              targets[key].shouldComputeRate = true;\n              targets[key].downsampleAggregator = \"max\";\n            } else if (types[key] === \"increment\") {\n              targets[key].shouldComputeRate = false;\n              targets[key].downsampleAggregator = \"sum\";\n            }\n          });\n        });\n        metricsTypeQueries.push(q);\n\n        return $q.all(metricsTypeQueries);\n      };\n\n      this.transformMetricType = function (dashboard) {\n        var targets = {};\n        var metricsTypeQueries = [];\n        _.forEach([\"/association\", \"/anomaly\"], function (uri) {\n          if ($location.path().indexOf(uri) > -1) {\n            _.forEach(dashboard.rows, function (row) {\n              _.forEach(row.panels, function (panel) {\n                _.forEach(panel.targets, function (target) {\n                  if (_.excludeMetricSuffix(target.metric)) {\n                    if (!_.isUndefined(target.metric)) {\n                      targets[target.metric] = target;\n                    }\n                  }\n                });\n              });\n            });\n\n            if(!Object.keys(targets).length) {\n              return;\n            }\n            var q = _this.getMetricsType(Object.keys(targets)).then(function onSuccess(response) {\n              var types = response.data;\n              _.each(Object.keys(targets), function (key) {\n                if (types[key] === \"counter\") {\n                  targets[key].shouldComputeRate = true;\n                  targets[key].downsampleAggregator = \"max\";\n                } else if (types[key] === \"increment\") {\n                  targets[key].shouldComputeRate = false;\n                  targets[key].downsampleAggregator = \"sum\";\n                }\n              });\n            });\n            metricsTypeQueries.push(q);\n          }\n        });\n        return $q.all(metricsTypeQueries);\n      };\n\n      this.loadHistory = function(options, host) {\n        var params = {\n          from: options.from,\n          to: options.to\n        };\n        host && (params['host'] = host);\n        return backendSrv.alertD({\n          method: \"get\",\n          params: params,\n          url: anomalyHistory\n        }).then(function onSuccess(response) {\n          return response.data;\n        }, function onFailed(response) {\n          return response;\n        });\n      };\n    });\n  });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/services/healthSrv.js\n// module id = 753\n// module chunks = 2","define([\n    'angular',\n    '../core_module',\n],\nfunction (angular,coreModule) {\n  'use strict';\n  coreModule.default.service('integrateSrv',function () {\n    return {\n        options : {}\n    };\n  });\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/services/integrateSrv.js\n// module id = 754\n// module chunks = 2","define([\n    'angular',\n    'lodash',\n    '../core_module',\n],\nfunction (angular, _, coreModule) {\n  'use strict';\n  coreModule.default.service('oncallerMgrSrv', function($http, alertSrv, backendSrv, contextSrv) {\n    this.oncallerDefMap = {};\n    this.currentEditUser = {};\n    var self = this;\n    var oncallerUrl = \"/oncaller/definition\";\n    var oncallerScheduleUrl = \"/oncaller/schedule\";\n\n    this.load = function() {\n      return backendSrv.alertD({\n        method: \"get\",\n        url: oncallerUrl,\n      }).then(function onSuccess(response) {\n        for (var i = 0; i < response.data.length; i++) {\n          var theoncallerDef = response.data[i];\n          self.oncallerDefMap[theoncallerDef.id] = theoncallerDef;\n        }\n        return response;\n      }, function onFailed(response) {\n        alertSrv.set(\"error\", response.status + \" \" + (response.data || \"Request failed\"), response.severity, 5000);\n        return response;\n      });\n    };\n\n    this.save = function(oncallerDef) {\n      oncallerDef.org = contextSrv.user.orgId;\n      return backendSrv.alertD({\n        method: \"post\",\n        url: oncallerUrl,\n        data: angular.toJson(oncallerDef),\n        headers: {'Content-Type': 'text/plain'},\n      });\n    };\n\n    this.remove = function(oncallerOrg, oncallerService, oncallerId) {\n      return backendSrv.alertD({\n        method: \"delete\",\n        url: oncallerUrl,\n        params: {org: oncallerOrg, service: oncallerService, id: oncallerId},\n        headers: {'Content-Type': 'text/plain'},\n      });\n    };\n\n    //id is in the form of id\n    this.get = function(id) {\n      return self.oncallerDefMap[id];\n    };\n\n    this.loadSchedule = function (start, end) {\n      return backendSrv.alertD({\n        method: \"get\",\n        url: oncallerScheduleUrl,\n        params: {\n          startSec: start,\n          endSec: end\n        }\n      }).then(function onSuccess(response) {\n        return response;\n      }, function onFailed(response) {\n        return response;\n      });\n    };\n\n    this.updateSchedule = function (data) {\n      return backendSrv.alertD({\n        method: \"post\",\n        url: oncallerScheduleUrl,\n        data: angular.toJson(data),\n        headers: {'Content-Type': 'text/plain'},\n      });\n    };\n\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/services/oncallerMgrSrv.js\n// module id = 755\n// module chunks = 2","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport coreModule from 'app/core/core_module';\n\nexport class ServiceDepSrv {\n\n  topology: Array<any>;\n\n  /** @ngInject */\n  constructor(private $http, private $timeout, private $q, private alertSrv, private backendSrv) {\n  }\n\n  // All Services\n  readInstalledService() {\n    return this.backendSrv.alertD({\n      url: \"/cmdb/service\"\n    });\n  }\n\n  // Service Dependency\n  createServiceDependency(graph) {\n    return this.backendSrv.alertD({\n      method: \"post\",\n      url: \"/cmdb/service/depend\",\n      data: graph,\n      headers: {'Content-Type': 'text/plain'}\n    });\n  }\n\n  updateServiceDependency(graph, updateId, graphId) {\n    return this.backendSrv.alertD({\n      method: \"PUT\",\n      url: \"/cmdb/service/depend?id=\" + updateId + \"&aid=\" + graphId,\n      data: graph,\n      headers: {'Content-Type': 'text/plain'}\n    });\n  }\n\n  readServiceDependency() {\n    return this.backendSrv.alertD({\n      url: \"/cmdb/service/depend\"\n    });\n  }\n\n  // Kpi\n  readServiceStatus(serviceId, serviceName) {\n    return this.backendSrv.alertD({\n      url: \"/service/status?hostStatusIncluded=false&service=\" + serviceName + \"&serviceId=\" + serviceId\n    });\n  }\n\n  readHostStatus(serviceId, serviceName) {\n    return this.backendSrv.alertD({\n      url: \"/service/status?healthItemType=ServiceState&service=\" + serviceName + \"&serviceId=\" + serviceId\n    });\n  }\n\n  readMetricStatus(serviceId, serviceName) {\n    return this.backendSrv.alertD({\n      url: \"/service/status?service=\" + serviceName + \"&serviceId=\" + serviceId\n    });\n  }\n\n  // Service Topology\n  getServiceTopologyData(params) {\n    return this.readInstalledService().then(response => {\n      var promiseList = [];\n      this.topology = [];\n\n      response.data.forEach(item => {\n        var q = this.readServiceStatus(item.id, item.name).then(response => {\n          this.topology.push({\n            parent: 'All',\n            name  : item.name,\n            value : response.data.healthStatusType.toLowerCase(),\n            _private_: item\n          });\n        }, err => {\n          this.topology.push({\n            parent: 'All',\n            name  : item.name,\n            value : 'grey',\n            _private_: item\n          });\n        });\n        promiseList.push(q);\n      });\n\n      return this.$q.all(promiseList).then(() => {\n        this.topology = _.orderBy(this.topology, ['name'], ['asc']);\n\n        return this.topology;\n      });\n    });\n  }\n\n}\n\ncoreModule.service('serviceDepSrv', ServiceDepSrv);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/services/service_dep_srv.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport coreModule from 'app/core/core_module';\n\nexport class HostSrv {\n\n  topology: Array<any>;\n  hostInfo: Array<any>;\n\n  /** @ngInject */\n  constructor(private $http, private backendSrv, private $translate) {\n  }\n\n  // Host Tags\n\n  /**\n   * Get the specific host information in cmdb.\n   * @param hostId.\n   * @returns {Array} Host information.\n   */\n  getCmdbHostInfo(hostId) {\n    return this.backendSrv.alertD({\n      method: 'GET',\n      url   : '/cmdb/host',\n      params: { 'id': hostId }\n    });\n  }\n\n  /**\n   * Get all tags key in this system.\n   * @returns {Array} Tags key in this system.\n   */\n  getAllTagsKey() {\n    return this.backendSrv.alertD({\n      method: 'GET',\n      url   : '/host/tag/key'\n    });\n  }\n\n  /**\n   * Get the specific tag's value.\n   * @returns {Array} Tag's value.\n   */\n  getTagValue(key) {\n    return this.backendSrv.alertD({\n      method: 'GET',\n      url   : '/host/tag/value',\n      params: { 'key': key }\n    });\n  }\n\n  /**\n   * Post a tag.\n   * @returns {String|Null} If the tag was added, return the tag key. Otherwise, none.\n   */\n  postTag({ key, value, hostId }) {\n    return this.backendSrv.alertD({\n      method: 'POST',\n      url   : '/host/tag',\n      params: { 'hostId': hostId },\n      data  : { 'key': key, 'value': value }\n    });\n  }\n\n  /**\n   * Delete a tag.\n   * @returns {Null}\n   */\n  deleteTag({ hostId, key, value }) {\n    return this.backendSrv.alertD({\n      method: 'DELETE',\n      url   : '/host/tag',\n      params: { 'hostId': hostId, 'key': key, 'value': value }\n    });\n  }\n\n  // Host Topology\n\n  /**\n   * Get the host topology graph with given params.\n   * @param groupBy group rule.\n   * @param colorBy filter rule.\n   * @returns {Array|Object}\n   */\n  getHostTopology(params) {\n    return this.backendSrv.alertD({\n      method: 'GET',\n      url   : '/host/topology',\n      params: params\n    });\n  }\n\n  getHostTopologyData(params) {\n    return this.backendSrv.alertD({\n      method: 'GET',\n      url   : '/host/topology',\n      params: params\n    }).then(response => {\n      this.topology = [];\n\n      if (_.isArray(response.data)) {\n        response.data.forEach(item => {\n          this.topology.push({\n            parent: 'All',\n            name  : item.hostname,\n            value : item.healthStatusType.toLowerCase(),\n            ip    : item.defaultIp,\n            _private_: item\n          });\n        });\n      } else {\n        for (var prop in response.data) {\n          response.data[prop].forEach(item => {\n            this.topology.push({\n              parent: prop,\n              name  : item.hostname,\n              value : item.healthStatusType.toLowerCase(),\n              ip    : item.defaultIp,\n              _private_: item\n            });\n          });\n        }\n      }\n      this.topology = _.orderBy(this.topology, ['name'], ['asc']);\n\n      return this.topology;\n    });\n  }\n\n  // Host Process\n\n  /**\n   * Get the specific host's process.\n   * @param Object include hostId(or hostname) & from & to\n   * @returns {Array} host's process information.\n   */\n  getHostProcess(hostId) {\n    return this.backendSrv.alertD({\n      method: 'GET',\n      url   : '/host/state',\n      params: { 'hostId': hostId }\n    });\n  }\n\n  getProcess(params) {\n    return this.backendSrv.alertD({\n      method: 'GET',\n      url   : '/host/state',\n      params: params\n    });\n  }\n\n  // Host Information\n\n  /**\n   * Get host's information.\n   * @return {Array} host's information: cpu, mem, disk, state, version, startTime, commitId, id.\n   */\n  getHostInfo() {\n    var query = {\n      \"queries\": [\n        {\n          \"metric\": \"cpu.usr\"\n        },\n        {\n          \"metric\": \"collector.state\"\n        },\n        {\n          \"metric\": \"proc.meminfo.percentused\"\n        },\n        {\n          \"metric\": \"df.bytes.percentused\",\n          \"tags\": [\n            {\n              \"name\": \"mount\",\n              \"value\": \"/\"\n            }\n          ]\n        }\n      ],\n      \"hostProperties\": [\"version\", \"startTime\", \"commit\", \"id\", \"defaultIp\"]\n    };\n\n    this.hostInfo = [];\n    return this.backendSrv.alertD({\n      method: \"POST\",\n      url   : \"/host/metrics\",\n      data  : query\n    }).then(response => {\n      response.data && response.data.forEach(item => {\n        this.hostInfo.push({\n          \"host\": item.hostname,\n          \"id\": item.id,\n          \"status\": this.$translate.i18n[_.statusFormatter(item[\"collector.state\"])],\n          \"disk\": _.percentFormatter(item[\"df.bytes.percentused\"]),\n          \"cpu\": _.percentFormatter(item[\"cpu.usr\"]),\n          \"mem\": _.percentFormatter(item[\"proc.meminfo.percentused\"]),\n          \"commit\": item.commit,\n          \"startTime\": item.startTime,\n          \"version\": item.version,\n          \"defaultIp\": item.defaultIp\n        });\n      });\n      this.hostInfo = _.orderBy(this.hostInfo, ['host'], ['asc']);\n\n      return this.hostInfo;\n    });\n  }\n\n  // Host KPI\n\n  /**\n   * Get host's kpi.\n   * @return {Array} host's kpi.\n   */\n  getHostKpi({ hostname }) {\n    return this.backendSrv.alertD({\n      method: \"GET\",\n      url   : \"/service/hostStatus\",\n      params: { host: hostname }\n    });\n  }\n\n}\n\ncoreModule.service('hostSrv', HostSrv);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/services/host_srv.ts","///<reference path=\"../../headers/common.d.ts\" />\nimport _ from 'lodash';\nimport coreModule from 'app/core/core_module';\n\nexport class AssociationSrv {\n  sourceAssociation: any;\n\n  /** @ngInject */\n  constructor(private alertMgrSrv) {}\n\n  setSourceAssociation({ metric, host, min, max, start}) {\n    this.sourceAssociation = {\n      metric: metric,\n      host: host,\n      start: start,\n      min: min,\n      max: max\n    }\n  }\n\n  updateRang(range) {\n    this.sourceAssociation.min = range[0];\n    this.sourceAssociation.max = range[1];\n  }\n\n}\n\ncoreModule.service('associationSrv', AssociationSrv);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/services/association_srv.ts","///<reference path=\"../../headers/common.d.ts\" />\nimport _ from 'lodash';\nimport coreModule from 'app/core/core_module';\n\nexport class GuideSrv {\n\n  /** @ngInject */\n  constructor(private alertMgrSrv, private associationSrv) {}\n\n}\n\ncoreModule.service('guideSrv', GuideSrv);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/services/guide_srv.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport coreModule from 'app/core/core_module';\n\nexport class LogParseSrv {\n  /** @ngInject */\n  constructor(private backendSrv) {}\n\n  getListRule(orgId, sysId) {\n    return this.backendSrv.alertD({\n      url: '/cmdb/pattern/list',\n      params: {\n        orgId: orgId,\n        sysId: sysId\n      }\n    })\n  }\n\n  getTemplate(params) {\n    return this.backendSrv.alertD({\n      url: '/cmdb/pattern/template',\n      params: params\n    });\n  }\n\n  getRuleById(id) {\n    return this.backendSrv.alertD({\n      url: '/cmdb/pattern/getById',\n      params: {\n        ruleId: id\n      }\n    });\n  }\n\n  getServiceList() {\n    return this.backendSrv.alertD({url: '/cmdb/service'});\n  }\n\n  getHostList() {\n    return this.backendSrv.alertD({url: '/cmdb/host'});\n  }\n\n  validatePattern(pattern) {\n    return this.backendSrv.alertD({\n      url: '/cmdb/pattern/validate',\n      method: 'post',\n      data: {\n        log: pattern.log,\n        pattern: pattern.pattern,\n        type: pattern.type,\n        namedCaptureOnly: true,\n        isMetric: pattern.isMetric\n      }\n    });\n  }\n\n  savePattern(userId, data) {\n    return this.backendSrv.alertD({\n      url: '/cmdb/pattern/save',\n      method: 'post',\n      params: {\n        userId: userId\n      },\n      data: data\n    })\n  }\n\n  deletePattern(ruleId, userId) {\n    return this.backendSrv.alertD({\n      url: '/cmdb/pattern/delete',\n      method: 'delete',\n      params: {\n        ruleId: ruleId,\n        userId: userId\n      }\n    })\n  }\n\n  checktask(data) {\n    return this.backendSrv.alertD({\n      url: '/cmdb/log/checktask',\n      method: 'post',\n      data: data\n    });\n  }\n\n  getChecktask(params) {\n    return this.backendSrv.alertD({\n      url: '/cmdb/log/check',\n      params: params\n    });\n  }\n\n}\n\ncoreModule.service('logParseSrv', LogParseSrv);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/services/logParseSrv.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport coreModule from 'app/core/core_module';\n\nexport class MetricSrv {\n  /** @ngInject */\n  constructor(private backendSrv) {}\n\n  getSubtype() {\n    return this.backendSrv.alertD({\n      url: '/metric/subtype'\n    });\n  }\n\n  getSuggest(query) {\n    return this.backendSrv.alertD({\n      url: '/metric/suggest',\n      params: {\n        q: query\n      }\n    });\n  }\n\n  /**\n   * getMetricInfo params\n   *  @param {size} number The page size.\n   *  @param {page} number The page number\n   *  @param {id} number The metric id\n   *  @param {name} string The metric name\n   *  @param {type} string 服务/系统\n   *  @param {subtype} string serviceName/CPU/IO/JVM/内存/存储/网络/运行状态\n   */\n  getMetricInfo (params) {\n    return this.backendSrv.alertD({\n      url: '/metric/info',\n      params: params\n    });\n  }\n\n  /**\n   * updateMetricInfo params\n   *  @param {id} number metricId\n   *  @param {userId} number userId\n   */\n  updateMetricInfo (params, data) {\n    return this.backendSrv.alertD({\n      method: 'post',\n      url   : '/metric/info',\n      params: params,\n      data  : data\n    })\n  }\n}\n\ncoreModule.service('metricSrv', MetricSrv);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/services/metricSrv.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport coreModule from 'app/core/core_module';\n\nexport class ReportSrv {\n  /** @ngInject */\n  constructor(private backendSrv, private contextSrv) {}\n\n  getExpertReports() {\n    return this.backendSrv.get('/api/static/template/' + this.contextSrv.user.orgId).then((res) => {\n              return {reports: res.reports, url: this.backendSrv.downloadUrl+'/report'}\n            });\n  }\n\n  getReportConfig() {\n    return this.backendSrv.alertD({\n      url: '/reporting/config'\n    });\n  }\n\n  /**\n   * saveReportConfig data\n   * @param {enabled} boolean 是否开启功能\n   * @param {recipients} arrary 邮件通知列表\n   * @param {delieverHour} number 发送邮件时间\n   * @param {sections} array 配置的模块\n   */\n  saveReportConfig(data) {\n    return this.backendSrv.alertD({\n      url: '/reporting/config',\n      method: 'post',\n      data: data\n    });\n  }\n\n  /**\n   * getMetricInfo params\n   */\n  getReportList () {\n    return this.backendSrv.alertD({\n      url: '/reporting',\n    });\n  }\n\n  /**\n   * getReportById params\n   */\n  getReportById (id) {\n    return this.backendSrv.alertD({\n      url : '/reporting',\n      responseType: 'arraybuffer',\n      params : {\n        id: id\n      }\n    })\n  }\n}\n\ncoreModule.service('reportSrv', ReportSrv);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/services/report_srv.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport './dashboard_loaders';\n\nimport angular from 'angular';\nimport coreModule from 'app/core/core_module';\nimport {BundleLoader} from './bundle_loader';\n\n/** @ngInject **/\nfunction setupAngularRoutes($routeProvider, $locationProvider) {\n  $locationProvider.html5Mode(true);\n\n  var loadPluginsBundle = new BundleLoader('app/features/plugins/all');\n  var loadAdminBundle = new BundleLoader('app/features/admin/admin');\n  var loadOrgBundle = new BundleLoader('app/features/org/all');\n  var loadOncallerBundle = new BundleLoader('app/features/oncaller/all');\n  var loadCMDBBundle = new BundleLoader('app/features/cmdb/all');\n  var loadSetupBundle = new BundleLoader('app/features/setup/all');\n  var loadSummaryBundle = new BundleLoader('app/features/summary/all');\n  var loadAnomalyBundle = new BundleLoader('app/features/anomaly/all');\n  var loadServiceBundle = new BundleLoader('app/features/service/all');\n  var loadAnalysisBundle = new BundleLoader('app/features/analysis/all');\n  var loadLogsBundle = new BundleLoader('app/features/logs/all');\n  var loadReportBundle = new BundleLoader('app/features/report/reportCtrl');\n  var loadRcaBundle = new BundleLoader('app/features/rca/all');\n  var loadHostBundle = new BundleLoader('app/features/host/all');\n  var loadKnowledgeBundle = new BundleLoader('app/features/knowledge/all');\n\n  $routeProvider\n  .when('/', {\n    templateUrl: 'public/app/features/systemoverview/partials/system_overview.html',\n    controller : 'SystemOverviewCtrl',\n    reloadOnSearch: false,\n  })\n  .when('/dashboardlist', {\n    templateUrl: 'public/app/partials/dashboard.html',\n    controller : 'LoadDashboardCtrl',\n    reloadOnSearch: false,\n    pageClass: 'page-dashboard',\n  })\n  .when('/systems', {\n    templateUrl: 'public/app/partials/systems.html',\n    reloadOnSearch: false,\n  })\n  .when('/dashboard/:type/:slug', {\n    templateUrl: 'public/app/partials/dashboard.html',\n    controller : 'LoadDashboardCtrl',\n    reloadOnSearch: false,\n    pageClass: 'page-dashboard',\n  })\n  .when('/dashboard-solo/:type/:slug', {\n    templateUrl: 'public/app/features/panel/partials/soloPanel.html',\n    controller : 'SoloPanelCtrl',\n    pageClass: 'page-dashboard',\n  })\n  .when('/dashboard-import/:file', {\n    templateUrl: 'public/app/partials/dashboard.html',\n    controller : 'DashFromImportCtrl',\n    reloadOnSearch: false,\n    pageClass: 'page-dashboard',\n  })\n  .when('/dashboard/new', {\n    templateUrl: 'public/app/partials/dashboard.html',\n    controller : 'NewDashboardCtrl',\n    reloadOnSearch: false,\n    pageClass: 'page-dashboard',\n  })\n  .when('/import/dashboard', {\n    templateUrl: 'public/app/features/dashboard/partials/import.html',\n    controller : 'DashboardImportCtrl',\n  })\n  .when('/datasources', {\n    templateUrl: 'public/app/features/plugins/partials/ds_list.html',\n    controller : 'DataSourcesCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadPluginsBundle,\n  })\n  .when('/datasources/edit/:id', {\n    templateUrl: 'public/app/features/plugins/partials/ds_edit.html',\n    controller : 'DataSourceEditCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadPluginsBundle,\n  })\n  .when('/datasources/new', {\n    templateUrl: 'public/app/features/plugins/partials/ds_edit.html',\n    controller : 'DataSourceEditCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadPluginsBundle,\n  })\n  .when('/alerts', {\n    templateUrl: 'public/app/features/org/partials/alerts.html',\n    controller : 'AlertsCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadOrgBundle,\n  })\n  .when('/alerts/edit/:id', {\n    templateUrl: 'public/app/features/org/partials/alertEdit.html',\n    controller : 'AlertEditCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadOrgBundle,\n  })\n  .when('/alerts/new', {\n    templateUrl: 'public/app/features/org/partials/alertEdit.html',\n    controller : 'AlertEditCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadOrgBundle,\n  })\n  .when('/alerts/status', {\n    templateUrl: 'public/app/features/org/partials/alertStatus.html',\n    controller : 'AlertStatusCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadOrgBundle,\n  })\n  .when('/oncallerschedule', {\n    templateUrl: 'public/app/features/oncaller/partials/oncallerSchedule.html',\n    controller : 'OnCallerScheduleCtrl',\n    resolve: loadOncallerBundle,\n  })\n  .when('/oncallers', {\n    templateUrl: 'public/app/features/oncaller/partials/oncallers.html',\n    controller : 'OnCallersCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadOncallerBundle,\n  })\n  .when('/oncallers/edit/:id', {\n    templateUrl: 'public/app/features/oncaller/partials/oncallerEdit.html',\n    controller : 'OnCallerEditCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadOncallerBundle,\n  })\n  .when('/oncallers/new', {\n    templateUrl: 'public/app/features/oncaller/partials/oncallerEdit.html',\n    controller : 'OnCallerEditCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadOncallerBundle,\n  })\n  .when('/anomaly', {\n    templateUrl: 'public/app/features/anomaly/partials/anomaly.html',\n    controller : 'AnomalyCtrl',\n    resolve: loadAnomalyBundle,\n  })\n  .when('/anomaly/history', {\n    templateUrl: 'public/app/features/anomaly/partials/anomalyHistory.html',\n    controller : 'AnomalyHistory',\n    resolve: loadAnomalyBundle,\n  })\n  .when('/anomaly/:clusterId', {\n    templateUrl: 'public/app/features/anomaly/partials/anomalyMetric.html',\n    controller : 'AnomalyMetric',\n    reloadOnSearch: true,\n    resolve: loadAnomalyBundle,\n  })\n  .when('/decompose', {\n    templateUrl: 'public/app/features/decompose/partials/compose.html',\n    controller : 'DecomposeMetricCtrl'\n  })\n  .when('/org', {\n    templateUrl: 'public/app/features/org/partials/orgDetails.html',\n    controller : 'OrgDetailsCtrl',\n    resolve: loadOrgBundle,\n  })\n  .when('/org/new', {\n    templateUrl: 'public/app/features/org/partials/newOrg.html',\n    controller : 'NewOrgCtrl',\n    resolve: loadOrgBundle,\n  })\n  .when('/org/users', {\n    templateUrl: 'public/app/features/org/partials/orgUsers.html',\n    controller : 'OrgUsersCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadOrgBundle,\n  })\n  .when('/org/apikeys', {\n    templateUrl: 'public/app/features/org/partials/orgApiKeys.html',\n    controller : 'OrgApiKeysCtrl',\n    resolve: loadOrgBundle,\n  })\n  .when('/profile', {\n    templateUrl: 'public/app/features/org/partials/profile.html',\n    controller : 'ProfileCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadOrgBundle,\n  })\n  .when('/profile/password', {\n    templateUrl: 'public/app/features/org/partials/change_password.html',\n    controller : 'ChangePasswordCtrl',\n    resolve: loadOrgBundle,\n  })\n  .when('/profile/select-org', {\n    templateUrl: 'public/app/features/org/partials/select_org.html',\n    controller : 'SelectOrgCtrl',\n    resolve: loadOrgBundle,\n  })\n  // ADMIN\n  .when('/admin', {\n    templateUrl: 'public/app/features/admin/partials/admin_home.html',\n    controller : 'AdminHomeCtrl',\n    resolve: loadAdminBundle,\n  })\n  .when('/admin/settings', {\n    templateUrl: 'public/app/features/admin/partials/settings.html',\n    controller : 'AdminSettingsCtrl',\n    resolve: loadAdminBundle,\n  })\n  .when('/admin/stats', {\n    templateUrl: 'public/app/features/admin/partials/stats.html',\n    controller : 'AdminStatsCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadAdminBundle,\n  })\n  .when('/admin/users', {\n    templateUrl: 'public/app/features/admin/partials/users.html',\n    controller : 'AdminListUsersCtrl',\n    resolve: loadAdminBundle,\n  })\n  .when('/admin/users/create', {\n    templateUrl: 'public/app/features/admin/partials/new_user.html',\n    controller : 'AdminEditUserCtrl',\n    resolve: loadAdminBundle,\n  })\n  .when('/admin/users/edit/:id', {\n    templateUrl: 'public/app/features/admin/partials/edit_user.html',\n    controller : 'AdminEditUserCtrl',\n    resolve: loadAdminBundle,\n  })\n  .when('/admin/orgs', {\n    templateUrl: 'public/app/features/admin/partials/orgs.html',\n    controller : 'AdminListOrgsCtrl',\n    resolve: loadAdminBundle,\n  })\n  .when('/admin/orgs/edit/:id', {\n    templateUrl: 'public/app/features/admin/partials/edit_org.html',\n    controller : 'AdminEditOrgCtrl',\n    resolve: loadAdminBundle,\n  })\n  // LOGIN / SIGNUP\n  .when('/login', {\n    templateUrl: 'public/app/partials/login.html',\n    controller : 'LoginCtrl',\n  })\n  .when('/signupfree', {\n    templateUrl: 'public/app/partials/signup.html',\n    controller : 'SignupFreeCtrl',\n  })\n  .when('/invite/:code', {\n    templateUrl: 'public/app/partials/signup_invited.html',\n    controller : 'InvitedCtrl',\n  })\n  .when('/signup', {\n    templateUrl: 'public/app/partials/signup_step2.html',\n    controller : 'SignUpCtrl',\n  })\n  .when('/user/password/send-reset-email', {\n    templateUrl: 'public/app/partials/reset_password.html',\n    controller : 'ResetPasswordCtrl',\n  })\n  .when('/user/password/reset', {\n    templateUrl: 'public/app/partials/reset_password.html',\n    controller : 'ResetPasswordCtrl',\n  })\n  .when('/dashboard/snapshots', {\n    templateUrl: 'public/app/features/snapshot/partials/snapshots.html',\n    controller : 'SnapshotsCtrl',\n    controllerAs: 'ctrl',\n  })\n  .when('/plugins', {\n    templateUrl: 'public/app/features/plugins/partials/plugin_list.html',\n    controller: 'PluginListCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadPluginsBundle,\n  })\n  .when('/plugins/:pluginId/edit', {\n    templateUrl: 'public/app/features/plugins/partials/plugin_edit.html',\n    controller: 'PluginEditCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadPluginsBundle,\n  })\n  .when('/plugins/:pluginId/page/:slug', {\n    templateUrl: 'public/app/features/plugins/partials/plugin_page.html',\n    controller: 'AppPageCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadPluginsBundle,\n  })\n  .when('/global-alerts', {\n    templateUrl: 'public/app/features/dashboard/partials/globalAlerts.html',\n  })\n  .when('/logs', {\n    templateUrl: 'public/app/features/logs/partials/logs.html',\n    controller : 'LogsCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadLogsBundle,\n  })\n  .when('/logs/rules', {\n    templateUrl: 'public/app/features/logs/partials/log_rules.html',\n    controller : 'LogParseCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadLogsBundle,\n  })\n  .when('/logs/rule-detail', {\n    templateUrl: 'public/app/features/logs/partials/log_rule_detail.html',\n    controller : 'LogParseCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadLogsBundle,\n  })\n  .when('/logs/rules/new', {\n    templateUrl: 'public/app/features/logs/partials/log_rules_new.html',\n    controller : 'LogParseEditCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadLogsBundle,\n  })\n  .when('/analysis', {\n    templateUrl: 'public/app/features/analysis/partials/analysis.html',\n    controller : 'AnalysisCtrl',\n    resolve: loadAnalysisBundle,\n  })\n  .when('/association', {\n    templateUrl: 'public/app/features/org/partials/alertAssociation.html',\n    controller : 'AlertAssociationCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadOrgBundle,\n  })\n  .when('/knowledgebase', {\n    templateUrl: 'public/app/features/knowledge/partials/knowledge_base.html',\n    controller : 'CreateKnowledgeCtrl',\n    resolve: loadKnowledgeBundle,\n  })\n  .when('/customer', {\n    templateUrl: 'public/app/features/summary/partials/customer.html',\n    controller: 'CustomerCtrl',\n    resolve: loadSummaryBundle,\n  })\n  .when('/report', {\n    templateUrl: 'public/app/features/report/partials/report.html',\n    controller: 'ReportCtrl',\n    reloadOnSearch: false,\n    controllerAs: 'ctrl',\n    resolve: loadReportBundle\n  })\n  .when('/report/template', {\n    templateUrl: 'public/app/features/report/partials/report_template.html',\n    controller: 'ReportCtrl',\n    reloadOnSearch: false,\n    controllerAs: 'ctrl',\n    resolve: loadReportBundle\n  })\n  .when('/report/edit', {\n    templateUrl: 'public/app/features/report/partials/report_edit.html',\n    controller: 'ReportCtrl',\n    reloadOnSearch: false,\n    controllerAs: 'ctrl',\n    resolve: loadReportBundle\n  })\n  .when('/integrate', {\n    templateUrl: 'public/app/features/analysis/partials/logIntegrate.html',\n    controller : 'LogIntegrateCtrl',\n    resolve: loadAnalysisBundle,\n  })\n  .when('/setting/agent', {\n    templateUrl: 'public/app/features/setup/partials/host_agent.html',\n    controller : 'HostAgentCtrl',\n    resolve: loadSetupBundle,\n  })\n  .when('/setting/service', {\n    templateUrl: 'public/app/features/setup/partials/service_agent.html',\n    controller : 'ServiceAgentCtrl',\n    resolve: loadSetupBundle,\n  })\n  .when('/setting/log', {\n    templateUrl: 'public/app/features/setup/partials/log.html',\n    reloadOnSearch: false,\n  })\n  .when('/setting/proxy', {\n    templateUrl: 'public/app/features/setup/partials/proxy.html',\n    reloadOnSearch: false,\n  })\n  .when('/setting/problems', {\n    templateUrl: 'public/app/features/setup/partials/problems.html',\n    reloadOnSearch: false,\n    controllerAs: 'ctrl',\n    controller: 'ProblemsCtrl',\n    resolve: loadSetupBundle,\n  })\n  .when('/cmdb/hostlist', {\n    templateUrl: 'public/app/features/cmdb/partials/host_list.html',\n    controller : 'HostListCtrl',\n    resolve: loadCMDBBundle\n  })\n  .when('/cmdb/hostlist/hostdetail', {\n    templateUrl: 'public/app/features/cmdb/partials/host_detail.html',\n    controller : 'HostDetailCtrl',\n    resolve: loadCMDBBundle\n  })\n  .when('/cmdb/servicelist', {\n    templateUrl: 'public/app/features/cmdb/partials/service_list.html',\n    controller : 'ServiceListCtrl',\n    resolve: loadCMDBBundle\n  })\n  .when('/cmdb/servicelist/servicedetail', {\n    templateUrl: 'public/app/features/cmdb/partials/service_detail.html',\n    controller : 'CMDBServiceDetailCtrl',\n    resolve: loadCMDBBundle\n  })\n  .when('/cmdb/config', {\n    templateUrl: 'public/app/features/cmdb/partials/uagent.html',\n    controller : 'UagentCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadCMDBBundle\n  })\n  .when('/cmdb/config/edit', {\n    templateUrl: 'public/app/features/cmdb/partials/uagent_edit.html',\n    controller : 'UagentCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadCMDBBundle\n  })\n  .when('/cmdb/servicecustom', {\n    templateUrl: 'public/app/features/cmdb/partials/service_custom.html',\n    controller : 'ServiceCustomCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadCMDBBundle\n  })\n  .when('/cmdb/metrics', {\n    templateUrl: 'public/app/features/cmdb/partials/metrics_def.html',\n    controller : 'MetricsDefCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadCMDBBundle\n  })\n  .when('/cmdb/kpi', {\n    templateUrl: 'public/app/features/cmdb/partials/metric_kpi.html',\n    controller : 'MetricKpiCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadCMDBBundle\n  })\n  .when('/service_dependency', {\n    templateUrl: 'public/app/features/service/partials/service_dep.html',\n    controller : 'BuildDependCtrl',\n    controllerAs: 'ctrl',\n    resolve: loadServiceBundle,\n  })\n  // RCA\n  .when('/rca', {\n    templateUrl: 'public/app/features/rca/partials/rca.html',\n    controller : 'RootCauseAnalysisCtrl',\n    reloadOnSearch: false,\n    resolve: loadRcaBundle,\n  })\n  // Host Topology\n  .when('/host_topology', {\n    templateUrl: 'public/app/features/host/partials/host.html',\n    controller : 'HostTopologyCtrl',\n    reloadOnSearch: false,\n    resolve: loadHostBundle\n  })\n  // Service Topology\n  .when('/service_topology', {\n    templateUrl: 'public/app/features/service/partials/service.html',\n    controller : 'ServiceTopologyCtrl',\n    reloadOnSearch: false,\n    resolve: loadServiceBundle\n  })\n  .when('/styleguide/:page?', {\n    controller: 'StyleGuideCtrl',\n    controllerAs: 'ctrl',\n    templateUrl: 'public/app/features/styleguide/styleguide.html',\n  })\n  .when('/topn', {\n    controller: 'TopNCtrl',\n    controllerAs: 'ctrl',\n    templateUrl: 'public/app/features/topn/partials/topn.html'\n  })\n  .otherwise({\n    templateUrl: 'public/app/partials/error.html',\n    controller: 'ErrorCtrl',\n    reloadOnSearch: false,\n  });\n}\n\ncoreModule.config(setupAngularRoutes);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/routes/routes.ts","import coreModule from 'app/core/core_module';\n\ndeclare var window: any;\n\nexport class LoadDashboardCtrl {\n  /** @ngInject */\n  constructor(\n    private $scope, private $routeParams, private $location,\n    private dashboardLoaderSrv, private backendSrv\n  ) {\n    if (!$routeParams.slug) {\n      backendSrv.get('/api/dashboards/home').then(homeDash => {\n        if (homeDash.redirectUri) {\n          $location.path('dashboard/' + homeDash.redirectUri);\n        } else {\n          var meta = homeDash.meta;\n          meta.canSave = meta.canShare = meta.canStar = false;\n          $scope.initDashboard(homeDash, $scope);\n        }\n      });\n      return;\n    }\n\n    dashboardLoaderSrv.loadDashboard($routeParams.type, $routeParams.slug).then(result => {\n      $scope.initDashboard(result, $scope);\n    });\n  }\n}\ncoreModule.controller('LoadDashboardCtrl', LoadDashboardCtrl);\n\nexport class DashFromImportCtrl {\n  /** @ngInject */\n  constructor(\n    private $scope, private $location,\n    private alertSrv, private $translate\n  ) {\n    if (!window.grafanaImportDashboard) {\n      alertSrv.set($translate.i18n_sorry, $translate.page_dash_err_tip1, 'warning', 7000);\n      $location.path('');\n      return;\n    }\n    $scope.initDashboard({\n      meta: { canShare: false, canStar: false },\n      dashboard: window.grafanaImportDashboard\n    }, $scope);\n  }\n}\ncoreModule.controller('DashFromImportCtrl', DashFromImportCtrl);\n\nexport class NewDashboardCtrl {\n  /** @ngInject */\n  constructor(\n    private $scope, private $routeParams\n  ) {\n    var newTitle = $routeParams.title || \"new dashboard\";\n    var newSystem = $routeParams.system;\n\n    $scope.initDashboard({\n      meta: { canStar: false, canShare: false },\n      dashboard: {\n        title: newTitle,\n        system: newSystem,\n        rows: [{ height: '250px', panels: [] }],\n        time: {from: \"now-6h\", to: \"now\"},\n        refresh: \"30s\",\n      },\n    }, $scope);\n  }\n}\ncoreModule.controller('NewDashboardCtrl', NewDashboardCtrl);\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/routes/dashboard_loaders.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nexport class BundleLoader {\n  lazy: any;\n  loadingDefer: any;\n\n  constructor(bundleName) {\n    this.lazy = [\"$q\", \"$route\", \"$rootScope\", ($q, $route, $rootScope) => {\n      if (this.loadingDefer) {\n        return this.loadingDefer.promise;\n      }\n\n      this.loadingDefer = $q.defer();\n\n      System.import(bundleName).then(() => {\n        this.loadingDefer.resolve();\n      });\n\n      return this.loadingDefer.promise;\n    }];\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/routes/bundle_loader.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 766;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/routes lazy\n// module id = 766\n// module chunks = 2","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport angular from 'angular';\nimport moment from 'moment';\nimport * as dateMath from 'app/core/utils/datemath';\nimport coreModule from '../core_module';\n\ncoreModule.filter('stringSort', function() {\n  return function(input) {\n    return input.sort();\n  };\n});\n\ncoreModule.filter('slice', function() {\n  return function(arr, start, end) {\n    if (!_.isUndefined(arr)) {\n      return arr.slice(start, end);\n    }\n  };\n});\n\ncoreModule.filter('stringify', function() {\n  return function(arr) {\n    if (_.isObject(arr) && !_.isArray(arr)) {\n      return angular.toJson(arr);\n    } else {\n      return _.isNull(arr) ? null : arr.toString();\n    }\n  };\n});\n\ncoreModule.filter('moment', function() {\n  return function(date, mode) {\n    switch (mode) {\n      case 'ago':\n        return moment(date).fromNow();\n    }\n    return moment(date).fromNow();\n  };\n});\n\ncoreModule.filter('noXml', function() {\n  var noXml = function(text) {\n  return _.isString(text)\n    ? text\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/'/g, '&#39;')\n    .replace(/\"/g, '&quot;')\n    : text;\n  };\n  return function(text) {\n    return _.isArray(text)\n      ? _.map(text, noXml)\n      : noXml(text);\n  };\n});\n\ncoreModule.filter('interpolateTemplateVars', function (templateSrv) {\n  var filterFunc: any = function(text, scope) {\n    var scopedVars;\n    if (scope.ctrl && scope.ctrl.panel) {\n      scopedVars = scope.ctrl.panel.scopedVars;\n    } else {\n      scopedVars = scope.row.scopedVars;\n    }\n\n    return templateSrv.replaceWithText(text, scopedVars);\n  };\n\n  filterFunc.$stateful = true;\n  return filterFunc;\n});\n\ncoreModule.filter('formatItemType', () => {\n  return (text) => {\n    return text && text.replace('Host', '').replace('Service', '');\n  };\n});\n\ncoreModule.filter('translateItemType', ($translate) => {\n  return (text) => {\n    var map = {\n      \"mem\": $translate.i18n.i18n_mem,\n      \"io\" : $translate.i18n.i18n_io,\n      \"nw\" : $translate.i18n.i18n_net,\n      \"cpu\": $translate.i18n.i18n_cpu,\n      \"kpi\": $translate.i18n.page_overview_kpi_service,\n      \"state\": $translate.i18n.page_overview_kpi_state\n    };\n    return text && map[text.toLowerCase()];\n  };\n});\n\ncoreModule.filter('formatAnomalyHealth', ($translate) => {\n  return (value) => {\n    return value === 100 ? value : (value < 26 ? value + ` (${$translate.i18n.page_anomaly_critical_metrics})` : value + ` (${$translate.i18n.page_anomaly_warning_metrics})`)\n  };\n});\n\ncoreModule.filter('formatTimeRange', () => {\n  return function (text) {\n    if (!text) { return; }\n\n    var from = text.from, to = text.to;\n    var args = Array.prototype.slice.call(arguments), time = args[0], relative = args[1], index = args[2];\n    moment.isMoment(from) && (from = moment(from));\n    moment.isMoment(to) && (to = moment(to));\n\n    from = dateMath.parse(from, false);\n    to = dateMath.parse(to, true);\n\n    relative = parseInt(relative);\n    !_.isNaN(relative) && (\n      from = moment.utc(from).subtract(relative, 'days'),\n      to = moment.utc(to).subtract(relative, 'days')\n    );\n\n    return moment.utc(index === 0 ? from : to).format(\"YYYY-MM-DD\");\n  };\n});\n\ncoreModule.filter('formatRCAType', ($translate) => {\n  return (value) => {\n    return (value === 1) ? $translate.i18n.i18n_metric : ((value === 2) ? $translate.i18n.i18n_menu_logs : $translate.i18n.i18n_other);\n  };\n});\n\nexport default {};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/filters/filters.ts","export default [\n  \"#7EB26D\",\"#EAB839\",\"#6ED0E0\",\"#EF843C\",\"#E24D42\",\"#1F78C1\",\"#BA43A9\",\"#705DA0\",\n  \"#508642\",\"#CCA300\",\"#447EBC\",\"#C15C17\",\"#890F02\",\"#0A437C\",\"#6D1F62\",\"#584477\",\n  \"#B7DBAB\",\"#F4D598\",\"#70DBED\",\"#F9BA8F\",\"#F29191\",\"#82B5D8\",\"#E5A8E2\",\"#AEA2E0\",\n  \"#629E51\",\"#E5AC0E\",\"#64B0C8\",\"#E0752D\",\"#BF1B00\",\"#0A50A1\",\"#962D82\",\"#614D93\",\n  \"#9AC48A\",\"#F2C96D\",\"#65C5DB\",\"#F9934E\",\"#EA6460\",\"#5195CE\",\"#D683CE\",\"#806EB7\",\n  \"#3F6833\",\"#967302\",\"#2F575E\",\"#99440A\",\"#58140C\",\"#052B51\",\"#511749\",\"#3F2B5B\",\n  \"#E0F9D7\",\"#FCEACA\",\"#CFFAFF\",\"#F9E2D2\",\"#FCE2DE\",\"#BADFF4\",\"#F9D9F9\",\"#DEDAF7\"\n];\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/utils/colors.ts","\n(function (window, angular, undefined) {\n  'use strict';\n\n  var util = {\n    trim: function (text) {\n      return text.toString().replace(/^\\s+|\\s+$/g, '');\n    },\n    lowercase: function (str) {\n      return (typeof str === 'string') ? str.toLowerCase() : str;\n    },\n    indexOf: function (array, searchElement) {\n      for (var i = 0, len = array.length; i < len; i++) {\n        if (array[i] === searchElement) {\n          return i;\n        }\n      }\n      return -1;\n    }\n  };\n\n  var runTranslate = ['$translate', function ($translate) {\n    var key = $translate.storageKey(),\n      storage = $translate.storage();\n\n    var fallbackFromIncorrectStorageValue = function () {\n      var prefreed = $translate.preferredLanguage();\n      if (angular.isString(prefreed)) {\n        $translate.use(prefreed);\n      } else {\n        storage.put(key, $translate.use());\n      }\n    };\n\n    if (storage) {\n      if (!storage.get(key)) {\n        fallbackFromIncorrectStorageValue();\n      } else {\n        $translate.use(storage.get(key))['catch'](fallbackFromIncorrectStorageValue);\n      }\n    } else if (angular.isString($translate.preferredLanguage())) {\n      $translate.use($translate.preferredLanguage());\n    }\n  }];\n  angular.module('cloudwiz.translate', ['ng']).run(runTranslate);\n\n  /**\n   * @name cloudwiz.translate.$translateProvider\n   */\n  var $translateProvider = ['$STORAGE_KEY', '$windowProvider', function ($STORAGE_KEY, $windowProvider) {\n\n    var $translationTable = {},\n      $preferredLanguage,\n      $availableLanguageKeys = [],\n      $languageKeyAliases,\n      $fallbackLanguage,\n      $fallbackWasString,\n      $uses,\n      $storageFactory,\n      $storageKey = $STORAGE_KEY,\n      $storagePrefix,\n      $interpolationFactory,\n      $interpolatorFactories = [],\n      $loaderFactory,\n      $loaderOptions,\n      $nestedObjectDelimeter = '.',\n      $isReady = false,\n      $keepContent = false,\n      $nextLang,\n      $missingTranslationHandlerFactory,\n      $postCompilingEnabled = false,\n      loaderCache,\n      postProcessFn,\n      uniformLanguageTagResolver = 'default',\n      statefulFilter = true,\n      languageTagResolver = {\n        'default' : function (tag) {\n          return (tag || '').split('-').join('_');\n        },\n      };\n\n    /**\n     * @name flatObject\n     */\n    var flatObject = function (data, path, result, prevKey) {\n      var key, keyWithPath, keyWithShortPath, val;\n\n      !path && (path = []);\n      !result && (result = {});\n      for (key in data) {\n        if (!Object.prototype.hasOwnProperty.call(data, key)) {\n          continue;\n        }\n        val = data[key];\n        if (angular.isObject(val)) {\n          flatObject(val, path.concat(key), result, key);\n        } else {\n          keyWithPath = path.length ? (path.join($nestedObjectDelimeter) + $nestedObjectDelimeter + key) : key;\n          if (path.length && key === prevKey) {\n            // Create shortcut path (foo.bar == foo.bar.bar)\n            keyWithShortPath = path.join($nestedObjectDelimeter);\n            // Link it to original path\n            result[keyWithShortPath] = '@:' + keyWithPath;\n          }\n          result[keyWithPath] = val;\n        }\n      }\n      return result;\n    };\n\n    // tries to determine the browsers language\n    var getFirstBrowserLanguage = function () {\n      var navigator = $windowProvider.$get().navigator,\n        browserLanguagePropertyKeys = ['language', 'browserLanguage', 'systemLanguage', 'userLanguage'],\n        i, language;\n\n      // support for HTML 5.1 \"navigator.languages\"\n      if (angular.isArray(navigator.languages)) {\n        for (i = 0; i < navigator.languages.length; i++) {\n          language = navigator.languages[i];\n          if (language && language.length) {\n            return language;\n          }\n        }\n      }\n\n      // support for other well known properties in browsers\n      for (i = 0; i < browserLanguagePropertyKeys.length; i++) {\n        language = navigator[browserLanguagePropertyKeys[i]];\n        if (language && language.length) {\n          return language;\n        }\n      }\n\n      return null;\n    };\n\n    // tries to determine the browsers locale\n    var getLocale = function () {\n      var locale = getFirstBrowserLanguage() || '';\n      if (languageTagResolver[uniformLanguageTagResolver]) {\n        locale = languageTagResolver[uniformLanguageTagResolver](locale);\n      }\n      return locale;\n    };\n\n    /**\n     * @name cloudwiz.translate.$translateProvider#determinePreferredLanguage\n     */\n    this.determinePreferredLanguage = function (fn) {\n      var locale = (fn && angular.isFunction(fn)) ? fn() : getLocale();\n      if (!$availableLanguageKeys.length) {\n        $preferredLanguage = locale;\n      }\n      return this;\n    };\n\n    /**\n     * @name cloudwiz.translate.$translateProvider#registerAvailableLanguageKeys\n     */\n    this.registerAvailableLanguageKeys = function (languageKeys, aliases) {\n      if (languageKeys) {\n        $availableLanguageKeys = languageKeys;\n        if (aliases) {\n          $languageKeyAliases = aliases;\n        }\n        return this;\n      }\n      return $availableLanguageKeys;\n    };\n\n    /**\n     * @name cloudwiz.translate.$translateProvider#useLoader\n     */\n    this.useLoader = function (loaderFactory, options) {\n      $loaderFactory = loaderFactory;\n      $loaderOptions = options || {};\n      return this;\n    };\n\n    /**\n     * @name cloudwiz.translate.$translateProvider#useStaticFilesLoader\n     */\n    this.useStaticFilesLoader = function (options) {\n      return this.useLoader('$translateStaticFilesLoader', options);\n    };\n\n    /**\n     * @name cloudwiz.translate.$translateProvider#preferredLanguage\n     */\n    var setupPreferredLanguage = function (langKey) {\n      if (langKey) { $preferredLanguage = langKey; }\n      return $preferredLanguage;\n    };\n    this.preferredLanguage = function (langKey) {\n      if (langKey) {\n        setupPreferredLanguage(langKey);\n        return this;\n      }\n      return $preferredLanguage;\n    };\n\n    /**\n     * @name cloudwiz.translate.$translateProvider#fallbackLanguage\n     */\n    var fallbackStack = function (langKey) {\n      if (langKey) {\n        if (angular.isString(langKey)) {\n          $fallbackWasString = true;\n          $fallbackLanguage = [langKey];\n        } else if (angular.isArray(langKey)) {\n          $fallbackWasString = false;\n          $fallbackLanguage = langKey;\n        }\n        if (angular.isString($preferredLanguage) && util.indexOf($fallbackLanguage, $preferredLanguage) < 0) {\n          $fallbackLanguage.push($preferredLanguage);\n        }\n\n        return this;\n      } else {\n        if ($fallbackWasString) {\n          return $fallbackLanguage[0];\n        } else {\n          return $fallbackLanguage;\n        }\n      }\n    };\n    this.fallbackLanguage = function (langKey) {\n      fallbackStack(langKey);\n      return this;\n    };\n\n    /**\n     * @name cloudwiz.translate.$translateProvider#storageKey\n     */\n    var storageKey = function (key) {\n      if (!key) {\n        if ($storagePrefix) {\n          return $storagePrefix + $storageKey;\n        }\n        return $storageKey;\n      }\n      $storageKey = key;\n      return this;\n    };\n    this.storageKey = storageKey;\n\n    /**\n     * @name pascalprecht.translate.$translateProvider#statefulFilter\n     */\n    this.statefulFilter = function (state) {\n      if (state === undefined) {\n        // getter\n        return statefulFilter;\n      } else {\n        // setter with chaining\n        statefulFilter = state;\n        return this;\n      }\n    };\n\n    /**\n     * @name cloudwiz.translate.$translateProvider#use\n     */\n    this.use = function (langKey) {\n      if (langKey) {\n        if (!$translationTable[langKey] && (!$loaderFactory)) {\n          // only throw an error, when not loading translation data asynchronously\n          throw new Error('$translateProvider couldn\\'t find translationTable for langKey: \\'' + langKey + '\\'');\n        }\n        $uses = langKey;\n        return this;\n      }\n      return $uses;\n    };\n\n    /**\n     * @name cloudwiz.translate.$translateProvider#useStorage\n     */\n    this.useStorage = function (storageFactory) {\n      $storageFactory = storageFactory;\n      return this;\n    };\n\n    /**\n     * @name cloudwiz.translate.$translateProvider#useLocalStorage\n     */\n    this.useLocalStorage = function () {\n      return this.useStorage('$translateLocalStorage');\n    };\n\n    /**\n     * @name cloudwiz.translate.$translateProvider#translations\n     */\n    var translations = function (langKey, translationTable) {\n      if (!langKey && !translationTable) {\n        return $translationTable;\n      }\n\n      if (langKey && !translationTable) {\n        if (angular.isString(langKey)) {\n          return $translationTable[langKey];\n        }\n      } else {\n        if (!angular.isObject($translationTable[langKey])) {\n          $translationTable[langKey] = {};\n        }\n        angular.extend($translationTable[langKey], flatObject(translationTable));\n      }\n      return this;\n    };\n    this.translations = translations;\n\n    /**\n     * @name cloudwiz.translate.$translate\n     */\n    this.$get = function ($injector, $rootScope, $q) {\n      var Storage,\n        defaultInterpolator = $injector.get($interpolationFactory || '$translateDefaultInterpolation'),\n        pendingLoader = false,\n        interpolatorHashMap = {},\n        langPromises = {},\n        fallbackIndex,\n        startFallbackIteration;\n\n      var applyPostProcessing = function (translationId, translation, resolvedTranslation, interpolateParams, uses, sanitizeStrategy) {\n        var fn = postProcessFn;\n\n        if (fn) {\n          if (typeof(fn) === 'string') {\n            // getting on-demand instance\n            fn = $injector.get(fn);\n          }\n          if (fn) {\n            return fn(translationId, translation, resolvedTranslation, interpolateParams, uses, sanitizeStrategy);\n          }\n        }\n\n        return resolvedTranslation;\n      };\n\n      var getTranslationTable = function (langKey) {\n        var deferred = $q.defer();\n        if (Object.prototype.hasOwnProperty.call($translationTable, langKey)) {\n          deferred.resolve($translationTable[langKey]);\n        } else if (langPromises[langKey]) {\n          var onResolve = function (data) {\n            translations(data.key, data.table);\n            deferred.resolve(data.table);\n          };\n          langPromises[langKey].then(onResolve, deferred.reject);\n        } else {\n          deferred.reject();\n        }\n        return deferred.promise;\n      };\n\n      var getFallbackTranslation = function (langKey, translationId, interpolateParams, Interpolator, sanitizeStrategy) {\n        var deferred = $q.defer();\n\n        var onResolve = function (translationTable) {\n          if (Object.prototype.hasOwnProperty.call(translationTable, translationId) && translationTable[translationId] !== null) {\n            Interpolator.setLocale(langKey);\n            var translation = translationTable[translationId];\n            if (translation.substr(0, 2) === '@:') {\n              getFallbackTranslation(langKey, translation.substr(2), interpolateParams, Interpolator, sanitizeStrategy)\n                .then(deferred.resolve, deferred.reject);\n            } else {\n              var interpolatedValue = Interpolator.interpolate(translationTable[translationId], interpolateParams, 'service', sanitizeStrategy, translationId);\n              interpolatedValue = applyPostProcessing(translationId, translationTable[translationId], interpolatedValue, interpolateParams, langKey);\n\n              deferred.resolve(interpolatedValue);\n\n            }\n            Interpolator.setLocale($uses);\n          } else {\n            deferred.reject();\n          }\n        };\n\n        getTranslationTable(langKey).then(onResolve, deferred.reject);\n\n        return deferred.promise;\n      };\n\n      var translateByHandler = function (translationId, interpolateParams, defaultTranslationText, sanitizeStrategy) {\n        // If we have a handler factory - we might also call it here to determine if it provides\n        // a default text for a translationid that can't be found anywhere in our tables\n        if ($missingTranslationHandlerFactory) {\n          return $injector.get($missingTranslationHandlerFactory)(translationId, $uses, interpolateParams, defaultTranslationText, sanitizeStrategy);\n        } else {\n          return translationId;\n        }\n      };\n\n      var resolveForFallbackLanguage = function (fallbackLanguageIndex, translationId, interpolateParams, Interpolator, defaultTranslationText, sanitizeStrategy) {\n        var deferred = $q.defer();\n\n        if (fallbackLanguageIndex < $fallbackLanguage.length) {\n          var langKey = $fallbackLanguage[fallbackLanguageIndex];\n          getFallbackTranslation(langKey, translationId, interpolateParams, Interpolator, sanitizeStrategy).then(\n            function (data) {\n              deferred.resolve(data);\n            },\n            function () {\n              // Look in the next fallback language for a translation.\n              // It delays the resolving by passing another promise to resolve.\n              return resolveForFallbackLanguage(fallbackLanguageIndex + 1, translationId, interpolateParams, Interpolator, defaultTranslationText, sanitizeStrategy).then(deferred.resolve, deferred.reject);\n            }\n          );\n        } else {\n          // No translation found in any fallback language\n          // if a default translation text is set in the directive, then return this as a result\n          if (defaultTranslationText) {\n            deferred.resolve(defaultTranslationText);\n          } else {\n            var missingTranslationHandlerTranslation = translateByHandler(translationId, interpolateParams, defaultTranslationText);\n\n            // if no default translation is set and an error handler is defined, send it to the handler\n            // and then return the result if it isn't undefined\n            if ($missingTranslationHandlerFactory && missingTranslationHandlerTranslation) {\n              deferred.resolve(missingTranslationHandlerTranslation);\n            } else {\n              // deferred.reject(applyNotFoundIndicators(translationId));\n            }\n          }\n        }\n        return deferred.promise;\n      };\n\n      var fallbackTranslation = function (translationId, interpolateParams, Interpolator, defaultTranslationText, sanitizeStrategy) {\n        // Start with the fallbackLanguage with index 0\n        return resolveForFallbackLanguage((startFallbackIteration > 0 ? startFallbackIteration : fallbackIndex), translationId, interpolateParams, Interpolator, defaultTranslationText, sanitizeStrategy);\n      };\n\n      var determineTranslation = function (translationId, interpolateParams, interpolationId, defaultTranslationText, uses, sanitizeStrategy) {\n        var deferred = $q.defer();\n\n        var table = uses ? $translationTable[uses] : $translationTable,\n          Interpolator = (interpolationId) ? interpolatorHashMap[interpolationId] : defaultInterpolator;\n\n        // if the translation id exists, we can just interpolate it\n        if (table && Object.prototype.hasOwnProperty.call(table, translationId) && table[translationId] !== null) {\n          var translation = table[translationId];\n\n          // If using link, rerun $translate with linked translationId and return it\n          if (translation.substr(0, 2) === '@:') {\n\n            $translate(translation.substr(2), interpolateParams, interpolationId, defaultTranslationText, uses, sanitizeStrategy)\n              .then(deferred.resolve, deferred.reject);\n          } else {\n            //\n            var resolvedTranslation = Interpolator.interpolate(translation, interpolateParams, 'service', sanitizeStrategy, translationId);\n            resolvedTranslation = applyPostProcessing(translationId, translation, resolvedTranslation, interpolateParams, uses);\n            deferred.resolve(resolvedTranslation);\n          }\n        } else {\n          var missingTranslationHandlerTranslation;\n          // for logging purposes only (as in $translateMissingTranslationHandlerLog), value is not returned to promise\n          if ($missingTranslationHandlerFactory && !pendingLoader) {\n            // missingTranslationHandlerTranslation = translateByHandler(translationId, interpolateParams, defaultTranslationText);\n          }\n\n          // since we couldn't translate the inital requested translation id,\n          // we try it now with one or more fallback languages, if fallback language(s) is\n          // configured.\n          if (uses && $fallbackLanguage && $fallbackLanguage.length) {\n            fallbackTranslation(translationId, interpolateParams, Interpolator, defaultTranslationText, sanitizeStrategy)\n              .then(function (translation) {\n                deferred.resolve(translation);\n              }, function (_translationId) {\n                // deferred.reject(applyNotFoundIndicators(_translationId));\n              });\n          } else if ($missingTranslationHandlerFactory && !pendingLoader && missingTranslationHandlerTranslation) {\n            // looks like the requested translation id doesn't exists.\n            // Now, if there is a registered handler for missing translations and no\n            // asyncLoader is pending, we execute the handler\n            if (defaultTranslationText) {\n              deferred.resolve(defaultTranslationText);\n            } else {\n              deferred.resolve(missingTranslationHandlerTranslation);\n            }\n          } else {\n            if (defaultTranslationText) {\n              deferred.resolve(defaultTranslationText);\n            } else {\n              // deferred.reject(applyNotFoundIndicators(translationId));\n            }\n          }\n        }\n        return deferred.promise;\n      };\n\n      var determineTranslationInstant = function (translationId, interpolateParams, interpolationId, uses, sanitizeStrategy) {\n        var result, table = uses ? $translationTable[uses] : $translationTable,\n          Interpolator = defaultInterpolator;\n\n        // if the interpolation id exists use custom interpolator\n        if (interpolatorHashMap && Object.prototype.hasOwnProperty.call(interpolatorHashMap, interpolationId)) {\n          Interpolator = interpolatorHashMap[interpolationId];\n        }\n\n        // if the translation id exists, we can just interpolate it\n        if (table && Object.prototype.hasOwnProperty.call(table, translationId) && table[translationId] !== null) {\n          var translation = table[translationId];\n\n          // If using link, rerun $translate with linked translationId and return it\n          if (translation.substr(0, 2) === '@:') {\n            result = determineTranslationInstant(translation.substr(2), interpolateParams, interpolationId, uses, sanitizeStrategy);\n          } else {\n            result = Interpolator.interpolate(translation, interpolateParams, 'filter', sanitizeStrategy, translationId);\n            result = applyPostProcessing(translationId, translation, result, interpolateParams, uses, sanitizeStrategy);\n          }\n        } else {\n          var missingTranslationHandlerTranslation;\n          // for logging purposes only (as in $translateMissingTranslationHandlerLog), value is not returned to promise\n          if ($missingTranslationHandlerFactory && !pendingLoader) {\n            // missingTranslationHandlerTranslation = translateByHandler(translationId, interpolateParams, sanitizeStrategy);\n          }\n\n          // since we couldn't translate the inital requested translation id,\n          // we try it now with one or more fallback languages, if fallback language(s) is\n          // configured.\n          if (uses && $fallbackLanguage && $fallbackLanguage.length) {\n            fallbackIndex = 0;\n            result = fallbackTranslationInstant(translationId, interpolateParams, Interpolator, sanitizeStrategy);\n          } else if ($missingTranslationHandlerFactory && !pendingLoader && missingTranslationHandlerTranslation) {\n            // looks like the requested translation id doesn't exists.\n            // Now, if there is a registered handler for missing translations and no\n            // asyncLoader is pending, we execute the handler\n            result = missingTranslationHandlerTranslation;\n          } else {\n            result = applyNotFoundIndicators(translationId);\n          }\n        }\n\n        return result;\n      };\n\n      /**\n       * @name the returened\n       */\n      var $translate = function (translationId, interpolateParams, interpolationId, defaultTranslationText, forceLanguage, sanitizeStrategy) {\n        if (!$uses && $preferredLanguage) {\n          $uses = $preferredLanguage;\n        }\n        var uses = $uses;\n\n        // Duck detection: If the first argument is an array, a bunch of translations was requested.\n        // The result is an object.\n        if (angular.isArray(translationId)) {\n          // This transforms all promises regardless resolved or rejected\n          var translateAll = function (translationIds) {\n            var results = {}; // storing the actual results\n            var promises = []; // promises to wait for\n            // Wraps the promise a) being always resolved and b) storing the link id->value\n            var translate = function (translationId) {\n              var deferred = $q.defer();\n              var regardless = function (value) {\n                results[translationId] = value;\n                deferred.resolve([translationId, value]);\n              };\n              // we don't care whether the promise was resolved or rejected; just store the values\n              $translate(translationId, interpolateParams, interpolationId, defaultTranslationText, forceLanguage, sanitizeStrategy).then(regardless, regardless);\n              return deferred.promise;\n            };\n            for (var i = 0, c = translationIds.length; i < c; i++) {\n              promises.push(translate(translationIds[i]));\n            }\n            // wait for all (including storing to results)\n            return $q.all(promises).then(function () {\n              return results;\n            });\n          };\n          return translateAll(translationId);\n        }\n\n        var deferred = $q.defer();\n\n        // trim off any whitespace\n        if (translationId) {\n          translationId = util.trim(translationId);\n        }\n\n        var promiseToWaitFor = (function () {\n          var promise = langPromises[uses] || langPromises[$preferredLanguage];\n\n          fallbackIndex = 0;\n\n          if ($storageFactory && !promise) {\n            // looks like there's no pending promise for $preferredLanguage or\n            // $uses. Maybe there's one pending for a language that comes from\n            // storage.\n            var langKey = Storage.get($storageKey);\n            promise = langPromises[langKey];\n\n            if ($fallbackLanguage && $fallbackLanguage.length) {\n              var index = util.indexOf($fallbackLanguage, langKey);\n              // maybe the language from storage is also defined as fallback language\n              // we increase the fallback language index to not search in that language\n              // as fallback, since it's probably the first used language\n              // in that case the index starts after the first element\n              fallbackIndex = (index === 0) ? 1 : 0;\n\n              // but we can make sure to ALWAYS fallback to preferred language at least\n              if (util.indexOf($fallbackLanguage, $preferredLanguage) < 0) {\n                $fallbackLanguage.push($preferredLanguage);\n              }\n            }\n          }\n          return promise;\n        }());\n\n        if (!promiseToWaitFor) {\n          // no promise to wait for? okay. Then there's no loader registered\n          // nor is a one pending for language that comes from storage.\n          // We can just translate.\n          determineTranslation(translationId, interpolateParams, interpolationId, defaultTranslationText, uses, sanitizeStrategy).then(deferred.resolve, deferred.reject);\n        } else {\n          var promiseResolved = function () {\n            // $uses may have changed while waiting\n            if (!forceLanguage) {\n              uses = $uses;\n            }\n            determineTranslation(translationId, interpolateParams, interpolationId, defaultTranslationText, uses, sanitizeStrategy).then(deferred.resolve, deferred.reject);\n          };\n\n          promiseToWaitFor['finally'](promiseResolved)['catch'](angular.noop); // we don't care about errors here, already handled\n        }\n        return deferred.promise;\n      };\n\n      /**\n       * @name loadAsync\n       */\n      var loadAsync = function (key) {\n        if (!key) { throw 'No language key specified for loading.'; }\n\n        var deferred = $q.defer();\n\n        $rootScope.$emit('$translateLoadingStart', {language : key});\n        pendingLoader = true;\n\n        var cache = loaderCache;\n        if (typeof(cache) === 'string') {\n          // getting on-demand instance of loader\n          cache = $injector.get(cache);\n        }\n\n        var loaderOptions = angular.extend({}, $loaderOptions, {\n          key : key,\n          $http : angular.extend({}, {\n            cache : cache\n          }, $loaderOptions.$http)\n        });\n\n        var onLoaderSuccess = function (data) {\n          var translationTable = {};\n          $rootScope.$emit('$translateLoadingSuccess', {language : key});\n\n          if (angular.isArray(data)) {\n            angular.forEach(data, function (table) {\n              angular.extend(translationTable, flatObject(table));\n            });\n          } else {\n            angular.extend(translationTable, flatObject(data));\n          }\n          pendingLoader = false;\n          deferred.resolve({\n            key : key,\n            table : translationTable\n          });\n\n          $translate.i18n = translationTable;\n          $rootScope.$emit('$translateLoadingEnd', {language : key});\n        };\n\n        var onLoaderError = function (key) {\n          $rootScope.$emit('$translateLoadingError', {language : key});\n          deferred.reject(key);\n          $rootScope.$emit('$translateLoadingEnd', {language : key});\n        };\n        $injector.get($loaderFactory)(loaderOptions).then(onLoaderSuccess, onLoaderError);\n\n        return deferred.promise;\n      };\n\n      /**\n       * @name cloudwiz.translate.$translate#preferredLanguage\n       */\n      $translate.preferredLanguage = function (langKey) {\n        if (langKey) {\n          setupPreferredLanguage(langKey);\n        }\n        return $preferredLanguage;\n      };\n\n      /**\n       * @name useLanguage\n       */\n      var useLanguage = function (key) {\n        $uses = key;\n\n        // make sure to store new language key before triggering success event\n        if ($storageFactory) {\n          Storage.put($translate.storageKey(), $uses);\n        }\n\n        $rootScope.$emit('$translateChangeSuccess', {language : key});\n\n        // inform default interpolator\n        defaultInterpolator.setLocale($uses);\n\n        var eachInterpolator = function (interpolator, id) {\n          interpolatorHashMap[id].setLocale($uses);\n        };\n\n        // inform all others too!\n        angular.forEach(interpolatorHashMap, eachInterpolator);\n        $rootScope.$emit('$translateChangeEnd', {language : key});\n      };\n\n      var clearNextLangAndPromise = function (key) {\n        if ($nextLang === key) {\n          $nextLang = undefined;\n        }\n        langPromises[key] = undefined;\n      };\n\n      // internal purpose only\n      $translate.statefulFilter = function () {\n        return statefulFilter;\n      };\n\n      /**\n       * @name cloudwiz.translate.$translate#use\n       */\n      $translate.use = function (key) {\n        if (!key) { return $uses; }\n\n        var deferred = $q.defer();\n        deferred.promise.then(null, angular.noop); // AJS \"Possibly unhandled rejection\"\n\n        $rootScope.$emit('$translateChangeStart', {language : key});\n\n        // if there isn't a translation table for the language we've requested,\n        // we load it asynchronously\n        $nextLang = key;\n        if (!$translationTable[key] && $loaderFactory && !langPromises[key]) {\n          langPromises[key] = loadAsync(key).then(function (translation) {\n            translations(translation.key, translation.table);\n            deferred.resolve(translation.key);\n            if ($nextLang === key) {\n              useLanguage(translation.key);\n            }\n            return translation;\n          }, function (key) {\n            $rootScope.$emit('$translateChangeError', {language : key});\n            deferred.reject(key);\n            $rootScope.$emit('$translateChangeEnd', {language : key});\n            return $q.reject(key);\n          });\n          langPromises[key]['finally'](function () {\n            clearNextLangAndPromise(key);\n          })['catch'](angular.noop); // we don't care about errors (clearing)\n        } else if (langPromises[key]) {\n          // we are already loading this asynchronously\n          // resolve our new deferred when the old langPromise is resolved\n          langPromises[key].then(function (translation) {\n            if ($nextLang === translation.key) {\n              useLanguage(translation.key);\n            }\n            deferred.resolve(translation.key);\n            return translation;\n          }, function (key) {\n            // find first available fallback language if that request has failed\n            if (!$uses && $fallbackLanguage && $fallbackLanguage.length > 0 && $fallbackLanguage[0] !== key) {\n              return $translate['use']($fallbackLanguage[0]).then(deferred.resolve, deferred.reject);\n            } else {\n              return deferred.reject(key);\n            }\n          });\n        } else {\n          deferred.resolve(key);\n          useLanguage(key);\n        }\n\n        return deferred.promise;\n      };\n\n      /**\n       * @name cloudwiz.translate.$translate#isPostCompilingEnabled\n       */\n      $translate.isPostCompilingEnabled = function () {\n        return $postCompilingEnabled;\n      };\n\n      /**\n       * @name cloudwiz.translate.$translate#storage\n       */\n      $translate.storage = function () {\n        return Storage;\n      };\n\n      /**\n       * @name cloudwiz.translate.$translate#storageKey\n       */\n      $translate.storageKey = function () {\n        return storageKey();\n      };\n\n      /**\n       * @name pascalprecht.translate.$translate#instant\n       */\n      $translate.instant = function (translationId, interpolateParams, interpolationId, forceLanguage, sanitizeStrategy) {\n        // we don't want to re-negotiate $uses\n        // var uses = (forceLanguage && forceLanguage !== $uses) ? // we don't want to re-negotiate $uses\n        //   (negotiateLocale(forceLanguage) || forceLanguage) : $uses;\n        var uses = $uses;\n\n        // Detect undefined and null values to shorten the execution and prevent exceptions\n        if (translationId === null || angular.isUndefined(translationId)) {\n          return translationId;\n        }\n\n        // Duck detection: If the first argument is an array, a bunch of translations was requested.\n        // The result is an object.\n        if (angular.isArray(translationId)) {\n          var results = {};\n          for (var i = 0, c = translationId.length; i < c; i++) {\n            results[translationId[i]] = $translate.instant(translationId[i], interpolateParams, interpolationId, forceLanguage, sanitizeStrategy);\n          }\n          return results;\n        }\n\n        // We discarded unacceptable values. So we just need to verify if translationId is empty String\n        if (angular.isString(translationId) && translationId.length < 1) {\n          return translationId;\n        }\n\n        // trim off any whitespace\n        if (translationId) {\n          translationId = util.trim(translationId);\n        }\n\n        var result, possibleLangKeys = [];\n        if ($preferredLanguage) {\n          possibleLangKeys.push($preferredLanguage);\n        }\n        if (uses) {\n          possibleLangKeys.push(uses);\n        }\n        if ($fallbackLanguage && $fallbackLanguage.length) {\n          possibleLangKeys = possibleLangKeys.concat($fallbackLanguage);\n        }\n        for (var j = 0, d = possibleLangKeys.length; j < d; j++) {\n          var possibleLangKey = possibleLangKeys[j];\n          if ($translationTable[possibleLangKey]) {\n            if (typeof $translationTable[possibleLangKey][translationId] !== 'undefined') {\n              result = determineTranslationInstant(translationId, interpolateParams, interpolationId, uses, sanitizeStrategy);\n            }\n          }\n          if (typeof result !== 'undefined') {\n            break;\n          }\n        }\n  \n        if (!result && result !== '') {\n          if ($notFoundIndicatorLeft || $notFoundIndicatorRight) {\n            throw Error('Not found indicator left or right');\n            // result = applyNotFoundIndicators(translationId);\n          } else {\n            // Return translation of default interpolator if not found anything.\n            result = defaultInterpolator.interpolate(translationId, interpolateParams, 'filter', sanitizeStrategy);\n  \n            // looks like the requested translation id doesn't exists.\n            // Now, if there is a registered handler for missing translations and no\n            // asyncLoader is pending, we execute the handler\n            var missingTranslationHandlerTranslation;\n            if ($missingTranslationHandlerFactory && !pendingLoader) {\n              // missingTranslationHandlerTranslation = translateByHandler(translationId, interpolateParams, sanitizeStrategy);\n            }\n  \n            if ($missingTranslationHandlerFactory && !pendingLoader && missingTranslationHandlerTranslation) {\n              result = missingTranslationHandlerTranslation;\n            }\n          }\n        }\n  \n        return result;\n      };\n\n      if ($storageFactory) {\n        Storage = $injector.get($storageFactory);\n\n        if (!Storage.get || !Storage.put) {\n          throw new Error('Couldn\\'t use storage \\'' + $storageFactory + '\\', missing get() or put() method!');\n        }\n      }\n\n      if ($loaderFactory) {\n        // If at least one async loader is defined and there are no\n        // (default) translations available we should try to load them.\n        if (angular.equals($translationTable, {})) {\n          if ($translate.use()) {\n            $translate.use($translate.use());\n          }\n        }\n\n        // Also, if there are any fallback language registered, we start\n        // loading them asynchronously as soon as we can.\n        if ($fallbackLanguage && $fallbackLanguage.length) {\n          var processAsyncResult = function (translation) {\n            translations(translation.key, translation.table);\n            $rootScope.$emit('$translateChangeEnd', {language : translation.key});\n            return translation;\n          };\n          for (var i = 0, len = $fallbackLanguage.length; i < len; i++) {\n            var fallbackLanguageId = $fallbackLanguage[i];\n            if (!$translationTable[fallbackLanguageId]) {\n              langPromises[fallbackLanguageId] = loadAsync(fallbackLanguageId).then(processAsyncResult);\n            }\n          }\n        }\n      } else {\n        $rootScope.$emit('$translateReady', {language : $translate.use()});\n      }\n\n      return $translate;\n    };\n  }];\n  angular.module('cloudwiz.translate').provider('$translate', $translateProvider);\n\n  /**\n   * @name cloudwiz.translate.$translateStaticFilesLoader\n   */\n  angular.module('cloudwiz.translate').factory('$translateStaticFilesLoader', ['$q', '$http', function ($q, $http) {\n    return function (options) {\n      if (!options || (!angular.isArray(options.files) && (!angular.isString(options.prefix) || !angular.isString(options.suffix)))) {\n        throw new Error('Couldn\\'t load static files, no files and prefix or suffix specified!');\n      }\n\n      if (!options.files) {\n        options.files = [{\n          prefix: options.prefix,\n          suffix: options.suffix\n        }];\n      }\n\n      var load = function (file) {\n        if (!file || (!angular.isString(file.prefix) || !angular.isString(file.suffix))) {\n          throw new Error('Couldn\\'t load static file, no prefix or suffix specified!');\n        }\n\n        var fileUrl = [\n          file.prefix,\n          options.key,\n          file.suffix\n        ].join('');\n\n        if (angular.isObject(options.fileMap) && options.fileMap[fileUrl]) {\n          fileUrl = options.fileMap[fileUrl];\n        }\n\n        return $http(angular.extend({\n          url: fileUrl,\n          method: 'GET'\n        }, options.$http))\n          .then(function (result) {\n            return result.data;\n          }, function () {\n            return $q.reject(options.key);\n          });\n      };\n\n      var promises = [], length = options.files.length;\n\n      for (var i = 0; i < length; i++) {\n        promises.push(load({\n          prefix: options.files[i].prefix,\n          key: options.key,\n          suffix: options.files[i].suffix\n        }));\n      }\n\n      return $q.all(promises).then(function (data) {\n        var length = data.length, mergedData = {};\n        for (var i = 0; i < length; i++) {\n          for (var key in data[i]) {\n            mergedData[key] = data[i][key];\n          }\n        }\n        return mergedData;\n      });\n    };\n  }]);\n\n  angular.module('cloudwiz.translate').factory('$translateDefaultInterpolation', ['$interpolate', function ($interpolate) {\n    var $translateInterpolator = {},\n        $locale,\n        $identifier = 'default';\n\n    $translateInterpolator.setLocale = function (locale) {\n      $locale = locale;\n    };\n\n    $translateInterpolator.getInterpolationIdentifier = function () {\n      return $identifier;\n    };\n\n    $translateInterpolator.interpolate = function (value, interpolationParams, context, sanitizeStrategy, translationId) {\n      interpolationParams = interpolationParams || {};\n      // interpolationParams = $translateSanitization.sanitize(interpolationParams, 'params', sanitizeStrategy, context);\n\n      var interpolatedText;\n      if (angular.isNumber(value)) {\n        // numbers are safe\n        interpolatedText = String(value);\n      } else if (angular.isString(value)) {\n        // strings must be interpolated (that's the job here)\n        interpolatedText = $interpolate(value)(interpolationParams);\n        // interpolatedText = $translateSanitization.sanitize(interpolatedText, 'text', sanitizeStrategy, context);\n      } else {\n        // neither a number or a string, cant interpolate => empty string\n        interpolatedText = '';\n      }\n\n      return interpolatedText;\n    };\n\n    return $translateInterpolator;\n  }]);\n\n  ////////\n  // Directive\n  ////////\n  angular.module('cloudwiz.translate').directive('translate', function ($translate, $interpolate, $compile, $parse, $rootScope) {\n\n    return {\n      restrict: 'AE',\n      scope: true,\n      compile: function (tElement, tAttr) {\n\n        var translateValuesExist = (tAttr.translateValues) ?\n          tAttr.translateValues : undefined;\n\n        var translateInterpolation = (tAttr.translateInterpolation) ?\n          tAttr.translateInterpolation : undefined;\n\n        var translateSanitizeStrategyExist = (tAttr.translateSanitizeStrategy) ?\n          tAttr.translateSanitizeStrategy : undefined;\n\n        var translateValueExist = tElement[0].outerHTML.match(/translate-value-+/i);\n\n        var interpolateRegExp = '^(.*)(' + $interpolate.startSymbol() + '.*' + $interpolate.endSymbol() + ')(.*)',\n            watcherRegExp = '^(.*)' + $interpolate.startSymbol() + '(.*)' + $interpolate.endSymbol() + '(.*)';\n\n        return function linkFn(scope, iElement, iAttr) {\n          scope.interpolateParams = {};\n          scope.preText = '';\n          scope.postText = '';\n          var translationIds = {};\n\n          var initInterpolationParams = function (interpolateParams, iAttr, tAttr) {\n            // initial setup\n            if (iAttr.translateValues) {\n              angular.extend(interpolateParams, $parse(iAttr.translateValues)(scope.$parent));\n            }\n            // initially fetch all attributes if existing and fill the params\n            if (translateValueExist) {\n              for (var attr in tAttr) {\n                if (Object.prototype.hasOwnProperty.call(iAttr, attr) && attr.substr(0, 14) === 'translateValue' && attr !== 'translateValues') {\n                  var attributeName = util.lowercase(attr.substr(14, 1)) + attr.substr(15);\n                  interpolateParams[attributeName] = tAttr[attr];\n                }\n              }\n            }\n          };\n\n          var applyTranslation = function (value, scope, successful, translateAttr) {\n            if (!successful) {\n              if (typeof scope.defaultText !== 'undefined') {\n                value = scope.defaultText;\n              }\n            }\n            if (translateAttr === 'translate') {\n              // default translate into innerHTML\n              if (successful || (!successful && !$translate.isKeepContent() && typeof iAttr.translateKeepContent === 'undefined')) {\n                iElement.empty().append(scope.preText + value + scope.postText);\n              }\n              var globallyEnabled = $translate.isPostCompilingEnabled();\n              var locallyDefined = typeof tAttr.translateCompile !== 'undefined';\n              var locallyEnabled = locallyDefined && tAttr.translateCompile !== 'false';\n              if ((globallyEnabled && !locallyDefined) || locallyEnabled) {\n                $compile(iElement.contents())(scope);\n              }\n            } else {\n              // translate attribute\n              var attributeName = iAttr.$attr[translateAttr];\n              if (attributeName.substr(0, 5) === 'data-') {\n                // ensure html5 data prefix is stripped\n                attributeName = attributeName.substr(5);\n              }\n              attributeName = attributeName.substr(15);\n              iElement.attr(attributeName, value);\n            }\n          };\n\n          // Put translation processing function outside loop\n          var updateTranslation = function (translateAttr, translationId, scope, interpolateParams, defaultTranslationText) {\n            if (translationId) {\n              $translate(translationId, interpolateParams, translateInterpolation, defaultTranslationText, scope.translateLanguage, scope.sanitizeStrategy)\n                .then(function (translation) {\n                  applyTranslation(translation, scope, true, translateAttr);\n                }, function (translationId) {\n                  applyTranslation(translationId, scope, false, translateAttr);\n                });\n            } else {\n              // as an empty string cannot be translated, we can solve this using successful=false\n              applyTranslation(translationId, scope, false, translateAttr);\n            }\n          };\n\n          // Master update function\n          var updateTranslations = function () {\n            for (var key in translationIds) {\n              if (translationIds.hasOwnProperty(key) && translationIds[key] !== undefined) {\n                updateTranslation(key, translationIds[key], scope, scope.interpolateParams, scope.defaultText);\n              }\n            }\n          };\n\n          // Ensures any change of the attribute \"translate\" containing the id will\n          // be re-stored to the scope's \"translationId\".\n          // If the attribute has no content, the element's text value (white spaces trimmed off) will be used.\n          var observeElementTranslation = function (translationId) {\n\n            // Remove any old watcher\n            if (angular.isFunction(observeElementTranslation._unwatchOld)) {\n              observeElementTranslation._unwatchOld();\n              observeElementTranslation._unwatchOld = undefined;\n            }\n\n            if (angular.equals(translationId , '') || !angular.isDefined(translationId)) {\n              var iElementText = util.trim(iElement.text());\n\n              // Resolve translation id by inner html if required\n              var interpolateMatches = iElementText.match(interpolateRegExp);\n              // Interpolate translation id if required\n              if (angular.isArray(interpolateMatches)) {\n                scope.preText = interpolateMatches[1];\n                scope.postText = interpolateMatches[3];\n                translationIds.translate = $interpolate(interpolateMatches[2])(scope.$parent);\n                var watcherMatches = iElementText.match(watcherRegExp);\n                if (angular.isArray(watcherMatches) && watcherMatches[2] && watcherMatches[2].length) {\n                  observeElementTranslation._unwatchOld = scope.$watch(watcherMatches[2], function (newValue) {\n                    translationIds.translate = newValue;\n                    updateTranslations();\n                  });\n                }\n              } else {\n                // do not assigne the translation id if it is empty.\n                translationIds.translate = !iElementText ? undefined : iElementText;\n              }\n            } else {\n              translationIds.translate = translationId;\n            }\n            updateTranslations();\n          };\n\n          var observeAttributeTranslation = function (translateAttr) {\n            iAttr.$observe(translateAttr, function (translationId) {\n              translationIds[translateAttr] = translationId;\n              updateTranslations();\n            });\n          };\n\n          // initial setup with values\n          initInterpolationParams(scope.interpolateParams, iAttr, tAttr);\n\n          var firstAttributeChangedEvent = true;\n          iAttr.$observe('translate', function (translationId) {\n            if (typeof translationId === 'undefined') {\n              // case of element \"<translate>xyz</translate>\"\n              observeElementTranslation('');\n            } else {\n              // case of regular attribute\n              if (translationId !== '' || !firstAttributeChangedEvent) {\n                translationIds.translate = translationId;\n                updateTranslations();\n              }\n            }\n            firstAttributeChangedEvent = false;\n          });\n\n          for (var translateAttr in iAttr) {\n            if (iAttr.hasOwnProperty(translateAttr) && translateAttr.substr(0, 13) === 'translateAttr' && translateAttr.length > 13) {\n              observeAttributeTranslation(translateAttr);\n            }\n          }\n\n          iAttr.$observe('translateDefault', function (value) {\n            scope.defaultText = value;\n            updateTranslations();\n          });\n\n          if (translateSanitizeStrategyExist) {\n            iAttr.$observe('translateSanitizeStrategy', function (value) {\n              scope.sanitizeStrategy = $parse(value)(scope.$parent);\n              updateTranslations();\n            });\n          }\n\n          if (translateValuesExist) {\n            iAttr.$observe('translateValues', function (interpolateParams) {\n              if (interpolateParams) {\n                scope.$parent.$watch(function () {\n                  angular.extend(scope.interpolateParams, $parse(interpolateParams)(scope.$parent));\n                });\n              }\n            });\n          }\n\n          if (translateValueExist) {\n            var observeValueAttribute = function (attrName) {\n              iAttr.$observe(attrName, function (value) {\n                var attributeName = util.lowercase(attrName.substr(14, 1)) + attrName.substr(15);\n                scope.interpolateParams[attributeName] = value;\n              });\n            };\n            for (var attr in iAttr) {\n              if (Object.prototype.hasOwnProperty.call(iAttr, attr) && attr.substr(0, 14) === 'translateValue' && attr !== 'translateValues') {\n                observeValueAttribute(attr);\n              }\n            }\n          }\n\n          if (translateValuesExist || translateValueExist || iAttr.translateDefault) {\n            scope.$watch('interpolateParams', updateTranslations, true);\n          }\n\n          // Replaced watcher on translateLanguage with event listener\n          scope.$on('translateLanguageChanged', updateTranslations);\n\n          // Ensures the text will be refreshed after the current language was changed\n          // w/ $translate.use(...)\n          var unbind = $rootScope.$on('$translateChangeSuccess', updateTranslations);\n\n          // ensure translation will be looked up at least one\n          if (iElement.text().length) {\n            if (iAttr.translate) {\n              observeElementTranslation(iAttr.translate);\n            } else {\n              observeElementTranslation('');\n            }\n          } else if (iAttr.translate) {\n            // ensure attribute will be not skipped\n            observeElementTranslation(iAttr.translate);\n          }\n          updateTranslations();\n          scope.$on('$destroy', unbind);\n        };\n      }\n    };\n  });\n\n  ////////\n  // filter\n  ////////\n  angular.module('cloudwiz.translate').filter('translate', function ($parse, $translate) {\n    var translateFilter = function (translationId, interpolateParams, interpolation, forceLanguage) {\n      if (!angular.isObject(interpolateParams)) {\n        var ctx = this;\n        interpolateParams = $parse(interpolateParams)(ctx);\n      }\n  \n      return $translate.instant(translationId, interpolateParams, interpolation, forceLanguage);\n    };\n  \n    if ($translate.statefulFilter()) {\n      translateFilter.$stateful = true;\n    }\n  \n    return translateFilter;\n  });\n\n  ////////\n  // Storage\n  ////////\n  angular.module('cloudwiz.translate').constant('$STORAGE_KEY', 'CLOUDWIZ_LANG_KEY');\n  angular.module('cloudwiz.translate').factory('$translateLocalStorage', ['$window', function ($window) {\n    var localStorageAdapter = (function () {\n      var langKey;\n      return {\n        get: function (name) {\n          if (!langKey) {\n            langKey = $window.localStorage.getItem(name);\n          }\n          return langKey;\n        },\n        set: function (name, value) {\n          langKey = value;\n          $window.localStorage.setItem(name, value);\n        },\n        put: function (name, value) {\n          langKey = value;\n          $window.localStorage.setItem(name, value);\n        }\n      };\n    }());\n\n    var $translateLocalStorage = localStorageAdapter;\n    return $translateLocalStorage;\n  }]);\n\n})(window, window.angular);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/core/i18n/locale_provider.js\n// module id = 769\n// module chunks = 2","var kbn: any = {};\n\nkbn.valueFormats = {};\n\n///// HELPER FUNCTIONS /////\n\nkbn.round_interval = function(interval) {\n  switch (true) {\n  // 0.3s\n  case (interval <= 300):\n    return 100;       // 0.1s\n  // 0.75s\n  case (interval <= 750):\n    return 500;       // 0.5s\n  // 1.5s\n  case (interval <= 1500):\n    return 1000;      // 1s\n  // 3.5s\n  case (interval <= 3500):\n    return 2000;      // 2s\n  // 7.5s\n  case (interval <= 7500):\n    return 5000;      // 5s\n  // 12.5s\n  case (interval <= 12500):\n    return 10000;     // 10s\n  // 17.5s\n  case (interval <= 17500):\n    return 15000;     // 15s\n  // 25s\n  case (interval <= 25000):\n    return 20000;     // 20s\n  // 45s\n  case (interval <= 45000):\n    return 30000;     // 30s\n  // 1.5m\n  case (interval <= 90000):\n    return 60000;     // 1m\n  // 3.5m\n  case (interval <= 210000):\n    return 120000;    // 2m\n  // 7.5m\n  case (interval <= 450000):\n    return 300000;    // 5m\n  // 12.5m\n  case (interval <= 750000):\n    return 600000;    // 10m\n  // 12.5m\n  case (interval <= 1050000):\n    return 900000;    // 15m\n  // 25m\n  case (interval <= 1500000):\n    return 1200000;   // 20m\n  // 45m\n  case (interval <= 2700000):\n    return 1800000;   // 30m\n  // 1.5h\n  case (interval <= 5400000):\n    return 3600000;   // 1h\n  // 2.5h\n  case (interval <= 9000000):\n    return 7200000;   // 2h\n  // 4.5h\n  case (interval <= 16200000):\n    return 10800000;  // 3h\n  // 9h\n  case (interval <= 32400000):\n    return 21600000;  // 6h\n  // 24h\n  case (interval <= 86400000):\n    return 43200000;  // 12h\n  // 48h\n  case (interval <= 172800000):\n    return 86400000;  // 24h\n  // 1w\n  case (interval <= 604800000):\n    return 86400000;  // 24h\n  // 3w\n  case (interval <= 1814400000):\n    return 604800000; // 1w\n  // 2y\n  case (interval < 3628800000):\n    return 2592000000; // 30d\n  default:\n    return 31536000000; // 1y\n  }\n};\n\nkbn.secondsToHms = function(seconds) {\n  var numyears = Math.floor(seconds / 31536000);\n  if (numyears) {\n    return numyears + 'y';\n  }\n  var numdays = Math.floor((seconds % 31536000) / 86400);\n  if (numdays) {\n    return numdays + 'd';\n  }\n  var numhours = Math.floor(((seconds % 31536000) % 86400) / 3600);\n  if (numhours) {\n    return numhours + 'h';\n  }\n  var numminutes = Math.floor((((seconds % 31536000) % 86400) % 3600) / 60);\n  if (numminutes) {\n    return numminutes + 'm';\n  }\n  var numseconds = Math.floor((((seconds % 31536000) % 86400) % 3600) % 60);\n  if (numseconds) {\n    return numseconds + 's';\n  }\n  var nummilliseconds = Math.floor(seconds * 1000.0);\n  if (nummilliseconds) {\n    return nummilliseconds + 'ms';\n  }\n\n  return 'less then a millisecond'; //'just now' //or other string you like;\n};\n\nkbn.to_percent = function(nr, outof) {\n  return Math.floor(nr / outof * 10000) / 100 + '%';\n};\n\nkbn.addslashes = function(str) {\n  str = str.replace(/\\\\/g, '\\\\\\\\');\n  str = str.replace(/\\'/g, '\\\\\\'');\n  str = str.replace(/\\\"/g, '\\\\\"');\n  str = str.replace(/\\0/g, '\\\\0');\n  return str;\n};\n\nkbn.interval_regex = /(\\d+(?:\\.\\d+)?)([Mwdhmsy])/;\n\n// histogram & trends\nkbn.intervals_in_seconds = {\n  y: 31536000,\n  M: 2592000,\n  w: 604800,\n  d: 86400,\n  h: 3600,\n  m: 60,\n  s: 1\n};\n\nkbn.calculateInterval = function(range, resolution, userInterval) {\n  var lowLimitMs = 1; // 1 millisecond default low limit\n  var intervalMs, lowLimitInterval;\n\n  if (userInterval) {\n    if (userInterval[0] === '>') {\n      lowLimitInterval = userInterval.slice(1);\n      lowLimitMs = kbn.interval_to_ms(lowLimitInterval);\n    } else {\n      return userInterval;\n    }\n  }\n\n  intervalMs = kbn.round_interval((range.to.valueOf() - range.from.valueOf()) / resolution);\n  if (lowLimitMs > intervalMs) {\n    intervalMs = lowLimitMs;\n  }\n\n  return kbn.secondsToHms(intervalMs / 1000);\n};\n\nkbn.describe_interval = function (str) {\n  var matches = str.match(kbn.interval_regex);\n\n  if (!matches || !kbn.intervals_in_seconds.hasOwnProperty(matches[2])) {\n  // if (!matches || !_.has(kbn.intervals_in_seconds, matches[2])) {\n    throw new Error('Invalid interval string, expecting a number followed by one of \"Mwdhmsy\"');\n  } else {\n    return {\n      sec: kbn.intervals_in_seconds[matches[2]],\n      type: matches[2],\n      count: parseInt(matches[1], 10)\n    };\n  }\n};\n\nkbn.interval_to_ms = function (str) {\n  var info = kbn.describe_interval(str);\n  return info.sec * 1000 * info.count;\n};\n\nkbn.interval_to_seconds = function (str) {\n  var info = kbn.describe_interval(str);\n  return info.sec * info.count;\n};\n\nkbn.query_color_dot = function (color, diameter) {\n  return '<div class=\"icon-circle\" style=\"' + [\n    'display:inline-block',\n    'color:' + color,\n    'font-size:' + diameter + 'px',\n  ].join(';') + '\"></div>';\n};\n\nkbn.slugifyForUrl = function(str) {\n  return str\n    .toLowerCase()\n    .replace(/[^\\w ]+/g,'')\n    .replace(/ +/g,'-');\n};\n\n// kbn.exportSeriesListToCsv = function(seriesList) {\n//   var text = 'Series;Time;Value\\n';\n//   _.each(seriesList, function(series) {\n//     _.each(series.datapoints, function(dp) {\n//       text += series.alias + ';' + new Date(dp[1]).toISOString() + ';' + dp[0] + '\\n';\n//     });\n//   });\n//   var blob = new Blob([text], { type: \"text/csv;charset=utf-8\" });\n//   window.saveAs(blob, 'cloudwiz_data_export.csv');\n// };\n\nkbn.stringToJsRegex = function(str) {\n  if (str[0] !== '/') {\n    return new RegExp('^' + str + '$');\n  }\n\n  var match = str.match(new RegExp('^/(.*?)/(g?i?m?y?)$'));\n  return new RegExp(match[1], match[2]);\n};\n\nkbn.toFixed = function(value, decimals) {\n  if (value === null) {\n    return \"\";\n  }\n\n  var factor = decimals ? Math.pow(10, Math.max(0, decimals)) : 1;\n  var formatted = String(Math.round(value * factor) / factor);\n\n  // if exponent return directly\n  if (formatted.indexOf('e') !== -1 || value === 0) {\n    return formatted;\n  }\n\n  // If tickDecimals was specified, ensure that we have exactly that\n  // much precision; otherwise default to the value's own precision.\n  if (decimals !== null) {\n    var decimalPos = formatted.indexOf(\".\");\n    var precision = decimalPos === -1 ? 0 : formatted.length - decimalPos - 1;\n    if (precision < decimals) {\n      return (precision ? formatted : formatted + \".\") + (String(factor)).substr(1, decimals - precision);\n    }\n  }\n\n  return formatted;\n};\n\nkbn.toFixedScaled = function(value, decimals, scaledDecimals, additionalDecimals, ext) {\n  if (scaledDecimals === null) {\n    return kbn.toFixed(value, decimals) + ext;\n  } else {\n    return kbn.toFixed(value, scaledDecimals + additionalDecimals) + ext;\n  }\n};\n\nkbn.roundValue = function(num, decimals) {\n  if (num === null) {\n    return null;\n  }\n  var n = Math.pow(10, decimals);\n  var formatted = (n * num).toFixed(decimals);\n  return Math.round(parseFloat(formatted)) / n;\n};\n\n///// FORMAT FUNCTION CONSTRUCTORS /////\n\nkbn.formatBuilders = {};\n\n// Formatter which always appends a fixed unit string to the value. No\n// scaling of the value is performed.\nkbn.formatBuilders.fixedUnit = function(unit) {\n  return function(size, decimals) {\n    if (size === null) { return \"\"; }\n    return kbn.toFixed(size, decimals) + ' ' + unit;\n  };\n};\n\n// Formatter which scales the unit string geometrically according to the given\n// numeric factor. Repeatedly scales the value down by the factor until it is\n// less than the factor in magnitude, or the end of the array is reached.\nkbn.formatBuilders.scaledUnits = function(factor, extArray) {\n  return function(size, decimals, scaledDecimals) {\n    if (size === null) {\n      return \"\";\n    }\n\n    var steps = 0;\n    var limit = extArray.length;\n\n    while (Math.abs(size) >= factor) {\n      steps++;\n      size /= factor;\n\n      if (steps >= limit) { return \"NA\"; }\n    }\n\n    if (steps > 0 && scaledDecimals !== null) {\n      decimals = scaledDecimals + (3 * steps);\n    }\n\n    return kbn.toFixed(size, decimals) + extArray[steps];\n  };\n};\n\n// Extension of the scaledUnits builder which uses SI decimal prefixes. If an\n// offset is given, it adjusts the starting units at the given prefix; a value\n// of 0 starts at no scale; -3 drops to nano, +2 starts at mega, etc.\nkbn.formatBuilders.decimalSIPrefix = function(unit, offset) {\n  var prefixes = ['n', 'µ', 'm', '', 'k', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y'];\n  prefixes = prefixes.slice(3 + (offset || 0));\n  var units = prefixes.map(function(p) { return ' ' + p + unit; });\n  return kbn.formatBuilders.scaledUnits(1000, units);\n};\n\n// Extension of the scaledUnits builder which uses SI binary prefixes. If\n// offset is given, it starts the units at the given prefix; otherwise, the\n// offset defaults to zero and the initial unit is not prefixed.\nkbn.formatBuilders.binarySIPrefix = function(unit, offset) {\n  var prefixes = ['', 'K', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y'].slice(offset);\n  var units = prefixes.map(function(p) { return ' ' + p + unit; });\n  return kbn.formatBuilders.scaledUnits(1024, units);\n};\n\n// Currency formatter for prefixing a symbol onto a number. Supports scaling\n// up to the trillions.\nkbn.formatBuilders.currency = function(symbol) {\n  var units = ['', 'K', 'M', 'B', 'T'];\n  var scaler = kbn.formatBuilders.scaledUnits(1000, units);\n  return function(size, decimals, scaledDecimals) {\n    if (size === null) { return \"\"; }\n    var scaled = scaler(size, decimals, scaledDecimals);\n    return symbol + scaled;\n  };\n};\n\nkbn.formatBuilders.simpleCountUnit = function(symbol) {\n  var units = ['', 'K', 'M', 'B', 'T'];\n  var scaler = kbn.formatBuilders.scaledUnits(1000, units);\n  return function(size, decimals, scaledDecimals) {\n    if (size === null) { return \"\"; }\n    var scaled = scaler(size, decimals, scaledDecimals);\n    return scaled + \" \" + symbol;\n  };\n};\n\n///// VALUE FORMATS /////\n\n// Dimensionless Units\nkbn.valueFormats.none  = kbn.toFixed;\nkbn.valueFormats.short = kbn.formatBuilders.scaledUnits(1000, ['', ' K', ' Mil', ' Bil', ' Tri', ' Quadr', ' Quint', ' Sext', ' Sept']);\nkbn.valueFormats.dB    = kbn.formatBuilders.fixedUnit('dB');\nkbn.valueFormats.ppm   = kbn.formatBuilders.fixedUnit('ppm');\n\nkbn.valueFormats.percent = function(size, decimals) {\n  if (size === null) { return \"\"; }\n  return kbn.toFixed(size, decimals) + '%';\n};\n\nkbn.valueFormats.percentunit = function(size, decimals) {\n  if (size === null) { return \"\"; }\n  return kbn.toFixed(100*size, decimals) + '%';\n};\n\n// Currencies\nkbn.valueFormats.currencyUSD = kbn.formatBuilders.currency('$');\nkbn.valueFormats.currencyGBP = kbn.formatBuilders.currency('£');\nkbn.valueFormats.currencyEUR = kbn.formatBuilders.currency('€');\nkbn.valueFormats.currencyJPY = kbn.formatBuilders.currency('¥');\n\n// Data\nkbn.valueFormats.bits   = kbn.formatBuilders.binarySIPrefix('b');\nkbn.valueFormats.bytes  = kbn.formatBuilders.binarySIPrefix('B');\nkbn.valueFormats.kbytes = kbn.formatBuilders.binarySIPrefix('B', 1);\nkbn.valueFormats.mbytes = kbn.formatBuilders.binarySIPrefix('B', 2);\nkbn.valueFormats.gbytes = kbn.formatBuilders.binarySIPrefix('B', 3);\n\n// Data Rate\nkbn.valueFormats.pps    = kbn.formatBuilders.decimalSIPrefix('pps');\nkbn.valueFormats.bps    = kbn.formatBuilders.decimalSIPrefix('bps');\nkbn.valueFormats.Bps    = kbn.formatBuilders.decimalSIPrefix('Bps');\nkbn.valueFormats.KBs    = kbn.formatBuilders.decimalSIPrefix('Bs', 1);\nkbn.valueFormats.Kbits  = kbn.formatBuilders.decimalSIPrefix('bits', 1);\nkbn.valueFormats.MBs    = kbn.formatBuilders.decimalSIPrefix('Bs', 2);\nkbn.valueFormats.Mbits  = kbn.formatBuilders.decimalSIPrefix('bits', 2);\nkbn.valueFormats.GBs    = kbn.formatBuilders.decimalSIPrefix('Bs', 3);\nkbn.valueFormats.Gbits  = kbn.formatBuilders.decimalSIPrefix('bits', 3);\n\n// Throughput\nkbn.valueFormats.ops  = kbn.formatBuilders.simpleCountUnit('ops');\nkbn.valueFormats.rps  = kbn.formatBuilders.simpleCountUnit('rps');\nkbn.valueFormats.wps  = kbn.formatBuilders.simpleCountUnit('wps');\nkbn.valueFormats.iops = kbn.formatBuilders.simpleCountUnit('iops');\n\n// Energy\nkbn.valueFormats.watt         = kbn.formatBuilders.decimalSIPrefix('W');\nkbn.valueFormats.kwatt        = kbn.formatBuilders.decimalSIPrefix('W', 1);\nkbn.valueFormats.voltamp      = kbn.formatBuilders.decimalSIPrefix('VA');\nkbn.valueFormats.kvoltamp     = kbn.formatBuilders.decimalSIPrefix('VA', 1);\nkbn.valueFormats.voltampreact = kbn.formatBuilders.decimalSIPrefix('var');\nkbn.valueFormats.watth        = kbn.formatBuilders.decimalSIPrefix('Wh');\nkbn.valueFormats.kwatth       = kbn.formatBuilders.decimalSIPrefix('Wh', 1);\nkbn.valueFormats.joule        = kbn.formatBuilders.decimalSIPrefix('J');\nkbn.valueFormats.ev           = kbn.formatBuilders.decimalSIPrefix('eV');\nkbn.valueFormats.amp          = kbn.formatBuilders.decimalSIPrefix('A');\nkbn.valueFormats.volt         = kbn.formatBuilders.decimalSIPrefix('V');\n\n// Temperature\nkbn.valueFormats.celsius   = kbn.formatBuilders.fixedUnit('°C');\nkbn.valueFormats.farenheit = kbn.formatBuilders.fixedUnit('°F');\nkbn.valueFormats.kelvin    = kbn.formatBuilders.fixedUnit('K');\nkbn.valueFormats.humidity  = kbn.formatBuilders.fixedUnit('%H');\n\n// Pressure\nkbn.valueFormats.pressurembar = kbn.formatBuilders.fixedUnit('mbar');\nkbn.valueFormats.pressurehpa  = kbn.formatBuilders.fixedUnit('hPa');\nkbn.valueFormats.pressurehg   = kbn.formatBuilders.fixedUnit('\"Hg');\nkbn.valueFormats.pressurepsi  = kbn.formatBuilders.scaledUnits(1000, [' psi', ' ksi', ' Mpsi']);\n\n// Length\nkbn.valueFormats.lengthm  = kbn.formatBuilders.decimalSIPrefix('m');\nkbn.valueFormats.lengthmm = kbn.formatBuilders.decimalSIPrefix('m', -1);\nkbn.valueFormats.lengthkm = kbn.formatBuilders.decimalSIPrefix('m', 1);\nkbn.valueFormats.lengthmi = kbn.formatBuilders.fixedUnit('mi');\n\n// Velocity\nkbn.valueFormats.velocityms   = kbn.formatBuilders.fixedUnit('m/s');\nkbn.valueFormats.velocitykmh  = kbn.formatBuilders.fixedUnit('km/h');\nkbn.valueFormats.velocitymph  = kbn.formatBuilders.fixedUnit('mph');\nkbn.valueFormats.velocityknot = kbn.formatBuilders.fixedUnit('kn');\n\n// Volume\nkbn.valueFormats.litre  = kbn.formatBuilders.decimalSIPrefix('L');\nkbn.valueFormats.mlitre = kbn.formatBuilders.decimalSIPrefix('L', -1);\nkbn.valueFormats.m3     = kbn.formatBuilders.decimalSIPrefix('m3');\n\n// Time\nkbn.valueFormats.hertz = kbn.formatBuilders.decimalSIPrefix('Hz');\n\nkbn.valueFormats.ms = function(size, decimals, scaledDecimals) {\n  if (size === null) { return \"\"; }\n\n  if (Math.abs(size) < 1000) {\n    return kbn.toFixed(size, decimals) + ' ms';\n  } else if (Math.abs(size) < 60000) {\n    // Less than 1 min\n    return kbn.toFixedScaled(size / 1000, decimals, scaledDecimals, 3, ' s');\n  } else if (Math.abs(size) < 3600000) {\n    // Less than 1 hour, devide in minutes\n    return kbn.toFixedScaled(size / 60000, decimals, scaledDecimals, 5, ' min');\n  } else if (Math.abs(size) < 86400000) {\n    // Less than one day, devide in hours\n    return kbn.toFixedScaled(size / 3600000, decimals, scaledDecimals, 7, ' hour');\n  } else if (Math.abs(size) < 31536000000) {\n    // Less than one year, devide in days\n    return kbn.toFixedScaled(size / 86400000, decimals, scaledDecimals, 8, ' day');\n  }\n\n  return kbn.toFixedScaled(size / 31536000000, decimals, scaledDecimals, 10, \" year\");\n};\n\nkbn.valueFormats.s = function(size, decimals, scaledDecimals) {\n  if (size === null) { return \"\"; }\n\n  // Less than 1 µs, devide in ns\n  if (Math.abs(size) < 0.000001) {\n    return kbn.toFixedScaled(size * 1e9, decimals, scaledDecimals - decimals, -9, ' ns');\n  }\n  // Less than 1 ms, devide in µs\n  if (Math.abs(size) < 0.001) {\n    return kbn.toFixedScaled(size * 1e6, decimals, scaledDecimals - decimals, -6, ' µs');\n  }\n  // Less than 1 second, devide in ms\n  if (Math.abs(size) < 1) {\n    return kbn.toFixedScaled(size * 1e3, decimals, scaledDecimals - decimals, -3, ' ms');\n  }\n\n  if (Math.abs(size) < 60) {\n    return kbn.toFixed(size, decimals) + ' s';\n  } else if (Math.abs(size) < 3600) {\n    // Less than 1 hour, devide in minutes\n    return kbn.toFixedScaled(size / 60, decimals, scaledDecimals, 1, ' min');\n  } else if (Math.abs(size) < 86400) {\n    // Less than one day, devide in hours\n    return kbn.toFixedScaled(size / 3600, decimals, scaledDecimals, 4, ' hour');\n  } else if (Math.abs(size) < 604800) {\n    // Less than one week, devide in days\n    return kbn.toFixedScaled(size / 86400, decimals, scaledDecimals, 5, ' day');\n  } else if (Math.abs(size) < 31536000) {\n    // Less than one year, devide in week\n    return kbn.toFixedScaled(size / 604800, decimals, scaledDecimals, 6, ' week');\n  }\n\n  return kbn.toFixedScaled(size / 3.15569e7, decimals, scaledDecimals, 7, \" year\");\n};\n\nkbn.valueFormats['µs'] = function(size, decimals, scaledDecimals) {\n  if (size === null) { return \"\"; }\n\n  if (Math.abs(size) < 1000) {\n    return kbn.toFixed(size, decimals) + ' µs';\n  } else if (Math.abs(size) < 1000000) {\n    return kbn.toFixedScaled(size / 1000, decimals, scaledDecimals, 3, ' ms');\n  } else {\n    return kbn.toFixedScaled(size / 1000000, decimals, scaledDecimals, 6, ' s');\n  }\n};\n\nkbn.valueFormats.ns = function(size, decimals, scaledDecimals) {\n  if (size === null) { return \"\"; }\n\n  if (Math.abs(size) < 1000) {\n    return kbn.toFixed(size, decimals) + ' ns';\n  } else if (Math.abs(size) < 1000000) {\n    return kbn.toFixedScaled(size / 1000, decimals, scaledDecimals, 3, ' µs');\n  } else if (Math.abs(size) < 1000000000) {\n    return kbn.toFixedScaled(size / 1000000, decimals, scaledDecimals, 6, ' ms');\n  } else if (Math.abs(size) < 60000000000) {\n    return kbn.toFixedScaled(size / 1000000000, decimals, scaledDecimals, 9, ' s');\n  } else {\n    return kbn.toFixedScaled(size / 60000000000, decimals, scaledDecimals, 12, ' min');\n  }\n};\n\nkbn.valueFormats.m = function(size, decimals, scaledDecimals) {\n  if (size === null) { return \"\"; }\n\n  if (Math.abs(size) < 60) {\n    return kbn.toFixed(size, decimals) + ' min';\n  } else if (Math.abs(size) < 1440) {\n    return kbn.toFixedScaled(size / 60, decimals, scaledDecimals, 2, ' hour');\n  } else if (Math.abs(size) < 10080) {\n    return kbn.toFixedScaled(size / 1440, decimals, scaledDecimals, 3, ' day');\n  } else if (Math.abs(size) < 604800) {\n    return kbn.toFixedScaled(size / 10080, decimals, scaledDecimals, 4, ' week');\n  } else {\n    return kbn.toFixedScaled(size / 5.25948e5, decimals, scaledDecimals, 5, ' year');\n  }\n};\n\nkbn.valueFormats.h = function(size, decimals, scaledDecimals) {\n  if (size === null) { return \"\"; }\n\n  if (Math.abs(size) < 24) {\n    return kbn.toFixed(size, decimals) + ' hour';\n  } else if (Math.abs(size) < 168) {\n    return kbn.toFixedScaled(size / 24, decimals, scaledDecimals, 2, ' day');\n  } else if (Math.abs(size) < 8760) {\n    return kbn.toFixedScaled(size / 168, decimals, scaledDecimals, 3, ' week');\n  } else {\n    return kbn.toFixedScaled(size / 8760, decimals, scaledDecimals, 4, ' year');\n  }\n};\n\nkbn.valueFormats.d = function(size, decimals, scaledDecimals) {\n  if (size === null) { return \"\"; }\n\n  if (Math.abs(size) < 7) {\n    return kbn.toFixed(size, decimals) + ' day';\n  } else if (Math.abs(size) < 365) {\n    return kbn.toFixedScaled(size / 7, decimals, scaledDecimals, 2, ' week');\n  } else {\n    return kbn.toFixedScaled(size / 365, decimals, scaledDecimals, 3, ' year');\n  }\n};\n\n///// FORMAT MENU /////\n\nkbn.getUnitFormats = function() {\n  return [\n    {\n      text: 'none',\n      submenu: [\n        {text: 'none' ,             value: 'none'       },\n        {text: 'short',             value: 'short'      },\n        {text: 'percent (0-100)',   value: 'percent'    },\n        {text: 'percent (0.0-1.0)', value: 'percentunit'},\n        {text: 'Humidity (%H)',     value: 'humidity'   },\n        {text: 'ppm',               value: 'ppm'        },\n        {text: 'decibel',           value: 'dB'         },\n      ]\n    },\n    {\n      text: 'currency',\n      submenu: [\n        {text: 'Dollars ($)', value: 'currencyUSD'},\n        {text: 'Pounds (£)',  value: 'currencyGBP'},\n        {text: 'Euro (€)',    value: 'currencyEUR'},\n        {text: 'Yen (¥)',     value: 'currencyJPY'},\n      ]\n    },\n    {\n      text: 'time',\n      submenu: [\n        {text: 'Hertz (1/s)',       value: 'hertz'},\n        {text: 'nanoseconds (ns)' , value: 'ns'   },\n        {text: 'microseconds (µs)', value: 'µs'   },\n        {text: 'milliseconds (ms)', value: 'ms'   },\n        {text: 'seconds (s)',       value: 's'    },\n        {text: 'minutes (m)',       value: 'm'    },\n        {text: 'hours (h)',         value: 'h'    },\n        {text: 'days (d)',          value: 'd'    },\n      ]\n    },\n    {\n      text: 'data',\n      submenu: [\n        {text: 'bits',      value: 'bits'  },\n        {text: 'bytes',     value: 'bytes' },\n        {text: 'kilobytes', value: 'kbytes'},\n        {text: 'megabytes', value: 'mbytes'},\n        {text: 'gigabytes', value: 'gbytes'},\n      ]\n    },\n    {\n      text: 'data rate',\n      submenu: [\n        {text: 'packets/sec', value: 'pps'},\n        {text: 'bits/sec',    value: 'bps'},\n        {text: 'bytes/sec',   value: 'Bps'},\n        {text: 'kilobits/sec', value: 'Kbits'},\n        {text: 'kilobytes/sec',    value: 'KBs'},\n        {text: 'megabits/sec', value: 'Mbits'},\n        {text: 'megabytes/sec',    value: 'MBs'},\n        {text: 'gigabytes/sec',   value: 'GBs'},\n        {text: 'gigabits/sec',   value: 'Gbits'},\n      ]\n    },\n    {\n      text: 'throughput',\n      submenu: [\n        {text: 'ops/sec (ops)',       value: 'ops' },\n        {text: 'reads/sec (rps)',     value: 'rps' },\n        {text: 'writes/sec (wps)',    value: 'wps' },\n        {text: 'I/O ops/sec (iops)',  value: 'iops'},\n      ]\n    },\n    {\n      text: 'length',\n      submenu: [\n        {text: 'millimetre (mm)', value: 'lengthmm'},\n        {text: 'meter (m)',       value: 'lengthm' },\n        {text: 'kilometer (km)',  value: 'lengthkm'},\n        {text: 'mile (mi)',       value: 'lengthmi'},\n      ]\n    },\n    {\n      text: 'velocity',\n      submenu: [\n        {text: 'm/s',       value: 'velocityms'  },\n        {text: 'km/h',      value: 'velocitykmh' },\n        {text: 'mph',       value: 'velocitymph' },\n        {text: 'knot (kn)', value: 'velocityknot'},\n      ]\n    },\n    {\n      text: 'volume',\n      submenu: [\n        {text: 'millilitre',  value: 'mlitre'},\n        {text: 'litre',       value: 'litre' },\n        {text: 'cubic metre', value: 'm3'    },\n      ]\n    },\n    {\n      text: 'energy',\n      submenu: [\n        {text: 'watt (W)',                   value: 'watt'        },\n        {text: 'kilowatt (kW)',              value: 'kwatt'       },\n        {text: 'volt-ampere (VA)',           value: 'voltamp'     },\n        {text: 'kilovolt-ampere (kVA)',      value: 'kvoltamp'    },\n        {text: 'volt-ampere reactive (var)', value: 'voltampreact'},\n        {text: 'watt-hour (Wh)',             value: 'watth'       },\n        {text: 'kilowatt-hour (kWh)',        value: 'kwatth'      },\n        {text: 'joule (J)',                  value: 'joule'       },\n        {text: 'electron volt (eV)',         value: 'ev'          },\n        {text: 'Ampere (A)',                 value: 'amp'         },\n        {text: 'Volt (V)',                   value: 'volt'        },\n      ]\n    },\n    {\n      text: 'temperature',\n      submenu: [\n        {text: 'Celcius (°C)',    value: 'celsius'     },\n        {text: 'Farenheit (°F)',  value: 'farenheit'   },\n        {text: 'Kelvin (K)',      value: 'kelvin'      },\n      ]\n    },\n    {\n      text: 'pressure',\n      submenu: [\n        {text: 'Millibars',         value: 'pressurembar'},\n        {text: 'Hectopascals',      value: 'pressurehpa' },\n        {text: 'Inches of mercury', value: 'pressurehg'  },\n        {text: 'PSI',               value: 'pressurepsi' },\n      ]\n    }\n  ];\n};\n\nexport default kbn;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader??ref--0!./public/app/core/utils/kbn.ts"],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AChHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAEA;AACA;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;AC5DA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACLA;AACA;AACA;AACA;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AAGA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;;;;;;;;;;AClCA;AAAA;AAEA;AAEA;AACA;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;;ACzLA;AAAA;AAAA;AAKA;AAQA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;;;;;;;;;;ACrBA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;ACpBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAKA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;AAEA;;;;;;;;AC3IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvNA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;ACnBA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AC3DA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AC1CA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;ACtBA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;ACnGA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AChDA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AC3OA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AC9BA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AC5NA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AC5HA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AC5DA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AC5CA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;ACxCA;AACA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;ACrIA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;AC1RA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;AC5PA;AAAA;AAAA;;;;;;;;;;;AAEA;AAEA;AAAA;AAGA;AACA;AACA;AACA;AALA;AAOA;AAAA;AARA;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAyBA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;ACpUA;AAAA;AAAA;AAAA;AAIA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;AC1EA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;AC1BA,6MACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AC/CA;AACA;AAAA;;;;;;;;;ACDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;;;;;;;;ACnJA;AACA;AACA;AACA;AACA,sCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oGAAA;;;;;;;ACtBA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAYA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;;;;;;;;;ACrDA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;;;;;;;;;AChBA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;;;;;;;;;ACnDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AAIA;AAkDA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;ACxNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AAEA;AAUA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AACA;AACA;AAgBA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;;;;;;;;;AC/NA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAEA;AAWA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;AC5FA;AAAA;AAAA;AAAA;AAIA;AAEA;AAWA;AAIA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAEA;AAcA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;ACtWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAEA;AAaA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;ACzIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;ACpPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;;;;;;;;;ACvDA;AAAA;AAAA;AAAA;AAKA;AAEA;AAyBA;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;ACvEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AACA;AAEA;AAMA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;ACvDA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;AC/BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAGA;AAEA;AAKA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAAA;;AAEA;AACA;;;;;;;;;ACpIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACnMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACrIA;AACA;AACA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAGA;AAEA;AAWA;AAGA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;;ACzEA;AAAA;AAAA;AAAA;AAKA;AAGA;AAaA;AAMA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;AC3DA;AAAA;AAAA;AAAA;AAKA;AAEA;AAOA;AAIA;AACA;AAAA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;ACZA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AClEA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;ACjGA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;;;ACrCA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AC1CA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;ACnBA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;AC9BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;AAEA;;;;;;;;AC3CA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;ACvCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAEA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;AAEA;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCACA;AAAA;;;;;;;;ACxBA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;ACxJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AAEA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;;AAEA;;;;;;;;AClGA;AACA;AACA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AClLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;;AAEA;AAGA;AAAA;AACA;AAAA;;AAEA;AAgBA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;;AAEA;AACA;AAEA;AACA;AACA;;;;;;;;ACvFA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AChCA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AClSA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;;;;;;;;ACzDA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AC7GA;AACA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;AC9YA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAEA;;;;;;;;AC7DA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AC9CA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;ACtKA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACZA;AACA;AACA;AACA;AACA,oCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;AC/EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;;AAEA;;;;;;;;;ACnGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AAKA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;;;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;;;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;;AAEA;;;;;;;;;AChOA;AAAA;AAAA;AAAA;AAEA;AAGA;AACA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;;AAEA;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;;AAEA;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;;AAEA;;;;;;;;;AChGA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;AAEA;;;;;;;;;ACvDA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;AAEA;;;;;;;;;AC3DA;AAAA;AAAA;AAAA;AAEA;AAGA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;AC5dA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;AACA;;;;;;;;;ACrEA;AAAA;AAEA;AAIA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;AClIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACnyCA;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;A","sourceRoot":""}