<div ng-if="ctrl.isOpen" class="rca-add-box" ng-click="ctrl.dismiss();">
  <div class="gf-form-rca" ng-click="ctrl.cancleBubble($event);">
    <a class="modal-close pull-right" ng-click="ctrl.dismiss();">
      <i class="fa fa-remove"></i>
    </a>
    <form class="gf-form-group" ng-if="ctrl.isOpen">
      <div class="gf-form-section-modal">
        <h3 class="page-heading">现象指标信息</h3>
        <div class="gf-form-inline">
          <div class="gf-form max-width-28">
            <span class="gf-form-label width-9">现象指标</span>
            <input type="text" class="gf-form-input" ng-model="ctrl.symptomMetric" disabled/>
          </div>
          <div class="gf-form max-width-28">
            <span class="gf-form-label width-9">现象机器</span>
            <input type="text" class="gf-form-input" ng-model="ctrl.symptomHost" disabled/>
          </div>
        </div>
      </div>

      <div class="gf-form-section-modal">
        <h3 class="page-heading">根源指标信息</h3>
        <div class="gf-form-inline">
          <div class="gf-form max-width-28">
            <span class="gf-form-label width-9">根源指标</span>
            <input type="text" class="gf-form-input" ng-model="ctrl.causeMetric" required bs-typeahead-old="suggestMetrics"/>
          </div>
          <div class="gf-form max-width-28">
            <span class="gf-form-label width-9">根源机器</span>
            <input type="text" class="gf-form-input" ng-model="ctrl.causeHost" required bs-typeahead-old="suggestTagHost"/>
          </div>
          <div class="gf-form max-width-28">
            <span class="gf-form-label width-9">确认程度</span>
            <label class="gf-form-inline">
              <input class="gf-form-input" type="radio" name="confident" value="100" ng-model="ctrl.confidenceLevel"/>
              <span class="gf-form-label gf-form-label-radio">非常确定</span>
            </label>
            <label class="gf-form-inline">
              <input class="gf-form-input" type="radio" name="confident" value="50" ng-model="ctrl.confidenceLevel"/>
              <span class="gf-form-label gf-form-label-radio">可能</span>
            </label>
          </div>
          <div>
          </div>
        </div>
        <button class="btn gf-form-btn btn-success" style="padding: 0.1rem 0.5rem;" ng-click="ctrl.addCause(ctrl.causeMetric,ctrl.causeHost,ctrl.confidenceLevel)">添加更多</button>      

        <br/>
        <div class="gf-form-inline">
          <div class="gf-form max-width-28" ng-repeat="cause in ctrl.rootCauseMetrics">
            <span bs-tooltip="'{{cause.name}}'" data-placement="bottom" class="gf-form-label width-8">{{cause.name}}</span>
            <span class="gf-form-label width-8">{{cause.host}}</span>
            <span class="gf-form-label width-8">{{ctrl.confidences[cause.confidenceLevel]}}</span>
            <button class="btn gf-form-btn btn-danger" ng-click="ctrl.removeCause($index)"><i class="fa fa-minus"></i></button>
          </div>
        </div>
      </div>

      <div class="gf-form-button-row center">
        <button type="button" class="btn btn-inverse" ng-click="ctrl.dismiss();">取消</button>
        <button type="button" class="btn btn-success" ng-click="ctrl.addRca();">添加关联</button>
      </div>
    </form>
  </div>
</div>