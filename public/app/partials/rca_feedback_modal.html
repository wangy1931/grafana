<div class="modal-body" ng-controller="RcaFeedbackCtrl as ctrl">

  <a class="modal-close" ng-click="dismiss();">
    <i class="fa fa-remove"></i>
  </a>

  <h3 translate="page_logs_add_source">
  </h3>

  <form class="gf-form-group">
    <div class="gf-form-section-modal">
      <h3 class="page-heading" translate="i18n_alert"></h3>
      <div class="gf-form-inline">
        <div class="gf-form max-width-28">
          <span class="gf-form-label width-9" translate="page_alert_content"></span>
          <input type="text" class="gf-form-input" ng-model="ctrl.alertMetric"/>
        </div>
        <div class="gf-form max-width-28">
          <span class="gf-form-label width-9" translate="page_alert_host"></span>
          <input type="text" class="gf-form-input" ng-model="ctrl.alertHost"/>
        </div>
      </div>
    </div>

    <div class="gf-form-section-modal">
      <h3 class="page-heading" translate="page_rca_cause"></h3>
      <div class="gf-form-inline">
        <div class="gf-form">
          <span class="gf-form-label width-9" translate="i18n_type"></span>
          <select class="gf-form-select-wrapper gf-form-input width-9"
            ng-model="ctrl.typeSelected" 
            ng-options="item.name for item in ctrl.types"
            ng-change="ctrl.changeType(ctrl.typeSelected)">
          </select>
        </div>
      </div>

      <div class="gf-form-inline">
        <div class="gf-form max-width-28">
          <span class="gf-form-label width-9" translate="page_rca_cause_reason"></span>
          <input type="text" class="gf-form-input" ng-model="ctrl.causeMetric" bs-typeahead-old="suggestMetrics"/>
        </div>
        <div class="gf-form max-width-28">
          <span class="gf-form-label width-9" translate="page_rca_cause_host"></span>
          <input type="text" class="gf-form-input" ng-model="ctrl.causeHost" bs-typeahead-old="suggestTagHost"/>
        </div>
        <div class="gf-form max-width-28">
          <span class="gf-form-label width-9" translate="page_rca_cause_desc"></span>
          <input type="text" class="gf-form-input" ng-model="ctrl.causeDescription"/>
        </div>
        <!-- <div class="gf-form max-width-28">
          <span class="gf-form-label width-9">解决方案</span>
          <input type="text" class="gf-form-input" ng-model="ctrl.causeSolution"/>
        </div> -->
        <div class="gf-form max-width-28">
          <span class="gf-form-label width-9" translate="page_rca_confidence_level"></span>
          <label class="gf-form-inline">
            <input class="gf-form-input" type="radio" name="confident" value="100" ng-model="ctrl.confidenceLevel"/>
            <span class="gf-form-label gf-form-label-radio" translate="page_rca_confidence_sure"></span>
          </label>
          <label class="gf-form-inline">
            <input class="gf-form-input" type="radio" name="confident" value="50" ng-model="ctrl.confidenceLevel"/>
            <span class="gf-form-label gf-form-label-radio" translate="page_rca_confidence_maybe"></span>
          </label>
        </div>
      </div>

      <button class="btn gf-form-btn btn-success"
        style="padding: 0.1rem 0.5rem;"
        ng-click="ctrl.addCause()"
        ng-if="ctrl.typeSelected.value === 'metric'"
        translate="i18n_add">
      </button>      

      <br/>
      <div class="gf-form-inline">
        <div class="gf-form max-width-28" ng-repeat="cause in ctrl.rootCauseMetrics">
          <span bs-tooltip="'{{ cause.name }}'" data-placement="bottom" class="gf-form-label width-8">{{ cause.name }}</span>
          <span class="gf-form-label width-8">{{ cause.host }}</span>
          <span class="gf-form-label width-8">{{ ctrl.confidences[cause.confidenceLevel] }}</span>
          <button class="btn gf-form-btn btn-danger" ng-click="ctrl.removeCause($index)"><i class="fa fa-minus"></i></button>
        </div>
      </div>
    </div>

    <div class="gf-form-button-row">
      <button type="button" class="btn btn-inverse" ng-click="dismiss();" translate="i18n_cancel"></button>
      <button type="button" class="btn btn-success" ng-click="ctrl.submitRCAFeedback();" translate="i18n_confirm"></button>
    </div>
  </form>

</div>


    