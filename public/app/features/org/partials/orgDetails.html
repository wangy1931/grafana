<!-- <navbar icon="icon-gf icon-gf-users" title="公司" title-url="org">
</navbar> -->
<navbar model="navModel"></navbar>

<div class="page-container">
	<div class="page-header">
		<h1>公司</h1>
	</div>

	<h3 class="page-heading">信息</h3>
	<form name="orgForm" class="gf-form-group">
		<div class="gf-form-inline">
			<div class="gf-form max-width-28">
				<span class="gf-form-label width-6">公司名称</span>
				<input class="gf-form-input" type="text" required ng-model="org.name">
			</div>
			<div class="gf-form">
				<button type="submit" class="btn gf-form-btn btn-success" ng-click="update()">更新</button>
			</div>
		</div>
	</form>

	<prefs-control mode="org"></prefs-control>

	<h3 class="page-heading">公司地址</h3>

	<form name="addressForm" class="gf-form-group">
		<div class="gf-form-inline">
			<div class="gf-form max-width-28">
				<span class="gf-form-label width-7">地址 1</span>
				<input class="gf-form-input" type="text" ng-model="address.address1">
			</div>
			<div class="gf-form max-width-28">
				<span class="gf-form-label width-7">地址 2</span>
				<input class="gf-form-input" type="text" ng-model="address.address2">
			</div>
		</div>

		<div class="gf-form-inline">
			<div class="gf-form max-width-28">
				<span class="gf-form-label width-7">城市</span>
				<input class="gf-form-input" type="text" ng-model="address.city">
			</div>
			<div class="gf-form max-width-28">
				<span class="gf-form-label width-7">邮政编码</span>
				<input class="gf-form-input" type="text" ng-model="address.zipCode">
			</div>
		</div>

		<div class="gf-form-inline">
			<div class="gf-form max-width-28">
				<span class="gf-form-label width-7">省</span>
				<input class="gf-form-input" type="text" ng-model="address.state">
			</div>
			<div class="gf-form max-width-28">
				<span class="gf-form-label width-7">国家</span>
				<input class="gf-form-input" type="text" ng-model="address.country">
			</div>
		</div>

		<div class="gf-form-button-row">
			<button type="submit" class="btn btn-success" ng-click="updateAddress()">更新</button>
		</div>
	</form>

	<h3 class="page-heading">子系统</h3>
	<form name="addOrgForm" class="gf-form-group">
		<div class="gf-form-inline">
			<div class="gf-form max-width-28">
				<span class="gf-form-label width-7">新增子系统</span>
				<input type="text" ng-model="newSystemName" required class="itight-form-input last" placeholder="如:办公自动化系统">
			</div>
			<div class="gf-form">
				<button type="submit" class="btn gf-form-btn btn-success" ng-click="addSystem()"><i class="fa fa-plus-square"></i></button>
			</div>
		</div>
	</form>

	<div class="gf-form-inline" ng-if="!systems.length">
		<h4>没有子系统,请手动加入</h4>
	</div>
	<form name="addOrgForm" class="gf-form-group" ng-if="systems.length > 0">
		<div class="gf-form-inline" ng-repeat="system in systems">
			<div class="gf-form max-width-28">
				<span class="gf-form-label width-7">子系统名称</span>
				<input type="text" required ng-model="system.SystemsName" class="tight-form-input last" style="width: 475px">
				<button class="btn gf-form-btn btn-danger" ng-click="deleteSystem(system)" ng-disabled="system.Id === contextSrv.user.systemId">删除</button>
			</div>
		</div>
		<div class="gf-form-button-row">
			<button type="submit" class="btn gf-form-btn btn-success" ng-click="updateSystems()">更新</button>
		</div>
	</form>


	<h3 class="page-heading">管理员页面</h3>
	<div class="gf-form-group">
		<div class="gf-form-inline">
			<div class="gf-form">
				<a href="org/users" class="btn gf-form-btn btn-inverse">用户管理</a>
			</div>
			<div class="gf-form">
			<a href="org/apikeys" class="btn gf-form-btn btn-inverse">密钥管理</a>
		</div>
	</div>
</div>


