<navbar icon="fa fa-fw fa-list-alt" title-url="/report">
    <ul class="nav">
        <li class="active"><a href="/report" translate="page_report_title"></a></li>
        <li><a href="/report/template" translate="page_report_setting"></a></li>
        <!-- <li><a href="/report/edit">报告编辑</a></li>b -->
    </ul>
</navbar>

<div class="page-container" ng-init="ctrl.init()">
    <div class="page-header">
        <h2 translate="page_report_title"></h2>
    </div>

    <h4 class="report-title" translate="page_report_info"></h4>
    <h3 class="report-h3" translate="page_report_inspection"></h3> 
    <table class="table table-striped report-table" ng-if="ctrl.reports.length">
        <tbody>
            <tr>
                <th translate="page_report_id"></th>
                <th translate="page_report_title"></th>
                <th translate="page_topn_create_time"></th>
                <th translate="page_report_download"></th>
            </tr>
            <tr ng-repeat="report in ctrl.reports | orderBy: '-createdAt'">
                <td>{{$index + 1}}</td>
                <td width="50%"><a class="report-item" ng-click="ctrl.getReport(report)">{{report.startAt | date:'MM/dd/yyyy'}}-{{report.createdAt | date:'MM/dd/yyyy'}} <span translate="page_report"></span></a></td>
                <td>{{report.createdAt | date:'MM/dd/yyyy'}}</td>                
                <td><a class="report-item" ng-click="ctrl.getReport(report)" translate="page_report_download"></a></td>
            </tr>
        </tbody>
    </table>
    <p ng-if="!ctrl.reports.length" >您暂时没有巡检报告,您可以通过"<a href="/report/template" translate="page_report_setting"></a>"获得巡检报告</p>

    <h3 class="report-h3" translate="page_report_expert"></h3>
    <table class="table table-striped report-table" ng-if="ctrl.expertReports.length">
        <tbody>
            <tr>
                <th translate="page_report_id"></th>
                <th translate="page_report_title"></th>
                <th translate="page_report_download"></th>
            </tr>
            <tr ng-repeat="report in ctrl.expertReports">
                <td>{{$index + 1}}</td>
                <td width="50%"><a class="report-item" href="{{ctrl.reportDownloadUrl}}/{{report.reportUrl}}" target="_blank">{{report.reportName}}</a></td>
                <td><a class="report-item" href="{{ctrl.reportDownloadUrl}}/{{report.reportUrl}}" target="_blank" translate="page_report_download"></a></td>
            </tr>
        </tbody>
    </table>
    <p ng-if="!ctrl.expertReports.length" translate="page_report_expert_none"></p>
</div>